(this["webpackJsonprocations-dashboard-app"]=this["webpackJsonprocations-dashboard-app"]||[]).push([[0],{175:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(57),i=a.n(c),s=(a(175),a(150)),o=a(294),l=a(312),d=a(6),b=a(298),u="https://locations-dashboard.herokuapp.com",j="pk.eyJ1IjoibGVld2FuZ2RldiIsImEiOiJja2tnbDU2c2gwMHNvMndsdDF1d2pxNTQ2In0.zKeo06DtCh6fLifrbCZCFA",p={longitude:-79.3966596,latitude:43.6565291,zoom:14},x=window.google,m=new Date("2021-08-01"),h=a(20),O=a(18),v=a.n(O),g=a(27),f=a(301),A=a(297),y=a(309),L=a(307),R=a(296),C=a(224),U=a(295),w=a(302),W=a(142),I=a(139),T=a.n(I),B=a(140),k=a.n(B),S=a.p+"static/media/logo.3f900ba7.png",D=function(e){var t=e.getDate(),a=e.getMonth()+1;return(a<=9?"0"+a:a)+"/"+(t<=9?"0"+t:t)+"/"+e.getFullYear()},N=function(e){var t=parseInt(e,10),a=Math.floor(t/3600),n=Math.floor((t-3600*a)/60),r=t-3600*a-60*n;return a<10&&(a="0"+a),n<10&&(n="0"+n),r<10&&(r="0"+r),a+":"+n+":"+r},F=function(e){var t=e.split("/");return Date.UTC(t[2],parseInt(t[0])-1,t[1])/1e3},z=a(49),E=a.n(z),M=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(u,"/api/days"),e.next=4,E.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=a(1),P=Object(b.a)({header:{padding:"10px 20px",backgroundColor:"white"},logo:{height:80},headerTitle:{flex:1}}),K=null;var Z=function(e){var t=P(),a=e.setSearchLocation,r=e.address,c=e.setAddress,i=e.selectedDate,s=e.setSelectedDate,o=Object(n.useState)(!1),l=Object(d.a)(o,2),b=l[0],u=l[1],j=Object(n.useState)([]),p=Object(d.a)(j,2),m=p[0],O=p[1],I=function(e){u(!0),O([]),B(e)},B=function(e){K&&clearTimeout(K),K=setTimeout(Object(g.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M({date:D(e)});case 2:a=t.sent,u(!1),"success"===a.status&&O(a.result);case 5:case"end":return t.stop()}}),t)}))),500)};return Object(n.useEffect)((function(){var e=document.getElementById("input-address"),t=new x.maps.places.Autocomplete(e);x.maps.event.addListener(t,"place_changed",(function(){var e=t.getPlace();a(e.geometry.location.toJSON()),c(e.formatted_address)})),B(i)}),[]),Object(V.jsxs)(f.a,{container:!0,className:t.header,spacing:3,children:[Object(V.jsx)(f.a,{container:!0,item:!0,sm:4,justifyContent:"center",alignItems:"center",children:Object(V.jsx)("img",{src:S,className:t.logo})}),Object(V.jsx)(f.a,{container:!0,item:!0,sm:4,alignItems:"center",children:Object(V.jsx)(A.a,{id:"input-address",name:"address",placeholder:"Enter your address.",InputProps:{startAdornment:Object(V.jsx)(L.a,{position:"start",children:Object(V.jsx)(T.a,{})}),endAdornment:Object(V.jsx)(L.a,{position:"end",children:Object(V.jsx)(y.a,{"aria-label":"toggle password visibility",onClick:function(){c(""),document.getElementById("input-address").value=""},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:r&&Object(V.jsx)(k.a,{})})})},fullWidth:!0,autoComplete:"off"})}),Object(V.jsx)(f.a,{container:!0,item:!0,sm:4,alignItems:"center",children:Object(V.jsx)(C.b,{dateAdapter:R.a,children:Object(V.jsx)(U.a,{value:i,loading:b,renderLoading:function(){return Object(V.jsx)(w.a,{})},renderInput:function(e){return Object(V.jsx)(A.a,Object(h.a)({},e))},renderDay:function(e,t,a){var n=!a.outsideCurrentMonth&&m.indexOf(e.getDate())>-1;return Object(V.jsx)(W.a,Object(h.a)(Object(h.a)({},a),{},{style:{border:n?"1px solid #ff844b":0}}),e.toString())},onMonthChange:I,onYearChange:I,onChange:function(e){s(e)}})})})]})},H=a(311),Q=a(22),Y=(a(134),a(63)),J=a.n(Y),G=a(67),X=a.n(G),q=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(u,"/api/clusters"),e.next=4,E.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(u,"/api/counts"),e.next=4,E.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAyCAMAAAAKuilWAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAj1QTFRFAAAAUbvW/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWtXpTgAAAAL90Uk5TAAAJgbcodv/CBxrn/muw8hhClgXS/VYBiNEOIOxmBLv5LlerCNxRnOAUNPeJAMz7N2y+F+93r+k/+I0SyplgMRMDAg0lT4DL9VT81XMhCRIUDgIRTrPPBgr0hAsaYrfd5+njzYI0AUR49tc1Oa/6/9RnBRBIgwqF/cokk9NJEL/+60MIvO48A60dTZwGuvA+WaTx4DYNaIspkx/70iiW6jfvjablLS/2fHDFC4zWfcZQ2/WKYdn87ZQbbJGomkgzCm4xAAAB9ElEQVR4nGNgIBkw4pVlYmZhxaubjZ2dgxOPAi5udnYeXjwK+NiBgF8Ap7wgOxgICeOQFxCBKBAVwy4vLsEOBZJSWBVIy8AU8Mhik5eTZ4cDBUUsCpR4EArYlcUx5FVUkeTZRdUwXKjOjgI0NNEUaGmjKmDX0UV1oR6aPLu+AYoCQ3R5dnYjZHcam2AqYDdFyAubYZFnN5eGK7CwxKaA3QrmTmsbMJ/b1s7ewdHJ2cXVzV0UJODhCZFndPMCBr+3j68TA6Off0BgEINucEgoyNCwcLCCiEhg4EdFMzDExMbFJyQmJaekpjE4pWsAVWSAFQRnsmdlMzDk5Oblw0BBYRFDsboou4gjWEVJqSZDWXlFPjKorGJwrK6phfujrr4hHxU0NjHoOsHlm1vyMUBrGyKg2jsw5fPzEzvhCrrysCnI726Hyvf0YpXP7+uHKpiA3YD8/Fyogok45PMnNUMUTMalIH8KWH4qehAgwDSwgiqc8vnTwQpm4FYwE6xgFm4F5ZBgmI1TwQSIL+bgVDAXomAeLvn50LBesBCHgkWwyFyMXX7JUlhsLluOVcEKeHQzrsQWmKtWI1IMwxpM+bUBSPIMResq0OTXdzKggLQNG5GlN22eyoAOerZs3QaV3r5jJ4Y0ON5Td+2euGfvin0xaVjlsQMAFN44ROMgIzgAAAAASUVORK5CYII=",ee=a(304),te=a(308),ae=a(310),ne=a(303),re=a(306),ce=a(313),ie=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(u,"/api/marker/info"),e.next=4,E.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(u,"/api/marker/tracking"),e.next=4,E.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=Object(b.a)({paper:{marginBottom:20,"&.MuiPaper-root":{padding:"30px 30px 20px 30px"}},paperHeader:{paddingBottom:10,marginBottom:20,borderBottom:"1px solid #e3ebf1"}});var le=function(e){var t=e.params,a=oe(),r=Object(n.useState)(null),c=Object(d.a)(r,2),i=c[0],s=c[1];Object(n.useEffect)((function(){o()}),[]);var o=function(){var e=Object(g.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie({date:t.date,id:t.id});case 2:"success"===(a=e.sent).status?s(a.result):s(null);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(re.a,{className:a.paper,children:[Object(V.jsx)(f.a,{container:!0,className:a.paperHeader,children:Object(V.jsx)(te.a,{variant:"h6",children:"Device Identification"})}),Object(V.jsxs)(f.a,{container:!0,spacing:1,alignItems:"center",children:[Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Advertiser ID"})}),Object(V.jsx)(f.a,{item:!0,md:9,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.advertiser_id})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Country"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.final_country})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Platform"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.platform})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Device Model"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.device_model})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"IPV 4"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.ipv_4})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"IPV 6"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.ipv_6})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Wifi SSID"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.wifi_ssid})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Wifi BSSID"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.wifi_bssid})})]})]}),Object(V.jsxs)(re.a,{className:a.paper,children:[Object(V.jsx)(f.a,{container:!0,className:a.paperHeader,children:Object(V.jsx)(te.a,{variant:"h6",children:"Device Location"})}),Object(V.jsxs)(f.a,{container:!0,spacing:1,alignItems:"center",children:[Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Location time"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:"UTC ".concat(N(i.location_at-F(t.date))," ").concat(t.date)})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Location"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:"[ ".concat(i.longitude,", ").concat(i.latitude," ]")})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Altitude"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:"".concat(i.altitude," m")})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Horizontal Accuracy"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:"".concat(i.horizontal_accuracy," m")})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Vertical Accuracy"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:"".concat(i.vertical_accuracy," m")})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Heading"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.heading})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Speed"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:"".concat(i.speed," m/s")})})]})]}),Object(V.jsxs)(re.a,{className:a.paper,children:[Object(V.jsx)(f.a,{container:!0,className:a.paperHeader,children:Object(V.jsx)(te.a,{variant:"h6",children:"Other Information"})}),Object(V.jsxs)(f.a,{container:!0,spacing:1,alignItems:"center",children:[Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"User Agent"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.user_agent})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Publisher ID"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.publisher_id})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Technical Signals"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Background"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.background})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Carrier"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.carrier})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Venue Name"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.venue_name})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Venue Category"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.venue_category})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Dwell Time"})}),Object(V.jsx)(f.a,{item:!0,md:3,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:i.dwell_time})})]})]})]}):Object(V.jsx)(f.a,{container:!0,justifyContent:"center",children:Object(V.jsx)(ce.a,{})})},de=a(299),be=a(83);var ue=function(e){var t=e.params,a=e.info;return Object(V.jsxs)(f.a,{container:!0,style:{maxWidth:350,padding:10},children:[Object(V.jsx)(f.a,{item:!0,xs:12,children:Object(V.jsx)(te.a,{variant:"h6",style:{marginBottom:10,borderBottom:"1px solid #e3ebf1"},children:"Location Information"})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Time"})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:"UTC ".concat(N(a.location_at-F(t.date))," ").concat(t.date)})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Location"})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:"[ ".concat(a.longitude,", ").concat(a.latitude," ]")})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Altitude"})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:"".concat(a.altitude," m")})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Heading"})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:a.heading})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Speed"})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:"".concat(a.speed," m/s")})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Horizontal Accuracy"})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:"".concat(a.horizontal_accuracy," m")})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"subtitle2",children:"Vertical Accuracy"})}),Object(V.jsx)(f.a,{item:!0,xs:6,children:Object(V.jsx)(te.a,{variant:"caption",children:"".concat(a.vertical_accuracy," m")})})]})};J.a.workerClass=a(135).default;var je=Object(b.a)({mapContainer:{flex:1,position:"relative"},mapDiv:{border:"1px solid #e3ebf1","& .mapboxgl-ctrl-logo":{display:"none"}},timeslider:{position:"absolute",bottom:10,left:0,right:0,"& .MuiPaper-root":{width:"70%",paddingTop:10,paddingBottom:5,paddingLeft:40,paddingRight:40,backgroundColor:"rgba(255,255,255,0.7)"},"&.MuiSlider-root":{width:"60%"}}});var pe=function(e){var t=je(),a=e.params,r=Object(n.useRef)(null),c=Object(n.useState)({longitude:a.geometry.coordinates[0],latitude:a.geometry.coordinates[1],zoom:15}),i=Object(d.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(null),b=Object(d.a)(l,2),u=b[0],p=b[1],x=Object(n.useState)({min:0,max:100,step:1,defaultValue:0,marks:[]}),m=Object(d.a)(x,2),O=m[0],A=m[1],y=Object(n.useState)(0),L=Object(d.a)(y,2),R=L[0],C=L[1],U=Object(n.useState)(""),w=Object(d.a)(U,2),W=w[0],I=w[1],T=Object(n.useState)({type:"FeatureCollection",features:[]}),B=Object(d.a)(T,2),k=B[0],S=B[1],D=Object(n.useState)([]),z=Object(d.a)(D,2),E=z[0],M=z[1],P=Object(n.useState)({type:"FeatureCollection",features:[]}),K=Object(d.a)(P,2),Z=K[0],H=K[1],Y=Object(n.useState)({type:"FeatureCollection",features:[]}),J=Object(d.a)(Y,2),G=J[0],X=J[1],q=Object(n.useState)(null),_=Object(d.a)(q,2),ee=_[0],ae=_[1],ne=Object(n.useCallback)((function(e){if(e.features&&e.features.length>0){var t=e.features[0];"points-layer"===t.layer.id?ae({longitude:e.lngLat[0],latitude:e.lngLat[1],data:t.properties}):ae(null)}else ae(null)}),[]),ce=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,c,i,l,d,b,u,j,x,m,O,g,f,A,y,L,R,U,w,W,T,B,k;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se({date:a.date,id:a.id});case 2:if("success"===(t=e.sent).status){for(n=t.result,c=be.bbox(n),i=r.current.getMap(),l=new Q.g(Object(h.a)(Object(h.a)({},s),{},{width:i.getCanvas().width,height:i.getCanvas().height})).fitBounds([[c[0],c[1]],[c[2],c[3]]],{padding:40}),d=l.longitude,b=l.latitude,u=l.zoom,o(Object(h.a)(Object(h.a)({},s),{},{longitude:d,latitude:b,zoom:u})),S(n),p(["points-layer"]),j=n.features,x=0,j.forEach((function(e){if(e.properties.id==a.id)return H({type:"FeatureCollection",features:[e]}),x=parseInt(e.properties.location_at),C(x),void I("UTC ".concat(N(x-F(a.date))," ").concat(a.date))})),m=[],O=0;O<j.length-1;O++)if(g=parseInt(j[O].properties.location_at),f=parseInt(j[O+1].properties.location_at),A=(f-g)/30,y=be.bearing(j[O],j[O+1]),A>1)for(L=0;g<f;)R=parseFloat(j[O].properties.latitude),U=parseFloat(j[O].properties.longitude),w=parseFloat(j[O+1].properties.latitude),W=parseFloat(j[O+1].properties.longitude),T=R+(w-R)*L/A,B=U+(W-U)*L/A,m.push({latitude:T,longitude:B,time:g,heading:be.bearingToAzimuth(y)}),g+=30,L++;else m.push({latitude:parseFloat(j[O].properties.latitude),longitude:parseFloat(j[O].properties.longitude),time:g,heading:be.bearingToAzimuth(y)});M(m),k={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}}]},m.forEach((function(e){e.time<=x&&k.features[0].geometry.coordinates.push([e.longitude,e.latitude])})),X(k)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=r.current.getMap();e.loadImage($,(function(t,a){if(t)throw t;e.addImage("marker-icon",a)}));var t=F(a.date);A({min:t,max:t+86399,defaultValue:t+86399,step:30,marks:[{value:t,label:"0"},{value:t+10800,label:"3"},{value:t+21600,label:"6"},{value:t+32400,label:"9"},{value:t+43200,label:"12"},{value:t+54e3,label:"15"},{value:t+64800,label:"18"},{value:t+75600,label:"21"},{value:t+86400,label:"24"}]}),C(t),I("UTC ".concat(N(0)," ").concat(a.date)),ce()}),[]),Object(V.jsxs)("div",{className:t.mapContainer,children:[Object(V.jsxs)(Q.h,Object(h.a)(Object(h.a)({className:t.mapDiv},s),{},{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/light-v10",mapboxApiAccessToken:j,attributionControl:!1,maxZoom:22,ref:r,interactiveLayerIds:u,onViewportChange:o,onHover:ne,children:[Object(V.jsx)(Q.f,{id:"trackLine",type:"geojson",data:G,children:Object(V.jsx)(Q.a,{id:"trackLine",type:"line",filter:["==","$type","LineString"],paint:{"line-color":"cyan","line-opacity":.75,"line-width":4}})}),Object(V.jsx)(Q.f,{id:"points",type:"geojson",data:k,children:Object(V.jsx)(Q.a,{id:"points-layer",type:"circle",source:"points",paint:{"circle-color":"#1976d2","circle-radius":6}})}),Object(V.jsx)(Q.f,{id:"trackPoint",type:"geojson",data:Z,children:Object(V.jsx)(Q.a,{id:"track-point-layer",type:"symbol",source:"trackPoint",layout:{"icon-image":"marker-icon","icon-size":.6,"icon-rotate":["get","heading"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-rotation-alignment":"map","icon-pitch-alignment":"viewport"}})}),ee&&Object(V.jsx)(Q.d,{longitude:ee.longitude,latitude:ee.latitude,closeButton:!1,children:Object(V.jsx)(ue,{info:ee.data,params:a})})]})),Object(V.jsx)(f.a,{container:!0,className:t.timeslider,justifyContent:"center",children:Object(V.jsxs)(re.a,{children:[Object(V.jsx)(te.a,{variant:"h6",align:"center",children:W}),Object(V.jsx)(de.a,Object(h.a)({"aria-label":"track time",value:R,onChange:function(e,t){C(t),I("UTC ".concat(N(t-F(a.date))," ").concat(a.date));var n={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}}]},r=null;if(E.forEach((function(e){e.time<=t&&(n.features[0].geometry.coordinates.push([e.longitude,e.latitude]),r=e)})),X(n),r){var c={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[r.longitude,r.latitude]},properties:{heading:r.heading}}]};H(c)}},style:{color:"#ff844b"}},O))]})})]})},xe=Object(b.a)({drawer:{"& .MuiBackdrop-root":{},"&>.MuiPaper-root":{display:"flex",flexDirection:"column",width:"50%",minWidth:400,padding:"20px 40px",backgroundColor:"#f1f6fa",boxSizing:"border-box"}},drawerHeader:{display:"flex",flexDirection:"row",paddingTop:20,paddingBottom:16,marginBottom:20,borderBottom:"1px solid #e3ebf1"}});var me=function(e){var t,a=xe(),r=e.markerPanelInfo,c=e.setMarkerPanelInfo,i=Object(n.useState)("properties"),s=Object(d.a)(i,2),o=s[0],l=s[1];return Object(V.jsxs)(ee.a,{className:a.drawer,anchor:"left",open:!0,onClose:(t=!1,function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&c(Object(h.a)(Object(h.a)({},r),{},{open:t}))}),children:[Object(V.jsxs)(f.a,{container:!0,className:a.drawerHeader,justifyContent:"space-between",alignItems:"center",children:[Object(V.jsx)(te.a,{variant:"h6",children:"Device Information"}),Object(V.jsxs)(ne.a,{value:o,exclusive:!0,onChange:function(e,t){null!==t&&l(t)},"aria-label":"marker button group",children:[Object(V.jsx)(ae.a,{value:"properties","aria-label":"Properties",children:"Properties"}),Object(V.jsx)(ae.a,{value:"tracking","aria-label":"Tracking",children:"Tracking"})]})]}),"properties"===o&&Object(V.jsx)(le,{params:r}),"tracking"===o&&Object(V.jsx)(pe,{params:r})]})};J.a.workerClass=a(135).default;var he=Object(b.a)({mapDiv:{"& .mapboxgl-ctrl-logo":{display:"none"}},addressLabel:{display:"flex",alignItems:"center",padding:"0 10px",width:240,height:60,color:"#000",fontSize:14,lineHeight:"14px",borderLeft:"2px solid #ff0000",backgroundColor:"rgba(255,255,255,0.8)",pointerEvents:"none"}}),Oe=null;var ve=function(e){var t=he(),a=e.searchLocation,r=e.address,c=e.selectedDate,i=e.timeRange,s=e.setCounts,o=Object(n.useRef)(null),l=Object(n.useState)(p),b=Object(d.a)(l,2),u=b[0],x=b[1],m=Object(n.useState)(null),O=Object(d.a)(m,2),f=O[0],A=O[1],y=Object(n.useState)({type:"FeatureCollection",features:[]}),L=Object(d.a)(y,2),R=L[0],C=L[1],U=Object(n.useState)(!0),w=Object(d.a)(U,2),W=w[0],I=w[1],T=Object(n.useState)(!1),B=Object(d.a)(T,2),k=B[0],S=B[1],N=function(){var e=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.features&&t.features.length>0&&("cluster-layer"===(a=t.features[0]).layer.id?x(Object(h.a)(Object(h.a)({},u),{},{longitude:a.geometry.coordinates[0],latitude:a.geometry.coordinates[1],zoom:u.zoom+1,transitionDuration:500})):"unclustered-point-layer"===a.layer.id&&S(Object(h.a)(Object(h.a)({},k),{},{open:!0,date:D(c),id:a.properties.id,geometry:a.geometry})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=o.current.getMap();e.loadImage($,(function(t,a){if(t)throw t;e.addImage("marker-icon",a)}))}),[]),Object(n.useEffect)((function(){a&&x(Object(h.a)(Object(h.a)({},u),{},{latitude:a.lat,longitude:a.lng,zoom:16}))}),[a]),Object(n.useEffect)((function(){o.current.getMap().on("moveend",F),F()}),[c,i]);var F=function(){var e=o.current.getMap();e.getZoom()<14?C({type:"FeatureCollection",features:[]}):(Oe&&clearTimeout(Oe),Oe=setTimeout(Object(g.a)(v.a.mark((function t(){var a,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I(!0),t.next=3,q({date:D(c),timeRange:i,zoom:e.getZoom(),bounds:e.getBounds().toArray().flat()});case 3:return a=t.sent,I(!1),"success"===a.status?a.result&&a.result.features&&(a.result.features.forEach((function(e){var t=X()(e.properties.point_count).format("0.[0] a").toUpperCase();e.properties.point_count>=1e3&&(t+="+"),e.properties.point_count_abbreviated=t})),C(a.result)):C({type:"FeatureCollection",features:[]}),A(["cluster-layer","unclustered-point-layer"]),t.next=9,_({date:D(c),timeRange:i,bounds:e.getBounds().toArray().flat()});case 9:"success"===(a=t.sent).status?((n=[]).TOTAL=0,a.result.forEach((function(e){n[e.platform]=e.count,n.TOTAL+=parseInt(e.count)})),s(n)):s([]);case 11:case"end":return t.stop()}}),t)}))),500))};return Object(V.jsxs)(Q.h,Object(h.a)(Object(h.a)({className:t.mapDiv},u),{},{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/light-v10",mapboxApiAccessToken:j,ref:o,attributionControl:!1,maxZoom:24,minZoom:14,onViewportChange:x,interactiveLayerIds:f,onClick:N,children:[Object(V.jsxs)(Q.f,{id:"clusterSource",type:"geojson",data:R,children:[Object(V.jsx)(Q.a,{id:"cluster-layer",type:"circle",source:"clusterSource",filter:[">","point_count",1],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,100,30,750,40]}}),Object(V.jsx)(Q.a,{id:"cluster-count-layer",type:"symbol",source:"clusterSource",filter:[">","point_count",1],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}}),Object(V.jsx)(Q.a,{id:"unclustered-point-layer",type:"symbol",source:"clusterSource",filter:["==","point_count",1],layout:{"icon-image":"marker-icon","icon-size":.6,"icon-rotate":["get","heading"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-rotation-alignment":"map","icon-pitch-alignment":"viewport"}}),k.open&&Object(V.jsx)(Q.a,{id:"select-point-layer",type:"circle",source:"clusterSource",filter:["==","id",k.id],paint:{"circle-radius":20,"circle-color":"transparent","circle-stroke-color":"#ff844b","circle-stroke-width":2}})]}),Object(V.jsx)(Q.c,{style:{top:10,right:10}}),Object(V.jsx)(Q.e,{style:{bottom:10,left:10}}),a&&r&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Q.b,{longitude:a.lng,latitude:a.lat,offsetLeft:-16,offsetTop:-32,children:Object(V.jsx)("img",{src:"data:image/png;base64,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",alt:"marker"})}),Object(V.jsx)(Q.b,{longitude:a.lng,latitude:a.lat,offsetLeft:16,offsetTop:-46,children:Object(V.jsx)("div",{className:t.addressLabel,children:r})})]}),k.open&&Object(V.jsx)(me,{markerPanelInfo:k,setMarkerPanelInfo:S}),W&&Object(V.jsx)(H.a,{})]}))},ge=Object(b.a)({timeslider:{position:"absolute",bottom:10,left:0,right:0,"& .MuiPaper-root":{width:"50%",paddingTop:10,paddingBottom:5,paddingLeft:40,paddingRight:40,backgroundColor:"rgba(255,255,255,0.7)"},"&.MuiSlider-root":{width:"60%"}}});var fe=function(e){var t=ge(),a=e.selectedDate,r=e.timeRange,c=e.setTimeRange,i=Object(n.useState)({min:0,max:100,step:1,defaultValue:0,marks:[]}),s=Object(d.a)(i,2),o=s[0],l=s[1],b=Object(n.useState)(""),u=Object(d.a)(b,2),j=u[0],p=u[1];return Object(n.useEffect)((function(){var e=F(D(a));l({min:e,max:e+86399,step:30,defaultValue:[e,e+86399],marks:[{value:e,label:"0"},{value:e+10800,label:"3"},{value:e+21600,label:"6"},{value:e+32400,label:"9"},{value:e+43200,label:"12"},{value:e+54e3,label:"15"},{value:e+64800,label:"18"},{value:e+75600,label:"21"},{value:e+86400,label:"24"}]}),c([e,e+86399]),p("UTC ".concat(N(0)," - ").concat(N(86399)," ").concat(D(a)))}),[a]),Object(V.jsx)(f.a,{container:!0,className:t.timeslider,justifyContent:"center",children:Object(V.jsxs)(re.a,{children:[Object(V.jsx)(te.a,{variant:"h6",align:"center",children:j}),Object(V.jsx)(de.a,Object(h.a)({getAriaLabel:function(){return"Time range"},value:r,onChange:function(e,t){c(t);var n=F(D(a));p("UTC ".concat(N(t[0]-n)," - ").concat(N(t[1]-n)," ").concat(D(a)))},style:{color:"#ff844b"}},o))]})})},Ae=a(145),ye=a.n(Ae),Le=a(146),Re=a.n(Le),Ce=a(147),Ue=a.n(Ce);var we=function(e){var t=e.counts;return Object(V.jsxs)(f.a,{container:!0,spacing:2,flexDirection:"row",style:{marginBottom:50},children:[Object(V.jsx)(f.a,{item:!0,sm:4,xs:12,children:Object(V.jsxs)(re.a,{children:[Object(V.jsxs)(f.a,{container:!0,alignItems:"center",children:[Object(V.jsx)(ye.a,{color:"primary"}),Object(V.jsx)(te.a,{variant:"caption",children:"Total Devices"})]}),Object(V.jsx)(te.a,{variant:"h5",style:{marginLeft:20},children:t.TOTAL?X()(t.TOTAL).format("0,0"):0})]})}),Object(V.jsx)(f.a,{item:!0,sm:4,xs:12,children:Object(V.jsxs)(re.a,{children:[Object(V.jsxs)(f.a,{container:!0,alignItems:"center",children:[Object(V.jsx)(Re.a,{color:"primary"}),Object(V.jsx)(te.a,{variant:"caption",children:"Android"})]}),Object(V.jsx)(te.a,{variant:"h5",style:{marginLeft:20},children:t.AAID?X()(t.AAID).format("0,0"):0})]})}),Object(V.jsx)(f.a,{item:!0,sm:4,xs:12,children:Object(V.jsxs)(re.a,{children:[Object(V.jsxs)(f.a,{container:!0,alignItems:"center",children:[Object(V.jsx)(Ue.a,{color:"secondary"}),Object(V.jsx)(te.a,{variant:"caption",children:"iPhone"})]}),Object(V.jsx)(te.a,{variant:"h5",style:{marginLeft:20},children:t.IDFA?X()(t.IDFA).format("0,0"):0})]})})]})},We=a(148),Ie=Object(b.a)({paper:{display:"flex",flexDirection:"column",width:"100%",height:"100%",marginBottom:20,"&.MuiPaper-root":{padding:"30px 30px 20px 30px",backgroundColor:"transparent",border:"4px solid #e3ebf1",boxShadow:"none"}},paperHeader:{paddingBottom:10,marginBottom:20,borderBottom:"1px solid #e3ebf1"}});var Te=function(e){var t=Ie(),a=e.counts,r=Object(n.useState)("platform"),c=Object(d.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)([]),l=Object(d.a)(o,2),b=l[0],u=l[1];return Object(n.useEffect)((function(){var e=[["Platform","Count",{role:"style"}],["AAID",parseInt(a.AAID),"#000"],["IDFA",parseInt(a.IDFA),"#000"]];u(e)}),[a]),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(f.a,{container:!0,justifyContent:"center",style:{marginBottom:40},children:Object(V.jsxs)(ne.a,{value:i,exclusive:!0,onChange:function(e,t){null!==t&&s(t)},"aria-label":"chart button group",children:[Object(V.jsx)(ae.a,{value:"platform","aria-label":"Platform",children:"Platform"}),Object(V.jsx)(ae.a,{value:"category_1","aria-label":"Category 1",children:"Category 1"}),Object(V.jsx)(ae.a,{value:"category_2","aria-label":"Category 2",children:"Category 2"})]})}),Object(V.jsx)(f.a,{container:!0,justifyContent:"center",style:{width:"100%",height:500,padding:20},children:Object(V.jsxs)(re.a,{className:t.paper,children:[Object(V.jsx)(te.a,{variant:"h6",className:t.paperHeader,children:"Device Platform"}),Object(V.jsx)(We.a,{width:"100%",height:"100%",chartType:"PieChart",data:b,options:{pieHole:.5,legend:{position:"top",alignment:"center"},backgroundColor:"transparent"},rootProps:{"data-testid":"1"},style:{flex:1,opacity:.9}})]})})]})},Be=Object(b.a)({root:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},content:{flex:1,display:"flex",flexDirection:"row",backgroundColor:"#f1f6fa"},chartContainer:{width:540,padding:20},mapContainer:{flex:1,position:"relative"}});var ke=function(){var e=Be(),t=Object(n.useState)(null),a=Object(d.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(null),s=Object(d.a)(i,2),o=s[0],l=s[1],b=Object(n.useState)(m),u=Object(d.a)(b,2),j=u[0],p=u[1],x=Object(n.useState)([F(D(m)),F(D(m))+86399]),h=Object(d.a)(x,2),O=h[0],v=h[1],g=Object(n.useState)([]),f=Object(d.a)(g,2),A=f[0],y=f[1];return Object(V.jsxs)("div",{className:e.root,children:[Object(V.jsx)(Z,{setSearchLocation:c,address:o,setAddress:l,selectedDate:j,setSelectedDate:p}),Object(V.jsxs)("div",{className:e.content,children:[Object(V.jsxs)("div",{className:e.chartContainer,children:[Object(V.jsx)(we,{counts:A}),Object(V.jsx)(Te,{counts:A})]}),Object(V.jsxs)("div",{className:e.mapContainer,children:[Object(V.jsx)(ve,{searchLocation:r,address:o,selectedDate:j,timeRange:O,setCounts:y}),Object(V.jsx)(fe,{selectedDate:j,timeRange:O,setTimeRange:v})]})]})]})},Se=Object(s.a)({components:{MuiPaper:{styleOverrides:{root:{padding:10,boxShadow:"0px 24px 48px -4px #06192114"}}},MuiTextField:{styleOverrides:{root:{paddingLeft:20,paddingRight:20,borderRadius:72,backgroundColor:"#f1f6fa"}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{border:0}}},MuiToggleButtonGroup:{styleOverrides:{root:{borderRadius:50,backgroundColor:"#e3ebf1"},grouped:{"&:first-of-type":{marginLeft:0},"&:last-of-type":{marginRight:0},"&:not(:first-of-type)":{borderTopLeftRadius:50,borderBottomLeftRadius:50},"&:not(:last-of-type)":{borderTopRightRadius:50,borderBottomRightRadius:50}}}},MuiToggleButton:{styleOverrides:{root:{border:0,borderRadius:50,textTransform:"none",padding:"10px 20px",marginLeft:10,marginRight:10,"&.Mui-selected":{color:"#fff",backgroundColor:"#ff844b"}}}},MuiInputAdornment:{styleOverrides:{root:{color:"#ff844b"}}},MuiIconButton:{styleOverrides:{root:{color:"#ff844b"}}}}});Se=Object(o.a)(Se);var De=function(){return Object(V.jsx)(l.a,{theme:Se,children:Object(V.jsx)(ke,{})})},Ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,315)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(V.jsx)(r.a.StrictMode,{children:Object(V.jsx)(De,{})}),document.getElementById("root")),Ne()}},[[217,1,2]]]);
//# sourceMappingURL=main.06058d50.chunk.js.map