{"version":3,"sources":["assets/images/logo.png","components/locations-dashboard/Header.js","utils/settings.js","services/cluster.js","components/locations-dashboard/MarkerInfo.js","components/locations-dashboard/Map.js","assets/images/marker-icon.png","components/locations-dashboard/Counts.js","components/locations-dashboard/Charts.js","components/locations-dashboard/Main.js","components/App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","header","padding","backgroundColor","logo","height","headerTitle","flex","Header","props","classes","selectedDate","setSelectedDate","Grid","container","className","spacing","item","sm","justifyContent","alignItems","src","imgLogo","Typography","variant","align","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","label","value","onChange","newValue","renderInput","params","TextField","MAPBOX_ACCESS_TOKEN","DEFAULT_VIEWPORT","longitude","latitude","zoom","getClusters","a","result","url","axios","post","then","response","data","catch","err","status","message","MarkerInfo","open","markerInfo","setMarkerInfo","useEffect","console","log","Drawer","ModalProps","document","getElementById","style","position","anchor","onClose","event","type","key","mapboxgl","workerClass","require","default","mapDiv","display","timeout","Map","mapRef","useRef","useState","viewport","setViewport","features","clusterSource","setClusterSource","showLoading","setShowLoading","handleClick","e","length","feature","layer","id","geometry","coordinates","transitionDuration","properties","map","current","getMap","loadImage","error","image","addImage","on","mapDataCallback","getZoom","clearTimeout","setTimeout","dateString","toString","bounds","getBounds","toArray","flat","res","forEach","abbr","numeral","format","toUpperCase","width","mapStyle","mapboxApiAccessToken","ref","attributionControl","maxZoom","minZoom","onViewportChange","interactiveLayerIds","onClick","source","filter","paint","layout","placeholder","bottom","left","right","LinearProgress","Counts","flexDirection","marginBottom","lg","md","xs","Paper","color","marginLeft","Charts","toggleValue","setToggleValue","ToggleButtonGroup","exclusive","ToggleButton","root","content","leftContainer","mapContainer","Main","theme","createTheme","components","MuiPaper","styleOverrides","boxShadow","MuiToggleButtonGroup","borderRadius","grouped","marginRight","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","MuiToggleButton","border","textTransform","responsiveFontSizes","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d2fb9aa4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.3f900ba7.png\";","import React, { useState} from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Typography from '@mui/material/Typography';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\n\r\nimport imgLogo from \"../../assets/images/logo.png\";\r\n\r\nconst useStyles = makeStyles({\r\n    header:{\r\n       padding:'10px 20px',\r\n       backgroundColor:'white'\r\n    },\r\n    logo:{\r\n        height: 80\r\n    },\r\n    headerTitle:{\r\n       flex:1\r\n    }\r\n });\r\n \r\n function Header(props) {\r\n     const classes = useStyles();\r\n     const { selectedDate, setSelectedDate } = props;\r\n     return (\r\n        <Grid container className={classes.header} spacing={3}>\r\n            <Grid container item sm={4} justifyContent=\"center\" alignItems=\"center\">\r\n                <img src={imgLogo} className={classes.logo} />\r\n            </Grid>\r\n            <Grid container item sm={4} justifyContent=\"center\" alignItems=\"center\">\r\n                <Typography className={classes.headerTitle} variant=\"h4\" align=\"center\">\r\n                    Locations Dashboard\r\n                </Typography>\r\n            </Grid>\r\n            <Grid container item sm={4} justifyContent=\"center\" alignItems=\"center\">\r\n                <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                    <DatePicker\r\n                        label=\"Locations Date\"\r\n                        value={selectedDate}\r\n                        onChange={(newValue) => {\r\n                            setSelectedDate(newValue);\r\n                        }}\r\n                        renderInput={(params) => <TextField {...params} />}\r\n                    />\r\n                </LocalizationProvider>\r\n            </Grid>\r\n        </Grid>\r\n     );\r\n }\r\n\r\nexport default Header;","\r\n//export const BASE_URL = 'http://localhost:8080';\r\n\r\nexport const BASE_URL = 'https://locations-dashboard.herokuapp.com';\r\n\r\nexport const MAPBOX_ACCESS_TOKEN = 'pk.eyJ1IjoibGVld2FuZ2RldiIsImEiOiJja2tnbDU2c2gwMHNvMndsdDF1d2pxNTQ2In0.zKeo06DtCh6fLifrbCZCFA';\r\n\r\nexport const DEFAULT_VIEWPORT = {\r\n    longitude: -79.3966596,\r\n    latitude: 43.6565291,\r\n    zoom: 11\r\n}","import axios from \"axios\";\r\nimport { BASE_URL } from \"../utils/settings.js\";\r\n\r\nexport const getClusters = async (params) => {\r\n    var result = null;\r\n    \r\n    let url = `${BASE_URL}/api/clusters`;\r\n  \r\n    await axios.post(url, params).then((response) => {\r\n        result = response.data;\r\n    }).catch((err) => {\r\n      result = {\r\n        status: \"failed\",\r\n        message: \"No internet connection\",\r\n      };\r\n    });\r\n    return result;\r\n  };","import React, { useEffect } from 'react';\r\nimport Drawer from '@mui/material/Drawer';\r\n\r\nfunction MarkerInfo(props) {\r\n    const {\r\n        markerInfo,\r\n        setMarkerInfo\r\n    } = props;\r\n\r\n    const toggleDrawer = (open) => (event) => {\r\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n            return;\r\n        }\r\n        setMarkerInfo({\r\n            ...markerInfo,\r\n            open: open\r\n        });\r\n    };\r\n\r\n   useEffect(()=>{\r\n      console.log(markerInfo);\r\n   }, [markerInfo]);\r\n\r\n   return (\r\n        <Drawer\r\n            ModalProps={{\r\n               container:document.getElementById(\"map-container\"),\r\n               style: {position:'absolute'}\r\n            }}\r\n            anchor=\"right\"\r\n            open={true}\r\n            onClose={toggleDrawer(false)}\r\n        >\r\n        maker info details\r\n        </Drawer>\r\n   );\r\n}\r\n\r\nexport default MarkerInfo;","\r\nimport React, { useState, useEffect, useRef } from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\n\r\nimport ReactMapGL, { \r\n           Source,\r\n           Layer,\r\n           ScaleControl,\r\n           NavigationControl\r\n       } from 'react-map-gl';\r\n\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport 'react-map-gl-geocoder/dist/mapbox-gl-geocoder.css'\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nimport Geocoder from 'react-map-gl-geocoder'\r\n\r\nimport numeral from \"numeral\";\r\n\r\nimport { MAPBOX_ACCESS_TOKEN, DEFAULT_VIEWPORT } from \"../../utils/settings.js\";\r\nimport { getClusters } from \"../../services/cluster.js\";\r\n\r\n\r\nimport iconMarker from \"../../assets/images/marker-icon.png\";\r\n\r\nimport MarkerInfo from \"./MarkerInfo.js\";\r\n\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\nconst useStyles = makeStyles({\r\n   mapDiv:{\r\n      '& .mapboxgl-ctrl-logo': {\r\n         display: 'none'\r\n       }\r\n   }\r\n});\r\n\r\nlet timeout = null;\r\n\r\nfunction Map(props) {\r\n    const classes = useStyles();\r\n    const { selectedDate } = props;\r\n    const mapRef = useRef(null);\r\n    const [viewport, setViewport] = useState(DEFAULT_VIEWPORT);\r\n\r\n    const [clusterSource, setClusterSource] = useState({\r\n        type: 'FeatureCollection',\r\n        features:[]\r\n    });\r\n    const [showLoading, setShowLoading] = useState(true);\r\n    \r\n    const [markerInfo, setMarkerInfo] = useState(false);\r\n\r\n    const handleClick = async (e) => {\r\n        if(e.features && e.features.length>0){\r\n            const feature = e.features[0];\r\n            if(feature.layer.id === 'cluster-layer'){\r\n                setViewport({\r\n                    ...viewport,\r\n                    longitude: feature.geometry.coordinates[0],\r\n                    latitude: feature.geometry.coordinates[1],\r\n                    zoom: viewport.zoom + 1,\r\n                    transitionDuration: 500\r\n                });\r\n            }else if(feature.layer.id === 'unclustered-point-layer'){\r\n                setMarkerInfo({\r\n                    ...markerInfo,\r\n                    open:true,\r\n                    id:feature.properties[\"id\"]\r\n                });\r\n                /*\r\n                let res = await getMarkerInfo({\r\n                    dateString:selectedDate.toString(),\r\n                    id:feature.properties[\"id\"]\r\n                });\r\n                if(res.status === 'success'){\r\n                    setMarkerInfo(res.result);\r\n                }else{\r\n                    setMarkerInfo(null);\r\n                }\r\n                */\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n\r\n        const map = mapRef.current.getMap();\r\n        \r\n        map.loadImage(iconMarker, (error, image) => {\r\n            if (error) throw error;\r\n            // Add the image to the map style.\r\n            map.addImage('marker-icon', image);\r\n        });\r\n\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n\r\n       const map = mapRef.current.getMap();\r\n\r\n       map.on('moveend', mapDataCallback);\r\n\r\n       mapDataCallback();\r\n\r\n    }, [selectedDate]);\r\n\r\n    const mapDataCallback = () => {\r\n        const map = mapRef.current.getMap();\r\n        if(map.getZoom()<13){\r\n            setClusterSource({\r\n                type: 'FeatureCollection',\r\n                features:[]\r\n            });\r\n            return;\r\n        } \r\n        if(timeout){\r\n            clearTimeout(timeout);\r\n        }\r\n        timeout = setTimeout(async () => {\r\n           setShowLoading(true);\r\n           let res = await getClusters({\r\n               dateString:selectedDate.toString(),\r\n               zoom: map.getZoom(),\r\n               bounds: map.getBounds().toArray().flat()\r\n           });\r\n           setShowLoading(false);\r\n           if(res.status === 'success'){\r\n               if(res.result && res.result.features){\r\n                    res.result.features.forEach(feature => {\r\n                        var abbr = numeral(feature.properties[\"point_count\"]).format(\"0.[0] a\").toUpperCase();\r\n                        if(feature.properties[\"point_count\"]>=1000){\r\n                           abbr += '+';\r\n                        }\r\n                        feature.properties[\"point_count_abbreviated\"] = abbr;\r\n                    });\r\n                    setClusterSource(res.result);\r\n               }\r\n           }else{\r\n                setClusterSource({\r\n                    type: 'FeatureCollection',\r\n                    features:[]\r\n                });\r\n           }\r\n        }, 500);\r\n    }\r\n\r\n    return (\r\n        <ReactMapGL className={classes.mapDiv}\r\n            {...viewport}    \r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            mapStyle=\"mapbox://styles/mapbox/light-v10\"\r\n            mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\r\n            ref={mapRef}\r\n            attributionControl={false}\r\n            maxZoom={24}\r\n            minZoom={13}\r\n            onViewportChange={setViewport}\r\n            interactiveLayerIds={['cluster-layer','unclustered-point-layer']}\r\n            onClick={handleClick}\r\n        >\r\n            <Source\r\n                id=\"clusterSource\"\r\n                type=\"geojson\"\r\n                data={clusterSource}\r\n                //cluster={true}\r\n                //clusterMaxZoom={14}\r\n                //clusterRadius={50}\r\n            >\r\n                <Layer\r\n                    id='cluster-layer'\r\n                    type='circle'\r\n                    source='clusterSource'\r\n                    filter={['>', 'point_count', 1]}\r\n                    paint={{\r\n                    'circle-color': ['step', ['get', 'point_count'], '#51bbd6', 100, '#f1f075', 750, '#f28cb1'],\r\n                    'circle-radius': ['step', ['get', 'point_count'], 20, 100, 30, 750, 40]\r\n                    }}\r\n                />\r\n                <Layer \r\n                    id='cluster-count-layer'\r\n                    type='symbol'\r\n                    source='clusterSource'\r\n                    filter={['>', 'point_count', 1]}\r\n                    layout={{\r\n                        'text-field': '{point_count_abbreviated}',\r\n                        'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],\r\n                        'text-size': 12\r\n                    }}\r\n                />\r\n                <Layer\r\n                    id='unclustered-point-layer'\r\n                    type='symbol'\r\n                    source='clusterSource'\r\n                    filter={['==', 'point_count', 1]}\r\n                    layout={{\r\n                        'icon-image': 'marker-icon',\r\n                        'icon-size': 0.6,\r\n                        'icon-rotate': [\"get\",\"heading\"],\r\n                        'icon-allow-overlap':true,\r\n                        'icon-ignore-placement': true,\r\n                        'icon-rotation-alignment':'map', // viewport\r\n                        'icon-pitch-alignment':'viewport'\r\n                    }}\r\n                />\r\n                \r\n            </Source>\r\n            <Geocoder\r\n                mapRef={mapRef}\r\n                onViewportChange={setViewport}\r\n                mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\r\n                position=\"top-left\"\r\n                placeholder=\"Search your city\"\r\n                zoom={18}\r\n                //collapsed=\"true\"\r\n            />\r\n            <NavigationControl style={{ bottom:10,left:10}}/>\r\n            <ScaleControl style={{bottom:10,right:10}} />\r\n            {\r\n            markerInfo.open && \r\n                <MarkerInfo \r\n                   markerInfo={markerInfo}    \r\n                   setMarkerInfo={setMarkerInfo}\r\n                />\r\n            }\r\n            {showLoading && <LinearProgress />}\r\n        </ReactMapGL>\r\n    );\r\n}\r\n\r\nexport default Map;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAyCAMAAAAKuilWAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAj1QTFRFAAAAOLC4/4qK/4qK/4qK/oqK/oqK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4VkSAhwAAAL90Uk5TAAAJgbcodv/CBxrn/muw8hhClgXS/VYBiNEOIOxmBLv5LlerCNxRnOAUNPeJAMz7N2y+F+93r+k/+I0SyplgMRMDAg0lT4DL9VT81XMhCRIUDgIRTrPPBgr0hAsaYrfd5+njzYI0AUR49tc1Oa/6/9RnBRBIgwqF/cokk9NJEL/+60MIvO48A60dTZwGuvA+WaTx4DYNaIspkx/70iiW6jfvjablLS/2fHDFC4zWfcZQ2/WKYdn87ZQbbJGomkgzCm4xAAAB9ElEQVR4nGNgIBkw4pVlYmZhxaubjZ2dgxOPAi5udnYeXjwK+NiBgF8Ap7wgOxgICeOQFxCBKBAVwy4vLsEOBZJSWBVIy8AU8Mhik5eTZ4cDBUUsCpR4EArYlcUx5FVUkeTZRdUwXKjOjgI0NNEUaGmjKmDX0UV1oR6aPLu+AYoCQ3R5dnYjZHcam2AqYDdFyAubYZFnN5eGK7CwxKaA3QrmTmsbMJ/b1s7ewdHJ2cXVzV0UJODhCZFndPMCBr+3j68TA6Off0BgEINucEgoyNCwcLCCiEhg4EdFMzDExMbFJyQmJaekpjE4pWsAVWSAFQRnsmdlMzDk5Oblw0BBYRFDsboou4gjWEVJqSZDWXlFPjKorGJwrK6phfujrr4hHxU0NjHoOsHlm1vyMUBrGyKg2jsw5fPzEzvhCrrysCnI726Hyvf0YpXP7+uHKpiA3YD8/Fyogok45PMnNUMUTMalIH8KWH4qehAgwDSwgiqc8vnTwQpm4FYwE6xgFm4F5ZBgmI1TwQSIL+bgVDAXomAeLvn50LBesBCHgkWwyFyMXX7JUlhsLluOVcEKeHQzrsQWmKtWI1IMwxpM+bUBSPIMResq0OTXdzKggLQNG5GlN22eyoAOerZs3QaV3r5jJ4Y0ON5Td+2euGfvin0xaVjlsQMAFN44ROMgIzgAAAAASUVORK5CYII=\"","import React, { useState} from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Paper from '@mui/material/Paper';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport ShareLocationIcon from '@mui/icons-material/ShareLocation';\r\nimport PhoneAndroidIcon from '@mui/icons-material/PhoneAndroid';\r\nimport PhoneIphoneIcon from '@mui/icons-material/PhoneIphone';\r\n\r\nimport numeral from \"numeral\";\r\n\r\nfunction Counts() {\r\n    return(\r\n       <Grid container spacing={2} flexDirection=\"row\" style={{marginBottom:50}}>\r\n           <Grid item lg={4} md={6} xs={12}>\r\n               <Paper>\r\n                    <Grid container alignItems=\"center\">\r\n                        <ShareLocationIcon color=\"primary\" />\r\n                        <Typography variant=\"caption\">\r\n                            Total Devices\r\n                        </Typography>\r\n                    </Grid>\r\n                   <Typography variant=\"h5\" style={{marginLeft:20}}>\r\n                       {numeral('1234').format(\"0,0\")}\r\n                   </Typography>\r\n                </Paper>\r\n           </Grid>\r\n           <Grid item lg={4} md={6} xs={12}>\r\n                <Paper>\r\n                    <Grid container alignItems=\"center\">\r\n                        <PhoneAndroidIcon color=\"primary\" />\r\n                        <Typography variant=\"caption\">\r\n                            Android\r\n                        </Typography>\r\n                    </Grid>\r\n                   <Typography variant=\"h5\" style={{marginLeft:20}}>\r\n                      {numeral('1234').format(\"0,0\")}\r\n                   </Typography>\r\n                </Paper>\r\n           </Grid>\r\n           <Grid item lg={4} md={6} xs={12}>\r\n                <Paper>\r\n                    <Grid container alignItems=\"center\">\r\n                        <PhoneIphoneIcon color=\"secondary\" />\r\n                        <Typography variant=\"caption\">\r\n                            iPhone\r\n                        </Typography>\r\n                    </Grid>\r\n                   <Typography variant=\"h5\" style={{marginLeft:20}}>\r\n                      {numeral('1234').format(\"0,0\")}\r\n                   </Typography>\r\n                </Paper>\r\n           </Grid>\r\n       </Grid>\r\n    );\r\n}\r\nexport default Counts;","import React, { useState} from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport ToggleButton from '@mui/material/ToggleButton';\r\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\r\n\r\nfunction Charts() {\r\n    const [toggleValue, setToggleValue] = useState('platform');\r\n    return(\r\n       <Grid container justifyContent=\"center\">\r\n           <ToggleButtonGroup \r\n                value={toggleValue} exclusive\r\n                onChange={(e, newValue) => setToggleValue(newValue)} aria-label=\"general conditions button group\"\r\n            >\r\n                <ToggleButton value=\"platform\" aria-label=\"General Conditions\">\r\n                   Platform\r\n                </ToggleButton>\r\n                <ToggleButton value=\"device_model\" aria-label=\"Roof Slope\">\r\n                   Device Model\r\n                </ToggleButton>\r\n                <ToggleButton value=\"category_1\" aria-label=\"Roof Drainage\">\r\n                   Category 1\r\n                </ToggleButton>\r\n                <ToggleButton value=\"category_2\" aria-label=\"Wall Details\">\r\n                   Category 2\r\n                </ToggleButton>\r\n            </ToggleButtonGroup>\r\n       </Grid>\r\n    );\r\n}\r\nexport default Charts;","import React, { useState } from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nimport Header from \"./Header.js\";\r\nimport Map from \"./Map.js\";\r\nimport Counts from \"./Counts.js\";\r\nimport Charts from \"./Charts.js\";\r\n\r\nconst useStyles = makeStyles({\r\n   root:{\r\n      display:'flex',\r\n      flexDirection:'column',\r\n      width:'100vw',\r\n      height:'100vh'\r\n   },\r\n   content:{\r\n      flex:1,\r\n      display:'flex',\r\n      flexDirection:'row',\r\n      backgroundColor:'#f1f6fa'\r\n   },\r\n   leftContainer:{\r\n     width:540,\r\n     padding:20\r\n   },\r\n   mapContainer:{\r\n      flex:1,\r\n      position:'relative'\r\n   }\r\n});\r\n\r\nfunction Main() {\r\n    const classes = useStyles();\r\n    \r\n    const [selectedDate, setSelectedDate] = useState('2021-08-01');\r\n\r\n    return (\r\n       <div className={classes.root}>\r\n           <Header \r\n              selectedDate={selectedDate}\r\n              setSelectedDate={setSelectedDate}\r\n           />\r\n           <div className={classes.content}>\r\n              <div className={classes.leftContainer}>\r\n                <Counts />\r\n                <Charts />  \r\n              </div>\r\n              <div className={classes.mapContainer} id=\"map-container\">\r\n                 <Map selectedDate={selectedDate} />\r\n               </div>\r\n           </div>\r\n       </div>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\nimport { createTheme, ThemeProvider, responsiveFontSizes } from '@mui/material/styles';\n\nimport Locations_Dashboard from \"./locations-dashboard/Main.js\";\n\nlet theme = createTheme({\n  components:{\n    MuiPaper:{\n      styleOverrides: {\n        root: {\n          padding:10,\n          boxShadow:'0px 24px 48px -4px #06192114'\n        },\n      },\n    },\n    MuiToggleButtonGroup:{\n      styleOverrides: {\n        root: {\n          borderRadius:50,\n          backgroundColor:'#e3ebf1'\n        },\n        grouped:{\n          '&:first-of-type':{\n            marginLeft:0,\n          },\n          '&:last-of-type':{\n            marginRight:0,\n          },\n          '&:not(:first-of-type)':{\n            borderTopLeftRadius:50,\n            borderBottomLeftRadius:50\n          },\n          '&:not(:last-of-type)':{\n            borderTopRightRadius:50,\n            borderBottomRightRadius:50\n          }\n        }\n      },\n    },\n    MuiToggleButton:{\n      styleOverrides: {\n        root: {\n          border:0,\n          borderRadius:50,\n          textTransform: 'none',\n          padding:'10px 20px',\n          marginLeft:10,\n          marginRight:10,\n          '&.Mui-selected':{\n            color:'#fff',\n            backgroundColor:'#ff844b'\n          }\n        }\n      }\n    }\n  }\n});\n\ntheme = responsiveFontSizes(theme);\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n       <Locations_Dashboard />\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}