(this["webpackJsonprocations-dashboard-app"]=this["webpackJsonprocations-dashboard-app"]||[]).push([[0],{173:function(e,t,a){},248:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(51),c=a.n(o),i=(a(173),a(151)),s=a(325),l=a(329),O=a(319),u=a(57),d=a(8),j=a(322),C=a(326),b=a(318),p=a(317),g=a(307),f=a(316),L=a.p+"static/media/logo.3f900ba7.png",K=a(2),m=Object(O.a)({header:{padding:"10px 20px",backgroundColor:"white"},logo:{height:80},headerTitle:{flex:1}});var x=function(){var e=m(),t=Object(n.useState)(new Date),a=Object(d.a)(t,2),r=a[0],o=a[1];return Object(K.jsxs)(j.a,{container:!0,className:e.header,spacing:3,children:[Object(K.jsx)(j.a,{container:!0,item:!0,sm:4,justifyContent:"center",alignItems:"center",children:Object(K.jsx)("img",{src:L,className:e.logo})}),Object(K.jsx)(j.a,{container:!0,item:!0,sm:4,justifyContent:"center",alignItems:"center",children:Object(K.jsx)(C.a,{className:e.headerTitle,variant:"h4",align:"center",children:"Locations Dashboard"})}),Object(K.jsx)(j.a,{container:!0,item:!0,sm:4,justifyContent:"center",alignItems:"center",children:Object(K.jsx)(g.b,{dateAdapter:p.a,children:Object(K.jsx)(f.a,{label:"Locations Date",value:r,onChange:function(e){console.log(e),o(e)},renderInput:function(e){return Object(K.jsx)(b.a,Object(u.a)({},e))}})})})]})},h=a(66),q=a.n(h),A=a(96),v=a(41),y=(a(198),a(199),a(61)),w=a.n(y),I=a(152),R=a(68),B=a.n(R),D="pk.eyJ1IjoibGVld2FuZ2RldiIsImEiOiJja2tnbDU2c2gwMHNvMndsdDF1d2pxNTQ2In0.zKeo06DtCh6fLifrbCZCFA",M={longitude:-79.3966596,latitude:43.6565291,zoom:11},N=a(147),F=a.n(N),k=function(){var e=Object(A.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat("https://locations-dashboard.herokuapp.com","/api/clusters"),e.next=4,F.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();w.a.workerClass=a(247).default;var T=Object(O.a)({mapDiv:{"& .mapboxgl-ctrl-logo":{display:"none"}}});var S=function(){var e=T(),t=Object(n.useRef)(null),a=Object(n.useState)(M),r=Object(d.a)(a,2),o=r[0],c=r[1],i=Object(n.useState)({type:"FeatureCollection",features:[]}),s=Object(d.a)(i,2),l=s[0],O=s[1];return Object(n.useEffect)((function(){var e=t.current.getMap(),a=null;e.loadImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAyCAMAAAAKuilWAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAj1QTFRFAAAAOLC4/4qK/4qK/4qK/oqK/oqK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4VkSAhwAAAL90Uk5TAAAJgbcodv/CBxrn/muw8hhClgXS/VYBiNEOIOxmBLv5LlerCNxRnOAUNPeJAMz7N2y+F+93r+k/+I0SyplgMRMDAg0lT4DL9VT81XMhCRIUDgIRTrPPBgr0hAsaYrfd5+njzYI0AUR49tc1Oa/6/9RnBRBIgwqF/cokk9NJEL/+60MIvO48A60dTZwGuvA+WaTx4DYNaIspkx/70iiW6jfvjablLS/2fHDFC4zWfcZQ2/WKYdn87ZQbbJGomkgzCm4xAAAB9ElEQVR4nGNgIBkw4pVlYmZhxaubjZ2dgxOPAi5udnYeXjwK+NiBgF8Ap7wgOxgICeOQFxCBKBAVwy4vLsEOBZJSWBVIy8AU8Mhik5eTZ4cDBUUsCpR4EArYlcUx5FVUkeTZRdUwXKjOjgI0NNEUaGmjKmDX0UV1oR6aPLu+AYoCQ3R5dnYjZHcam2AqYDdFyAubYZFnN5eGK7CwxKaA3QrmTmsbMJ/b1s7ewdHJ2cXVzV0UJODhCZFndPMCBr+3j68TA6Off0BgEINucEgoyNCwcLCCiEhg4EdFMzDExMbFJyQmJaekpjE4pWsAVWSAFQRnsmdlMzDk5Oblw0BBYRFDsboou4gjWEVJqSZDWXlFPjKorGJwrK6phfujrr4hHxU0NjHoOsHlm1vyMUBrGyKg2jsw5fPzEzvhCrrysCnI726Hyvf0YpXP7+uHKpiA3YD8/Fyogok45PMnNUMUTMalIH8KWH4qehAgwDSwgiqc8vnTwQpm4FYwE6xgFm4F5ZBgmI1TwQSIL+bgVDAXomAeLvn50LBesBCHgkWwyFyMXX7JUlhsLluOVcEKeHQzrsQWmKtWI1IMwxpM+bUBSPIMResq0OTXdzKggLQNG5GlN22eyoAOerZs3QaV3r5jJ4Y0ON5Td+2euGfvin0xaVjlsQMAFN44ROMgIzgAAAAASUVORK5CYII=",(function(t,a){if(t)throw t;e.addImage("marker-icon",a)})),e.on("moveend",(function(){if(e.getZoom()<13)return void O({type:"FeatureCollection",features:[]});a&&clearTimeout(a);a=setTimeout(Object(A.a)(q.a.mark((function t(){var a;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k({zoom:e.getZoom(),bounds:e.getBounds().toArray().flat()});case 2:"success"===(a=t.sent).status&&a.result&&a.result.features&&(a.result.features.forEach((function(e){var t=B()(e.properties.point_count).format("0.[0] a").toUpperCase();e.properties.point_count>=1e3&&(t+="+"),e.properties.point_count_abbreviated=t})),O(a.result));case 4:case"end":return t.stop()}}),t)}))),500)}))}),[]),Object(K.jsxs)(v.f,Object(u.a)(Object(u.a)({className:e.mapDiv},o),{},{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/light-v10",mapboxApiAccessToken:D,ref:t,attributionControl:!1,maxZoom:24,onViewportChange:c,interactiveLayerIds:["cluster-layer","unclustered-point-layer"],onClick:function(e){if(e.features&&e.features.length>0){var t=e.features[0];"cluster-layer"===t.layer.id&&c(Object(u.a)(Object(u.a)({},o),{},{longitude:t.geometry.coordinates[0],latitude:t.geometry.coordinates[1],zoom:o.zoom+1,transitionDuration:500}))}},children:[Object(K.jsxs)(v.e,{id:"clusterSource",type:"geojson",data:l,children:[Object(K.jsx)(v.b,{id:"cluster-layer",type:"circle",source:"clusterSource",filter:[">","point_count",1],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,100,30,750,40]}}),Object(K.jsx)(v.b,{id:"cluster-count-layer",type:"symbol",source:"clusterSource",filter:[">","point_count",1],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}}),Object(K.jsx)(v.b,{id:"unclustered-point-layer",type:"symbol",source:"clusterSource",filter:["==","point_count",1],layout:{"icon-image":"marker-icon","icon-size":.6,"icon-rotate":["get","heading"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-rotation-alignment":"map","icon-pitch-alignment":"viewport"}})]}),Object(K.jsx)(I.a,{mapRef:t,onViewportChange:c,mapboxApiAccessToken:D,position:"top-left",placeholder:"Search your city",zoom:18}),Object(K.jsx)(v.c,{style:{bottom:10,left:10}}),Object(K.jsx)(v.d,{style:{bottom:10,right:10}})]}))},U=a(327),E=a(148),V=a.n(E),z=a(149),J=a.n(z),Z=a(150),Y=a.n(Z);var P=function(){return Object(K.jsxs)(j.a,{container:!0,spacing:2,flexDirection:"row",style:{marginBottom:50},children:[Object(K.jsx)(j.a,{item:!0,lg:4,md:6,xs:12,children:Object(K.jsxs)(U.a,{children:[Object(K.jsxs)(j.a,{container:!0,alignItems:"center",children:[Object(K.jsx)(V.a,{color:"primary"}),Object(K.jsx)(C.a,{variant:"caption",children:"Total Devices"})]}),Object(K.jsx)(C.a,{variant:"h4",align:"center",children:B()("1234").format("0,0")})]})}),Object(K.jsx)(j.a,{item:!0,lg:4,md:6,xs:12,children:Object(K.jsxs)(U.a,{children:[Object(K.jsxs)(j.a,{container:!0,alignItems:"center",children:[Object(K.jsx)(J.a,{color:"primary"}),Object(K.jsx)(C.a,{variant:"caption",children:"Android"})]}),Object(K.jsx)(C.a,{variant:"h4",align:"center",children:B()("1234").format("0,0")})]})}),Object(K.jsx)(j.a,{item:!0,lg:4,md:6,xs:12,children:Object(K.jsxs)(U.a,{children:[Object(K.jsxs)(j.a,{container:!0,alignItems:"center",children:[Object(K.jsx)(Y.a,{color:"secondary"}),Object(K.jsx)(C.a,{variant:"caption",children:"iPhone"})]}),Object(K.jsx)(C.a,{variant:"h4",align:"center",children:B()("1234").format("0,0")})]})})]})},Q=a(328),_=a(323);var G=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],r=t[1];return Object(K.jsx)(j.a,{container:!0,justifyContent:"center",children:Object(K.jsxs)(_.a,{value:a,exclusive:!0,onChange:function(e,t){return r(t)},"aria-label":"general conditions button group",children:[Object(K.jsx)(Q.a,{value:"general_conditions","aria-label":"General Conditions",children:"Platform"}),Object(K.jsx)(Q.a,{value:"roof_slope","aria-label":"Roof Slope",children:"Device Model"}),Object(K.jsx)(Q.a,{value:"roof_drainage","aria-label":"Roof Drainage",children:"Category 1"}),Object(K.jsx)(Q.a,{value:"wall_details","aria-label":"Wall Details",children:"Category 2"}),Object(K.jsx)(Q.a,{value:"roof_details","aria-label":"Roof Details",children:"Category 3"})]})})},W=Object(O.a)({root:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},content:{flex:1,display:"flex",flexDirection:"row",backgroundColor:"#f1f6fa"},leftContainer:{width:"40%",padding:20},mapContainer:{flex:1}});var H=function(){var e=W();return Object(K.jsxs)("div",{className:e.root,children:[Object(K.jsx)(x,{}),Object(K.jsxs)("div",{className:e.content,children:[Object(K.jsxs)("div",{className:e.leftContainer,children:[Object(K.jsx)(P,{}),Object(K.jsx)(G,{})]}),Object(K.jsx)("div",{className:e.mapContainer,children:Object(K.jsx)(S,{})})]})]})},X=Object(i.a)({components:{MuiPaper:{styleOverrides:{root:{padding:16,boxShadow:"0px 24px 48px -4px #06192114"}}},MuiToggleButtonGroup:{styleOverrides:{root:{borderRadius:50,backgroundColor:"#e3ebf1"},grouped:{"&:first-of-type":{marginLeft:0},"&:last-of-type":{marginRight:0},"&:not(:first-of-type)":{borderTopLeftRadius:50,borderBottomLeftRadius:50},"&:not(:last-of-type)":{borderTopRightRadius:50,borderBottomRightRadius:50}}}},MuiToggleButton:{styleOverrides:{root:{border:0,borderRadius:50,textTransform:"none",padding:"10px 20px",marginLeft:10,marginRight:10,"&.Mui-selected":{color:"#fff",backgroundColor:"#ff844b"}}}}}});X=Object(s.a)(X);var $=function(){return Object(K.jsx)(l.a,{theme:X,children:Object(K.jsx)(H,{})})},ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,331)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};c.a.render(Object(K.jsx)(r.a.StrictMode,{children:Object(K.jsx)($,{})}),document.getElementById("root")),ee()}},[[248,1,2]]]);
//# sourceMappingURL=main.ceb0f699.chunk.js.map