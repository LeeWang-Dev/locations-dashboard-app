{"version":3,"sources":["utils/settings.js","assets/images/logo.png","utils/util.js","services/days.js","components/locations-dashboard/Header.js","services/place.js","components/locations-dashboard/SideBar.js","services/cluster.js","services/marker.js","services/counts.js","components/locations-dashboard/MarkerPanel/MarkerInfo.js","components/locations-dashboard/MarkerPanel/PopupInfo.js","components/locations-dashboard/MarkerPanel/TrackingMap.js","assets/images/marker-icon.png","components/locations-dashboard/MarkerPanel/MarkerPanel.js","components/locations-dashboard/Map.js","assets/images/user-icon.png","assets/images/search-marker.png","components/locations-dashboard/RenderMode.js","components/locations-dashboard/Counts.js","components/locations-dashboard/PieChart.js","components/locations-dashboard/TimeSlider.js","components/locations-dashboard/Main.js","components/App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","MAPBOX_ACCESS_TOKEN","DEFAULT_VIEWPORT","longitude","latitude","zoom","google","window","DEFAULT_DATE","Date","categories","category_distances","dateFormat","date","d","getDate","m","getMonth","getFullYear","timeFormat","value","sec_num","parseInt","hours","Math","floor","minutes","seconds","secondsFromDate","arr","split","UTC","getDays","params","a","result","url","axios","post","then","response","data","catch","err","status","message","useStyles","makeStyles","header","width","padding","backgroundColor","logo","height","timeout","Header","props","classes","searchPlace","setSearchPlace","filter","setFilter","useState","isLoading","setIsLoading","highlightedDays","setHighlightedDays","handleMonthChange","fetchHighlightedDays","clearTimeout","setTimeout","res","useEffect","input","document","getElementById","autocomplete","maps","places","Autocomplete","placeChangeHandle","event","addListener","place","getPlace","geometry","formatted_address","placePhotoUrl","photos","getUrl","maxWidth","place_id","location","lng","lat","viewport","getSouthWest","getNorthEast","name","address","type","types","rating","user_ratings_total","imageLink","image","removeListener","Grid","container","className","spacing","alignItems","item","lg","md","justifyContent","src","imgLogo","TextField","id","placeholder","fullWidth","InputProps","startAdornment","InputAdornment","position","endAdornment","IconButton","onClick","onMouseDown","e","preventDefault","edge","autoComplete","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","loading","renderLoading","CalendarPickerSkeleton","renderInput","renderDay","day","_value","DayComponentProps","isSelected","outsideCurrentMonth","indexOf","PickersDay","style","border","toString","onMonthChange","onYearChange","onChange","newValue","variant","InputLabelProps","shrink","select","SelectProps","MenuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","category","target","map","index","MenuItem","category_distance","disabled","getPlaces","get","addPlace","deletePlace","sideBarHeader","paddingBottom","sideBarContent","flex","overflowY","label","display","paddingTop","paddingLeft","listItem","borderBottom","borderRadius","SideBar","setPlaces","addPlaceDialogOpen","setAddPlaceDialogOpen","deletePlaceDialogOpen","setDeletePlaceDialogOpen","addPlaceDisabled","setAddPlaceDisabled","handleAddPlace","console","log","handleDeletePlace","handleDeletePlaceDialogOk","newPlaces","length","fetchPlaces","color","marginRight","Typography","Button","startIcon","List","dense","ListItem","disablePadding","secondaryAction","ListItemButton","selected","ListItemText","primary","marginBottom","secondary","Rating","size","defaultValue","precision","readOnly","marginLeft","numeral","format","component","ListItemAvatar","Avatar","alt","align","marginTop","Dialog","open","onClose","DialogTitle","sx","right","top","theme","palette","grey","onSubmit","DialogContent","validators","errorMessages","DialogActions","xs","sm","autoFocus","getClusters","getMarkers","getMarkerInfo","getTracking","getCounts","paper","paperHeader","MarkerInfo","markerInfo","setMarkerInfo","fetchMarkerInfo","Paper","advertiser_id","final_country","platform","device_model","ipv_4","ipv_6","wifi_ssid","wifi_bssid","location_at","altitude","horizontal_accuracy","vertical_accuracy","heading","speed","user_agent","publisher_id","background","carrier","venue_name","venue_category","dwell_time","CircularProgress","PopupInfo","info","mapboxgl","workerClass","require","default","mapContainer","mapDiv","timeslider","bottom","left","paddingRight","TrackingMap","mapRef","useRef","coordinates","setViewport","interactiveLayerIds","setInteractiveLayerIds","min","max","step","marks","sliderProps","setSliderProps","sliderValue","setSliderValue","sliderLabel","setSliderLabel","features","points","setPoints","trackPoints","setTrackPoints","trackPoint","setTrackPoint","trackLine","setTrackLine","hoverInfo","setHoverInfo","onHover","useCallback","feature","layer","lngLat","properties","fetchTrackingData","bbox","turf","current","getMap","WebMercatorViewport","getCanvas","fitBounds","t","forEach","newTrackPoints","i","t1","t2","dm","bearing","k","from_lat","parseFloat","from_lng","to_lat","to_lng","push","time","newTrackLine","point","loadImage","error","addImage","t0","mapStyle","mapboxApiAccessToken","attributionControl","maxZoom","ref","onViewportChange","paint","source","layout","closeButton","Slider","newPoint","newTrackPoint","drawer","flexDirection","minWidth","boxSizing","drawerHeader","MarkerPanel","markerPanelInfo","setMarkerPanelInfo","toggleValue","setToggleValue","Drawer","anchor","key","ToggleButtonGroup","exclusive","ToggleButton","addressLabel","fontSize","lineHeight","borderLeft","pointerEvents","Map","renderMode","setCounts","clusterSource","setClusterSource","heatmapSource","setHeatmapSource","showLoading","setShowLoading","handleClick","transitionDuration","hasImage","removeImage","transitionInterpolator","FlyToInterpolator","on","mapDataCallback","off","poiLocations","poiFeatures","queryRenderedFeatures","layers","newClusterSource","timeRange","getZoom","bounds","getBounds","toArray","flat","poiRadius","abbr","toUpperCase","newHeatmapSource","newCounts","row","count","minZoom","maxzoom","minzoom","offsetLeft","offsetTop","LinearProgress","togglePanel","RenderMode","setRenderMode","countsPanel","Counts","counts","pieChart","PieChart","chartData","setChartData","newData","role","chartType","options","pieHole","legend","alignment","rootProps","opacity","TimeSlider","timeRangeLabel","setTimeRangeLabel","getAriaLabel","root","content","sidebar","Main","createTheme","components","MuiPaper","styleOverrides","boxShadow","MuiTypography","MuiButton","textTransform","MuiTextField","MuiOutlinedInput","notchedOutline","MuiToggleButtonGroup","grouped","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","MuiToggleButton","MuiInputAdornment","MuiIconButton","MuiBackdrop","MuiDialog","MuiDialogTitle","MuiDialogContent","MuiDialogActions","MuiListItemButton","responsiveFontSizes","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c6bd495c.chunk.js","sourcesContent":["\r\n//export const BASE_URL = 'http://localhost:8080';\r\n\r\nexport const BASE_URL = 'https://locations-dashboard.herokuapp.com';\r\n\r\nexport const MAPBOX_ACCESS_TOKEN = 'pk.eyJ1IjoibGVld2FuZ2RldiIsImEiOiJja2tnbDU2c2gwMHNvMndsdDF1d2pxNTQ2In0.zKeo06DtCh6fLifrbCZCFA';\r\n\r\nexport const DEFAULT_VIEWPORT = {\r\n    longitude: -79.3966596,\r\n    latitude: 43.6565291,\r\n    zoom: 14\r\n}\r\n\r\nexport const google = window.google;\r\n\r\nexport const DEFAULT_DATE = new Date('2021-08-01');\r\n\r\n// mapbox gl poi-label layer category_en\r\nexport const categories = [\r\n    'All Categories',\r\n    'Bank',\r\n    'Bar',\r\n    'Cafe',\r\n    'Gas Station',\r\n    'Hospital Grounds',\r\n    'Hotel',\r\n    'Mall',\r\n    'Marketplace',\r\n    'Restaurant',\r\n    'Shop',\r\n    'Supermarket',\r\n];\r\n\r\nexport const category_distances = [5, 10, 20, 50, 100, 200, 500];","export default __webpack_public_path__ + \"static/media/logo.3f900ba7.png\";","\r\nexport const dateFormat = (date) => {\r\n    var d = date.getDate();\r\n    var m = date.getMonth() + 1; //Month from 0 to 11\r\n    var y = date.getFullYear();\r\n    return '' + (m<=9 ? '0' + m : m) + '/' + (d <= 9 ? '0' + d : d) + '/' + y;\r\n}\r\n\r\nexport const timeFormat = (value) => {\r\n    var sec_num = parseInt(value, 10); // don't forget the second param\r\n    var hours   = Math.floor(sec_num / 3600);\r\n    var minutes = Math.floor((sec_num - (hours * 3600)) / 60);\r\n    var seconds = sec_num - (hours * 3600) - (minutes * 60);\r\n\r\n    if (hours   < 10) {hours   = \"0\"+hours;}\r\n    if (minutes < 10) {minutes = \"0\"+minutes;}\r\n    if (seconds < 10) {seconds = \"0\"+seconds;}\r\n    return hours + ':' + minutes + ':' + seconds;\r\n}\r\n\r\nexport const secondsFromDate = (date) => {\r\n    let arr = date.split(\"/\");\r\n    return Date.UTC(arr[2],parseInt(arr[0])-1,arr[1])/1000\r\n}","import axios from \"axios\";\r\nimport { BASE_URL } from \"../utils/settings.js\";\r\n\r\nexport const getDays = async (params) => {\r\n    var result = null;\r\n    \r\n    let url = `${BASE_URL}/api/days`;\r\n\r\n    await axios.post(url, params).then((response) => {\r\n        result = response.data;\r\n    }).catch((err) => {\r\n      result = {\r\n        status: \"failed\",\r\n        message: \"No internet connection\",\r\n      };\r\n    });\r\n    return result;\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport TextField from '@mui/material/TextField';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport MenuItem from '@mui/material/MenuItem';\r\n\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport CalendarPickerSkeleton from '@mui/lab/CalendarPickerSkeleton';\r\nimport PickersDay from '@mui/lab/PickersDay';\r\n\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport CategoryIcon from '@mui/icons-material/Category';\r\nimport ShareLocationIcon from '@mui/icons-material/ShareLocation';\r\n\r\nimport imgLogo from \"../../assets/images/logo.png\";\r\n\r\nimport { google, categories, category_distances } from \"./../../utils/settings.js\";\r\nimport { dateFormat } from '../../utils/util.js';\r\nimport { getDays } from \"../../services/days.js\";\r\n\r\nconst useStyles = makeStyles({\r\n    header:{\r\n       width:'100%',\r\n       padding:10,\r\n       backgroundColor:'white'\r\n    },\r\n    logo:{\r\n        height: 75\r\n    }\r\n });\r\n \r\n let timeout = null;\r\n\r\n function Header(props) {\r\n     const classes = useStyles();\r\n     const { \r\n         searchPlace,\r\n         setSearchPlace,\r\n         filter,\r\n         setFilter\r\n     } = props;\r\n     const [isLoading, setIsLoading] = useState(false);\r\n     const [highlightedDays, setHighlightedDays] = useState([]);\r\n     \r\n     const handleMonthChange = (date) => {\r\n        setIsLoading(true);\r\n        setHighlightedDays([]);\r\n        fetchHighlightedDays(date);\r\n     }\r\n\r\n     const fetchHighlightedDays = (date) => {\r\n        if(timeout){\r\n           clearTimeout(timeout);\r\n        }\r\n        timeout = setTimeout(async () => {\r\n            let res = await getDays({date:dateFormat(date)});\r\n            setIsLoading(false);\r\n            if(res.status === 'success'){\r\n              setHighlightedDays(res.result);\r\n            }\r\n        }, 500);\r\n     };\r\n\r\n     useEffect(() => {\r\n        var input = document.getElementById(\"input-address\");\r\n        const autocomplete = new google.maps.places.Autocomplete(input);\r\n        const placeChangeHandle = google.maps.event.addListener(autocomplete, \"place_changed\", function () {\r\n          var place = autocomplete.getPlace();\r\n          if(place && place.geometry && place.formatted_address){\r\n            var placePhotoUrl = place.photos[0].getUrl({maxWidth:128}); \r\n            setSearchPlace({\r\n              place_id:place.place_id,\r\n              location:[\r\n                place.geometry.location.lng(),\r\n                place.geometry.location.lat()\r\n              ],\r\n              viewport:[\r\n                place.geometry.viewport.getSouthWest().lng(),\r\n                place.geometry.viewport.getSouthWest().lat(),\r\n                place.geometry.viewport.getNorthEast().lng(),\r\n                place.geometry.viewport.getNorthEast().lat()\r\n              ],\r\n              name:place.name,\r\n              address:place.formatted_address,\r\n              type:place.types?place.types[0]:'',\r\n              rating:place.rating,\r\n              user_ratings_total:place.user_ratings_total,\r\n              url:place.url,\r\n              imageLink: placePhotoUrl,\r\n              image:''\r\n            });\r\n          }\r\n        });\r\n\r\n        fetchHighlightedDays(filter.date);\r\n\r\n        return () => {\r\n           //google.maps.event.clearListeners(autocomplete, 'place_changed');\r\n           google.maps.event.removeListener(placeChangeHandle);\r\n        }\r\n     }, []);\r\n\r\n     useEffect(() => {\r\n        if(searchPlace){\r\n          document.getElementById(\"input-address\").value=searchPlace.address;\r\n        }else{\r\n          document.getElementById(\"input-address\").value='';\r\n        }\r\n     },[searchPlace]);\r\n\r\n     return (\r\n        <Grid container className={classes.header} spacing={1} alignItems=\"center\">\r\n            <Grid container item lg={3} md={12} justifyContent=\"center\">\r\n                <img src={imgLogo} className={classes.logo} />\r\n            </Grid>\r\n            <Grid container item spacing={2} lg={9} md={12}>\r\n                <Grid item md={4}>\r\n                    <TextField\r\n                      id=\"input-address\"\r\n                      name=\"address\"\r\n                      //variant=\"outlined\"\r\n                      //InputLabelProps={{ shrink: true }}\r\n                      placeholder=\"Enter your address.\"\r\n                      fullWidth\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <SearchIcon />\r\n                          </InputAdornment>\r\n                        ),\r\n                        endAdornment: (\r\n                          <InputAdornment position=\"end\">\r\n                              <IconButton aria-label=\"toggle password visibility\"\r\n                                  onClick={()=>setSearchPlace(null)}\r\n                                  onMouseDown={(e)=>e.preventDefault()}\r\n                                  edge=\"end\"\r\n                              >{(searchPlace && searchPlace.address) && <CloseIcon />}\r\n                              </IconButton>\r\n                          </InputAdornment>\r\n                        )\r\n                      }}\r\n                      autoComplete=\"off\"\r\n                    />\r\n                </Grid>\r\n                <Grid item md={3}>\r\n                  <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                        <DatePicker\r\n                            //label=\"Select Date\"\r\n                            value={filter.date}\r\n                            loading={isLoading}\r\n                            renderLoading={() => <CalendarPickerSkeleton />}\r\n                            renderInput={(params) => <TextField {...params} fullWidth />}\r\n                            renderDay={(day, _value, DayComponentProps) => {\r\n                                const isSelected =\r\n                                  !DayComponentProps.outsideCurrentMonth &&\r\n                                  highlightedDays.indexOf(day.getDate()) > -1;\r\n                                return (\r\n                                  <PickersDay \r\n                                      key={day.toString()} \r\n                                      {...DayComponentProps} \r\n                                      //disabled={!isSelected}\r\n                                      style={{border: isSelected?'1px solid #ff844b':0}}\r\n                                  />\r\n                                );\r\n                              }}\r\n                              onMonthChange={handleMonthChange}\r\n                              onYearChange={handleMonthChange}\r\n                              onChange={(newValue) => {\r\n                                if(newValue!==null){\r\n                                  setFilter({\r\n                                    ...filter,\r\n                                    date: newValue\r\n                                  });\r\n                                }\r\n                              }}\r\n                        />\r\n                    </LocalizationProvider>\r\n                </Grid>\r\n                <Grid item md={3}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    //label=\"Select categories\"\r\n                    fullWidth\r\n                    InputLabelProps={{ shrink: true }}\r\n                    select={true}\r\n                    SelectProps={{\r\n                        MenuProps: {\r\n                          anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" },\r\n                          transformOrigin: { vertical: \"top\", horizontal: \"center\" },\r\n                          getContentAnchorEl: null\r\n                      }\r\n                    }}\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <CategoryIcon />\r\n                        </InputAdornment>\r\n                      )\r\n                    }}\r\n                    value={filter.category}\r\n                    onChange={(e) => setFilter({...filter, category: e.target.value})}\r\n                  >\r\n                    {  \r\n                      categories.map((item,index)=>(\r\n                        <MenuItem key={`category-${index}`} value={item}>\r\n                            {item}\r\n                        </MenuItem>  \r\n                      ))\r\n                    }\r\n                  </TextField>\r\n                </Grid>\r\n                <Grid item md={2}>\r\n                  <TextField\r\n                      variant=\"outlined\"\r\n                      //label=\"Select categories\"\r\n                      //placeholder=\"Select Category\"\r\n                      fullWidth\r\n                      InputLabelProps={{ shrink: true }}\r\n                      select={true}\r\n                      SelectProps={{\r\n                          MenuProps: {\r\n                            anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" },\r\n                            transformOrigin: { vertical: \"top\", horizontal: \"center\" },\r\n                            getContentAnchorEl: null\r\n                        }\r\n                      }}\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <ShareLocationIcon />\r\n                          </InputAdornment>\r\n                        )\r\n                      }}\r\n                      value={filter.category_distance}\r\n                      onChange={(e) => setFilter({...filter, category_distance: e.target.value})}\r\n                      disabled={filter.category==='All Categories'?true:false}\r\n                    >\r\n                      {  \r\n                        category_distances.map((item,index)=>(\r\n                          <MenuItem key={`d-${index}`} value={item}>\r\n                              {`${item} m`}\r\n                          </MenuItem>  \r\n                        ))\r\n                      }\r\n                  </TextField>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n     );\r\n }\r\n\r\nexport default Header;","import axios from \"axios\";\r\nimport { BASE_URL } from \"../utils/settings.js\";\r\n\r\nexport const getPlaces = async () => {\r\n    var result = null;\r\n      \r\n    let url = `${BASE_URL}/api/places`;\r\n  \r\n    await axios.get(url).then((response) => {\r\n        result = response.data;\r\n    }).catch((err) => {\r\n      result = {\r\n        status: \"failed\",\r\n        message: \"No internet connection\",\r\n      };\r\n    });\r\n    return result;\r\n}\r\n\r\nexport const addPlace = async (params) => {\r\n    var result = null;\r\n      \r\n    let url = `${BASE_URL}/api/place/add`;\r\n  \r\n    await axios.post(url, params).then((response) => {\r\n        result = response.data;\r\n    }).catch((err) => {\r\n      result = {\r\n        status: \"failed\",\r\n        message: \"No internet connection\",\r\n      };\r\n    });\r\n    return result;\r\n}\r\n\r\nexport const deletePlace = async (params) => {\r\n    var result = null;\r\n      \r\n    let url = `${BASE_URL}/api/place/delete`;\r\n  \r\n    await axios.post(url, params).then((response) => {\r\n        result = response.data;\r\n    }).catch((err) => {\r\n      result = {\r\n        status: \"failed\",\r\n        message: \"No internet connection\",\r\n      };\r\n    });\r\n    return result;\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemButton from '@mui/material/ListItemButton';\r\n//import ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Rating from '@mui/material/Rating';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogActions from '@mui/material/DialogActions';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\r\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\r\nimport MapIcon from '@mui/icons-material/Map';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\n\r\nimport numeral from \"numeral\";\r\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\r\nimport { addPlace, getPlaces, deletePlace } from '../../services/place.js';\r\n\r\nconst useStyles = makeStyles({\r\n    sideBarHeader:{\r\n        padding:10,\r\n        paddingBottom:10,\r\n        //borderBottom:'1px solid #e3ebf1',\r\n        backgroundColor:'#f1f6fa'\r\n    },\r\n    sideBarContent:{\r\n        flex:1,\r\n        height:0,\r\n        overflowY:'auto'\r\n    },\r\n    label:{\r\n        display:'block',\r\n        paddingTop:16,\r\n        paddingLeft:24,\r\n        paddingBottom:4\r\n    },\r\n    listItem:{\r\n        '&.MuiListItem-root':{\r\n            borderBottom:'1px solid #eee'\r\n        },\r\n        '& .MuiListItemButton-root':{\r\n           borderRadius:0,\r\n          \r\n        },\r\n        '& .MuiAvatar-root':{\r\n            width:90,\r\n            height:90,\r\n            borderRadius:4\r\n        }\r\n    }\r\n});\r\n\r\nfunction SideBar(props) {\r\n   const classes = useStyles();\r\n   const {\r\n      searchPlace,\r\n      setSearchPlace\r\n   } = props;\r\n   const [places, setPlaces] = useState([]);\r\n   const [addPlaceDialogOpen, setAddPlaceDialogOpen] = useState(false);\r\n   const [deletePlaceDialogOpen, setDeletePlaceDialogOpen] = useState(false);\r\n   const [addPlaceDisabled, setAddPlaceDisabled] = useState(true);\r\n\r\n   const handleURLChange = (e) => {\r\n      setSearchPlace({\r\n          ...searchPlace,\r\n          image:e.target.value\r\n      }); \r\n   }\r\n   \r\n   const handleAddPlace = async () => {\r\n      setAddPlaceDialogOpen(false);\r\n      let res = await addPlace(searchPlace);\r\n      if(res.status === 'success'){\r\n          setPlaces([\r\n            ...places,\r\n            searchPlace\r\n          ]);\r\n          setAddPlaceDisabled(true);\r\n      }else{\r\n          console.log(res.message);\r\n      }\r\n   }\r\n\r\n   const handleDeletePlace = (place) => (e) => {\r\n        setDeletePlaceDialogOpen(true);\r\n        setSearchPlace(place);\r\n   }\r\n\r\n   const handleDeletePlaceDialogOk = async () => {\r\n       setDeletePlaceDialogOpen(false);\r\n       if(searchPlace){\r\n            let res = await deletePlace({place_id:searchPlace.place_id});\r\n            if(res.status === 'success'){\r\n                let newPlaces = places.filter(place=>place.place_id !== searchPlace.place_id);\r\n                setPlaces(newPlaces);\r\n                setSearchPlace(null);\r\n            }else{\r\n                console.log(res.message);\r\n            }\r\n       }\r\n   }\r\n\r\n   useEffect(() => {\r\n      if(searchPlace){\r\n        let filters = places.filter(place=>place.place_id===searchPlace.place_id);\r\n        if(filters.length>0){\r\n            setAddPlaceDisabled(true);\r\n        }else{\r\n            setAddPlaceDisabled(false);   \r\n        }\r\n      }else{\r\n         setAddPlaceDisabled(true);\r\n      }\r\n   }, [searchPlace]);\r\n\r\n   useEffect(() => {\r\n\r\n      fetchPlaces();\r\n\r\n   }, []);\r\n\r\n   const fetchPlaces = async () => {\r\n      let res = await getPlaces();\r\n      if(res.status === 'success'){\r\n          setPlaces(res.result);\r\n      }else{\r\n          console.log(res.message);\r\n      }\r\n   }\r\n\r\n   return (\r\n        <>\r\n        <div className={classes.sideBarHeader}>\r\n            <Grid container justifyContent=\"space-between\" alignItems=\"center\">\r\n                <FavoriteIcon color=\"warning\" style={{marginRight:10}} />\r\n                <Typography variant=\"h6\" style={{flex:1}}>\r\n                    Favorite Places\r\n                </Typography>\r\n                <Button \r\n                    color=\"warning\" \r\n                    startIcon={<AddCircleOutlineIcon />}\r\n                    disabled={addPlaceDisabled}\r\n                    onClick={()=>setAddPlaceDialogOpen(true)}\r\n                    >\r\n                    Add Place\r\n                </Button>\r\n            </Grid>  \r\n            {places.length>0 && (\r\n                <Grid container justifyContent=\"center\">\r\n                    <Typography variant=\"caption\">\r\n                        {`${places.length} places`}\r\n                    </Typography>\r\n                </Grid>\r\n            )}\r\n        </div>\r\n        <div className={classes.sideBarContent}>\r\n        {\r\n            places.length>0?\r\n                <List dense={true} >\r\n                    {\r\n                        places.map((place,index)=>(\r\n                            <ListItem \r\n                                key={place.place_id} \r\n                                className={classes.listItem}\r\n                                disablePadding={true}\r\n                                secondaryAction={\r\n                                    <IconButton \r\n                                        edge=\"end\" aria-label=\"delete\"\r\n                                        onClick={handleDeletePlace(place)}\r\n                                    >\r\n                                        <DeleteOutlineIcon />\r\n                                    </IconButton>\r\n                                }\r\n                            >\r\n                                <ListItemButton \r\n                                  selected={searchPlace?searchPlace.place_id===place.place_id:false}\r\n                                  onClick={()=>setSearchPlace(place)}\r\n                                >\r\n                                    <ListItemText \r\n                                        primary={\r\n                                            <Typography variant=\"subtitle2\" style={{marginBottom:4}}>\r\n                                                {place.name}\r\n                                            </Typography>\r\n                                        }\r\n                                        secondary={\r\n                                            <>\r\n                                            {place.user_ratings_total>0 && (\r\n                                                <Grid container alignItems=\"center\">\r\n                                                    <Typography variant=\"caption\">\r\n                                                       {place.rating} \r\n                                                    </Typography>\r\n                                                    <Rating \r\n                                                        name=\"rating\" \r\n                                                        size=\"small\"\r\n                                                        defaultValue={0} \r\n                                                        precision={0.1} \r\n                                                        readOnly\r\n                                                        value={place.rating} \r\n                                                        style={{marginLeft:5,marginRight:5}}\r\n                                                    />\r\n                                                    <Typography variant=\"caption\">\r\n                                                       {`(${numeral(place.user_ratings_total).format(\"0,0\")})`}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                            )}\r\n                                            <Typography variant=\"caption\" component=\"div\">\r\n                                                {place.type}\r\n                                            </Typography>\r\n                                            <Typography variant=\"caption\">\r\n                                                {place.address}\r\n                                            </Typography>\r\n                                            </>\r\n                                        }\r\n                                    />\r\n                                    <ListItemAvatar>\r\n                                        <Avatar\r\n                                            alt=\"image\"\r\n                                            src={place.image}\r\n                                        />\r\n                                    </ListItemAvatar>\r\n                                </ListItemButton>\r\n                            </ListItem>\r\n                        ))\r\n                    }\r\n                </List>\r\n            :\r\n                <>\r\n                <Typography variant=\"body1\" component=\"div\" align=\"center\" style={{marginTop:30,padding:10}}>\r\n                    Places is empty.\r\n                </Typography> \r\n                <Typography variant=\"body1\" component=\"div\" align=\"center\" style={{padding:10}}>\r\n                    Please add your favorite places.\r\n                </Typography>     \r\n                </>\r\n        }\r\n        </div>\r\n        <Dialog\r\n            open={addPlaceDialogOpen}\r\n            onClose={()=>setAddPlaceDialogOpen(false)}\r\n            aria-labelledby=\"dialog-add-place\"\r\n            aria-describedby=\"dialog-add-place\"\r\n        >\r\n            <DialogTitle>\r\n                Add Place\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    onClick={()=>setAddPlaceDialogOpen(false)}\r\n                    sx={{\r\n                        position: 'absolute',\r\n                        right: 8,\r\n                        top: 8,\r\n                        color: (theme) => theme.palette.grey[500],\r\n                    }}\r\n                >\r\n                  <CloseIcon />\r\n                </IconButton>\r\n            </DialogTitle>\r\n            <ValidatorForm\r\n                onSubmit={handleAddPlace}\r\n                style={{ width: \"100%\" }}\r\n            >\r\n                <DialogContent>\r\n                    <ListItem \r\n                       className={classes.listItem}\r\n                       disablePadding\r\n                       style={{paddingBottom:10}}\r\n                    >\r\n                        <ListItemText \r\n                            primary={\r\n                                <Typography variant=\"subtitle2\" style={{marginBottom:4}}>\r\n                                    {searchPlace?searchPlace.name:''}\r\n                                </Typography>\r\n                            }\r\n                            secondary={\r\n                                <>\r\n                                {(searchPlace && searchPlace.user_ratings_total>0) && (\r\n                                    <Grid container alignItems=\"center\">\r\n                                        <Typography variant=\"caption\">\r\n                                        {searchPlace?searchPlace.rating:''} \r\n                                        </Typography>\r\n                                        <Rating \r\n                                            name=\"rating\" \r\n                                            size=\"small\"\r\n                                            defaultValue={0} \r\n                                            precision={0.1} \r\n                                            readOnly\r\n                                            value={searchPlace?searchPlace.rating:0} \r\n                                            style={{marginLeft:5,marginRight:5}}\r\n                                        />\r\n                                        <Typography variant=\"caption\">\r\n                                        {searchPlace?`(${numeral(searchPlace.user_ratings_total).format(\"0,0\")})`:''}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                )}\r\n                                <Typography variant=\"caption\" component=\"div\">\r\n                                    {searchPlace?searchPlace.type:''}\r\n                                </Typography>\r\n                                <Typography variant=\"caption\">\r\n                                    {searchPlace?searchPlace.address:''}\r\n                                </Typography>\r\n                                </>\r\n                            }\r\n                        />\r\n                        <ListItemAvatar>\r\n                            <Avatar\r\n                                alt=\"image\"\r\n                                src={searchPlace?searchPlace.imageLink:''}\r\n                            />\r\n                        </ListItemAvatar>\r\n                    </ListItem>\r\n                    <Button\r\n                       color=\"warning\"\r\n                       startIcon={<MapIcon />}\r\n                       style={{padding:'5px 10px',marginTop:10,marginBottom:10}}\r\n                       onClick={()=>window.open(searchPlace.imageLink,'_blank')}\r\n                    >\r\n                       Open Image Link\r\n                    </Button>\r\n                    <TextValidator \r\n                        name=\"postcode\"\r\n                        placeholder=\"google place image url\"\r\n                        fullWidth\r\n                        value={searchPlace?searchPlace.image:''}\r\n                        onChange={handleURLChange}\r\n                        validators={['required']}\r\n                        errorMessages={['Image URL is required.']}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Grid container spacing={3}>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <Button \r\n                            variant=\"contained\" \r\n                            color=\"primary\" \r\n                            fullWidth\r\n                            onClick={()=>setAddPlaceDialogOpen(false)}\r\n                        >Cancel</Button>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <Button \r\n                            type=\"submit\"\r\n                            variant=\"contained\"\r\n                            color=\"warning\"\r\n                            autoFocus\r\n                            fullWidth\r\n                        >Add</Button>\r\n                    </Grid>\r\n                    </Grid>\r\n               </DialogActions>\r\n            </ValidatorForm>  \r\n        </Dialog>\r\n        <Dialog\r\n            open={deletePlaceDialogOpen}\r\n            onClose={()=>setDeletePlaceDialogOpen(false)}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle>\r\n                Delete Place\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    onClick={()=>setDeletePlaceDialogOpen(false)}\r\n                    sx={{\r\n                        position: 'absolute',\r\n                        right: 8,\r\n                        top: 8,\r\n                        color: (theme) => theme.palette.grey[500],\r\n                    }}\r\n                >\r\n                  <CloseIcon />\r\n                </IconButton>\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <Typography variant=\"subtitle1\" align=\"center\" style={{marginTop:20}}>\r\n                   Are you sure you want to delete selected place?\r\n                </Typography>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Grid container spacing={3}>\r\n                   <Grid item xs={12} sm={6}>\r\n                      <Button \r\n                         variant=\"contained\" \r\n                         color=\"primary\" \r\n                         fullWidth\r\n                         onClick={()=>setDeletePlaceDialogOpen(false)}\r\n                      >Cancel</Button>\r\n                   </Grid>\r\n                   <Grid item xs={12} sm={6}>\r\n                      <Button \r\n                         variant=\"contained\"\r\n                         color=\"warning\"\r\n                         autoFocus\r\n                         fullWidth\r\n                         onClick={handleDeletePlaceDialogOk}\r\n                      >Yes</Button>\r\n                   </Grid>\r\n                </Grid>\r\n            </DialogActions>\r\n        </Dialog>\r\n        </>\r\n   );\r\n\r\n}\r\n\r\nexport default SideBar;","import axios from \"axios\";\r\nimport { BASE_URL } from \"../utils/settings.js\";\r\n\r\nexport const getClusters = async (params) => {\r\n    var result = null;\r\n    \r\n    let url = `${BASE_URL}/api/clusters`;\r\n  \r\n    await axios.post(url, params).then((response) => {\r\n        result = response.data;\r\n    }).catch((err) => {\r\n      result = {\r\n        status: \"failed\",\r\n        message: \"No internet connection\",\r\n      };\r\n    });\r\n    return result;\r\n  };","import axios from \"axios\";\r\nimport { BASE_URL } from \"../utils/settings.js\";\r\n\r\nexport const getMarkers = async (params) => {\r\n  var result = null;\r\n    \r\n  let url = `${BASE_URL}/api/markers`;\r\n\r\n  await axios.post(url, params).then((response) => {\r\n      result = response.data;\r\n  }).catch((err) => {\r\n    result = {\r\n      status: \"failed\",\r\n      message: \"No internet connection\",\r\n    };\r\n  });\r\n  return result;\r\n}\r\n\r\nexport const getMarkerInfo = async (params) => {\r\n    var result = null;\r\n    \r\n    let url = `${BASE_URL}/api/marker/info`;\r\n\r\n    await axios.post(url, params).then((response) => {\r\n        result = response.data;\r\n    }).catch((err) => {\r\n      result = {\r\n        status: \"failed\",\r\n        message: \"No internet connection\",\r\n      };\r\n    });\r\n    return result;\r\n};\r\n\r\nexport const getTracking = async (params) => {\r\n  var result = null;\r\n  \r\n  let url = `${BASE_URL}/api/marker/tracking`;\r\n\r\n  await axios.post(url, params).then((response) => {\r\n      result = response.data;\r\n  }).catch((err) => {\r\n    result = {\r\n      status: \"failed\",\r\n      message: \"No internet connection\",\r\n    };\r\n  });\r\n  return result;\r\n};","import axios from \"axios\";\r\nimport { BASE_URL } from \"../utils/settings.js\";\r\n\r\nexport const getCounts = async (params) => {\r\n    var result = null;\r\n\r\n    let url = `${BASE_URL}/api/counts`;\r\n\r\n    await axios.post(url, params).then((response) => {\r\n        result = response.data;\r\n    }).catch((err) => {\r\n        result = {\r\n        status: \"failed\",\r\n        message: \"No internet connection\",\r\n        };\r\n    });\r\n    return result;\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Paper from '@mui/material/Paper';\r\nimport Typography from '@mui/material/Typography';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { timeFormat, secondsFromDate } from \"../../../utils/util.js\";\r\nimport { getMarkerInfo } from \"../../../services/marker.js\";\r\n\r\nconst useStyles = makeStyles({\r\n    paper:{\r\n        marginBottom:20,\r\n        '&.MuiPaper-root':{\r\n            padding:'30px 30px 20px 30px'\r\n        }\r\n    },\r\n    paperHeader:{\r\n        paddingBottom:10,\r\n        marginBottom:20,\r\n        borderBottom:'1px solid #e3ebf1'\r\n    },\r\n});\r\n\r\nfunction MarkerInfo(props){\r\n    const { params } = props;\r\n    const classes = useStyles();\r\n    const [markerInfo, setMarkerInfo] = useState(null);\r\n\r\n    useEffect(()=>{\r\n     \r\n        fetchMarkerInfo();\r\n          \r\n     }, []);\r\n\r\n    const fetchMarkerInfo = async () => {\r\n        let res = await getMarkerInfo({\r\n            date: params.date,\r\n            id: params.id\r\n        });\r\n        if(res.status === 'success'){\r\n            setMarkerInfo(res.result);\r\n        }else{\r\n            setMarkerInfo(null);\r\n        }\r\n    }\r\n\r\n    return (\r\n        markerInfo?\r\n            <>\r\n            <Paper className={classes.paper}>\r\n                    <Grid container className={classes.paperHeader}>\r\n                        <Typography variant=\"h6\">\r\n                            Device Identification\r\n                        </Typography>\r\n                    </Grid>  \r\n                    <Grid container spacing={1} alignItems=\"center\">\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Advertiser ID</Typography>\r\n                        </Grid>\r\n                        <Grid item md={9} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.advertiser_id}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Country</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.final_country}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Platform</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.platform}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Device Model</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.device_model}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">IPV 4</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.ipv_4}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">IPV 6</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.ipv_6}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Wifi SSID</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.wifi_ssid}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Wifi BSSID</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.wifi_bssid}</Typography>\r\n                        </Grid>\r\n                    </Grid>  \r\n                </Paper>\r\n                <Paper className={classes.paper}>\r\n                    <Grid container className={classes.paperHeader}>\r\n                        <Typography variant=\"h6\">\r\n                            Device Location\r\n                        </Typography>\r\n                    </Grid> \r\n                    <Grid container spacing={1} alignItems=\"center\">\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Location time</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">\r\n                                {`UTC ${timeFormat(markerInfo.location_at-secondsFromDate(params.date))} ${params.date}`}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Location</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">\r\n                                {`[ ${markerInfo.longitude}, ${markerInfo.latitude} ]`}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Altitude</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{`${markerInfo.altitude} m`}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Horizontal Accuracy</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{`${markerInfo.horizontal_accuracy} m`}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Vertical Accuracy</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{`${markerInfo.vertical_accuracy} m`}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Heading</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.heading}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Speed</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{`${markerInfo.speed} m/s`}</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>\r\n                <Paper className={classes.paper}>\r\n                    <Grid container className={classes.paperHeader}>\r\n                        <Typography variant=\"h6\">\r\n                            Other Information\r\n                        </Typography>\r\n                    </Grid> \r\n                    <Grid container spacing={1} alignItems=\"center\">\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">User Agent</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.user_agent}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Publisher ID</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.publisher_id}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Technical Signals</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\"></Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Background</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.background}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Carrier</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.carrier}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Venue Name</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.venue_name}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Venue Category</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.venue_category}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Dwell Time</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.dwell_time}</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>\r\n            </>\r\n            :\r\n            <Grid container justifyContent=\"center\">\r\n                <CircularProgress />\r\n            </Grid>\r\n    );\r\n}\r\n\r\nexport default MarkerInfo;","import React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport { timeFormat, secondsFromDate } from \"../../../utils/util.js\";\r\n\r\nfunction PopupInfo(props){\r\n  const { params, info } = props;\r\n  return (\r\n    <Grid container style={{maxWidth:350,padding:10}}>\r\n        <Grid item xs={12}>\r\n           <Typography variant=\"h6\" style={{marginBottom:10,borderBottom:'1px solid #e3ebf1'}}>\r\n               Location Information\r\n            </Typography>  \r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"subtitle2\">Time</Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"caption\">\r\n            {`UTC ${timeFormat(info['location_at']-secondsFromDate(params.date))} ${params.date}`}\r\n            </Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"subtitle2\">Location</Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"caption\">\r\n                {`[ ${info['longitude']}, ${info['latitude']} ]`}\r\n            </Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"subtitle2\">Altitude</Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"caption\">\r\n                {`${info['altitude']} m`}\r\n            </Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"subtitle2\">Heading</Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"caption\">\r\n                {info['heading']}\r\n            </Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"subtitle2\">Speed</Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"caption\">\r\n                {`${info['speed']} m/s`}\r\n            </Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"subtitle2\">Horizontal Accuracy</Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"caption\">\r\n              {`${info['horizontal_accuracy']} m`}\r\n            </Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"subtitle2\">Vertical Accuracy</Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"caption\">\r\n                {`${info['vertical_accuracy']} m`}\r\n            </Typography>\r\n        </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default PopupInfo;","import React, { useEffect, useState, useRef, useCallback} from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Paper from '@mui/material/Paper';\r\nimport Typography from '@mui/material/Typography';\r\nimport Slider from '@mui/material/Slider';\r\n\r\nimport ReactMapGL, { \r\n    Source,\r\n    Layer,\r\n    Popup,\r\n    WebMercatorViewport\r\n} from 'react-map-gl';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport { MAPBOX_ACCESS_TOKEN } from \"../../../utils/settings.js\";\r\n\r\nimport * as turf from '@turf/turf'\r\n\r\nimport iconMarker from \"../../../assets/images/marker-icon.png\";\r\n\r\nimport { timeFormat, secondsFromDate } from \"../../../utils/util.js\";\r\nimport { getTracking } from \"../../../services/marker.js\";\r\n\r\nimport PopupInfo from \"./PopupInfo.js\";\r\n\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\nconst useStyles = makeStyles({\r\n    mapContainer:{\r\n        flex:1,\r\n        position:'relative'\r\n     },\r\n     mapDiv:{\r\n         border:'1px solid #e3ebf1',\r\n        '& .mapboxgl-ctrl-logo': {\r\n            display: 'none'\r\n         }\r\n     },\r\n     timeslider:{\r\n         position:'absolute',\r\n         bottom:10,\r\n         left:0,\r\n         right:0,\r\n         '& .MuiPaper-root':{\r\n            width:'70%',\r\n            paddingTop:10,\r\n            paddingBottom:5,\r\n            paddingLeft:40,\r\n            paddingRight:40,\r\n            backgroundColor:'rgba(255,255,255,0.7)',\r\n         },\r\n         '&.MuiSlider-root':{\r\n           //position:'absolute'\r\n           width:'60%'\r\n        }\r\n     }\r\n});\r\n\r\nfunction TrackingMap(props){\r\n    const classes = useStyles();\r\n    const { params } = props;\r\n    const mapRef = useRef(null);\r\n    const [viewport, setViewport] = useState({\r\n        longitude: params.geometry.coordinates[0],\r\n        latitude: params.geometry.coordinates[1],\r\n        zoom:15\r\n    });\r\n    const [interactiveLayerIds, setInteractiveLayerIds] = useState(null);\r\n    const [sliderProps, setSliderProps] = useState({\r\n        min:0,\r\n        max:100,\r\n        step: 1,\r\n        defaultValue:0,\r\n        marks:[]\r\n    });\r\n    \r\n    const [sliderValue, setSliderValue] = useState(0);\r\n    const [sliderLabel, setSliderLabel] = useState('');\r\n    //const [isLoading, setIsLoading] = useState(true);\r\n    const [points, setPoints] = useState({\r\n        type: 'FeatureCollection',\r\n        features:[]\r\n    });\r\n    const [trackPoints, setTrackPoints] = useState([]);\r\n    const [trackPoint, setTrackPoint] = useState({\r\n        type: 'FeatureCollection',\r\n        features:[]\r\n    });\r\n    const [trackLine, setTrackLine] = useState({\r\n        type: 'FeatureCollection',\r\n        features:[]\r\n    });\r\n    \r\n    const [hoverInfo, setHoverInfo] = useState(null);\r\n\r\n    const onHover = useCallback(e => {\r\n        if(e.features && e.features.length>0){\r\n            const feature = e.features[0];\r\n            if(feature.layer.id==='points-layer'){\r\n                setHoverInfo({\r\n                    longitude: e.lngLat[0],\r\n                    latitude: e.lngLat[1],\r\n                    data: feature.properties\r\n                });\r\n            }else{\r\n               setHoverInfo(null);\r\n            }\r\n        }else{\r\n            setHoverInfo(null);\r\n        }\r\n    }, []);\r\n\r\n    const handleSliderChange = (event, newValue) => {\r\n        setSliderValue(newValue);\r\n        setSliderLabel(`UTC ${timeFormat(newValue-secondsFromDate(params.date))} ${params.date}`);\r\n\r\n        // current track line\r\n        let newTrackLine={\r\n            type: 'FeatureCollection',\r\n            features:[{\r\n                type:'Feature',\r\n                geometry:{\r\n                    type:'LineString',\r\n                    coordinates:[]\r\n                },\r\n                properties:{}\r\n            }]\r\n        }\r\n        let newPoint = null;\r\n        trackPoints.forEach(point=>{\r\n            if(point.time<=newValue){\r\n                newTrackLine.features[0].geometry.coordinates.push([\r\n                    point.longitude,\r\n                    point.latitude,\r\n                ]);\r\n                newPoint = point;\r\n            }else{\r\n                return;\r\n            }\r\n        });\r\n        setTrackLine(newTrackLine);\r\n\r\n        // current track point\r\n        if(newPoint){\r\n            let newTrackPoint={\r\n                type: 'FeatureCollection',\r\n                features:[{\r\n                    type:'Feature',\r\n                    geometry:{\r\n                        type:'Point',\r\n                        coordinates:[newPoint.longitude, newPoint.latitude]\r\n                    },\r\n                    properties:{heading: newPoint.heading}\r\n                }]\r\n            }\r\n            setTrackPoint(newTrackPoint);\r\n        }\r\n    };\r\n\r\n    const fetchTrackingData = async () => {\r\n        let res = await getTracking({\r\n            date: params.date,\r\n            id: params.id\r\n        });\r\n\r\n        if(res.status === 'success'){\r\n            let result = res.result;\r\n            // full extent map\r\n            var bbox = turf.bbox(result);\r\n            const map = mapRef.current.getMap();\r\n            const { longitude, latitude, zoom } = new WebMercatorViewport({\r\n                ...viewport,\r\n                width: map.getCanvas().width,\r\n                height: map.getCanvas().height,\r\n                }).fitBounds(\r\n                [\r\n                    [bbox[0], bbox[1]],\r\n                    [bbox[2], bbox[3]],\r\n                ],\r\n                { padding: 40 }\r\n            );\r\n            setViewport({\r\n                ...viewport,\r\n                longitude: longitude,\r\n                latitude: latitude,\r\n                zoom: zoom>20?20:zoom-1,\r\n            });\r\n\r\n            // measured points\r\n            setPoints(result);\r\n            setInteractiveLayerIds(['points-layer']);\r\n\r\n            let features = result.features;\r\n\r\n            // current track point\r\n            let t = 0;\r\n            features.forEach(feature=>{\r\n                if(feature.properties.id == params.id){\r\n                    setTrackPoint({\r\n                        type:'FeatureCollection',\r\n                        features:[feature]\r\n                    });\r\n                    t = parseInt(feature.properties[\"location_at\"]);\r\n                    setSliderValue(t);\r\n                    setSliderLabel(`UTC ${timeFormat(t-secondsFromDate(params.date))} ${params.date}`);\r\n                    return;\r\n                }\r\n            });\r\n\r\n            // calculate track points\r\n            let newTrackPoints = [];\r\n            for(let i=0;i<features.length-1;i++){\r\n                var t1 = parseInt(features[i].properties['location_at']);\r\n                var t2 = parseInt(features[i+1].properties['location_at']);\r\n                var dm=(t2-t1)/30;\r\n                var bearing = turf.bearing(features[i], features[i+1]);\r\n                if(dm>1){\r\n                    var k=0;\r\n                    while(t1<t2){\r\n                        var from_lat=parseFloat(features[i].properties['latitude']);\r\n                        var from_lng=parseFloat(features[i].properties['longitude']);\r\n                        var to_lat=parseFloat(features[i+1].properties['latitude']);\r\n                        var to_lng=parseFloat(features[i+1].properties['longitude']);\r\n                        var lat=from_lat+(to_lat-from_lat)*k/dm;\r\n                        var lng=from_lng+(to_lng-from_lng)*k/dm;\r\n                        newTrackPoints.push({\r\n                           latitude: lat,\r\n                           longitude: lng,\r\n                           time: t1,\r\n                           heading: turf.bearingToAzimuth(bearing),\r\n                        });\r\n                        t1+=30;\r\n                        k++;\r\n                    }\r\n                }else{\r\n                    newTrackPoints.push({\r\n                        latitude: parseFloat(features[i].properties['latitude']),\r\n                        longitude: parseFloat(features[i].properties['longitude']),\r\n                        time: t1,\r\n                        heading: turf.bearingToAzimuth(bearing),\r\n                    });\r\n                }\r\n            }\r\n\r\n            setTrackPoints(newTrackPoints);\r\n\r\n            // current track line\r\n            let newTrackLine={\r\n                type: 'FeatureCollection',\r\n                features:[{\r\n                    type:'Feature',\r\n                    geometry:{\r\n                        type:'LineString',\r\n                        coordinates:[]\r\n                    },\r\n                    properties:{}\r\n                }]\r\n            }\r\n            newTrackPoints.forEach(point=>{\r\n                if(point.time<=t){\r\n                    newTrackLine.features[0].geometry.coordinates.push([\r\n                        point.longitude,\r\n                        point.latitude,\r\n                    ]);\r\n                }else{\r\n                    return;\r\n                }\r\n            });\r\n            setTrackLine(newTrackLine);\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const map = mapRef.current.getMap();\r\n        \r\n        map.loadImage(iconMarker, (error, image) => {\r\n            if (error) throw error;\r\n            // Add the image to the map style.\r\n            map.addImage('marker-icon', image);\r\n        });\r\n\r\n        const t0 = secondsFromDate(params.date);\r\n        setSliderProps({\r\n        min: t0,\r\n        max: t0+86399,\r\n        defaultValue:t0+86399,\r\n        step: 30,\r\n        marks:[\r\n            { value: t0, label: '0'},\r\n            { value: t0+3*3600, label: '3'},\r\n            { value: t0+6*3600, label: '6'},\r\n            { value: t0+9*3600, label: '9'},\r\n            { value: t0+12*3600, label: '12'},\r\n            { value: t0+15*3600, label: '15'},\r\n            { value: t0+18*3600, label: '18'},\r\n            { value: t0+21*3600, label: '21'},\r\n            { value: t0+24*3600, label: '24'}\r\n        ]\r\n        });\r\n        setSliderValue(t0);\r\n        setSliderLabel(`UTC ${timeFormat(0)} ${params.date}`);\r\n        \r\n        fetchTrackingData();\r\n        \r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.mapContainer}>\r\n            <ReactMapGL className={classes.mapDiv}\r\n                {...viewport}    \r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                mapStyle=\"mapbox://styles/mapbox/light-v10\"\r\n                mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\r\n                attributionControl={false}\r\n                maxZoom={20}\r\n                //minZoom={14}\r\n                ref={mapRef}\r\n                interactiveLayerIds={interactiveLayerIds}\r\n                onViewportChange={setViewport}\r\n                onHover={onHover}\r\n            >\r\n                <Source id=\"trackLine\" type=\"geojson\" data={trackLine}>\r\n                    <Layer id=\"trackLine\" type=\"line\"\r\n                        filter={['==', '$type', 'LineString']}\r\n                        paint={{\r\n                            'line-color': 'cyan',\r\n                            'line-opacity': 0.75,\r\n                            'line-width': 4\r\n                        }}\r\n                    />\r\n                </Source>   \r\n                <Source id=\"points\" type=\"geojson\" data={points}>\r\n                    <Layer\r\n                        id='points-layer'\r\n                        type='circle'\r\n                        source='points'\r\n                        paint={{\r\n                          'circle-color': '#1976d2',\r\n                          'circle-radius': 6\r\n                        }}\r\n                    />\r\n                </Source>\r\n                <Source id=\"trackPoint\" type=\"geojson\" data={trackPoint}>\r\n                    <Layer\r\n                        id='track-point-layer'\r\n                        type='symbol'\r\n                        source='trackPoint'\r\n                        layout={{\r\n                            'icon-image': 'marker-icon',\r\n                            'icon-size': 0.6,\r\n                            'icon-rotate': [\"get\",\"heading\"],\r\n                            'icon-allow-overlap':true,\r\n                            'icon-ignore-placement': true,\r\n                            'icon-rotation-alignment':'map', // viewport\r\n                            'icon-pitch-alignment':'viewport'\r\n                        }}\r\n                    />\r\n                </Source>\r\n                {hoverInfo && (\r\n                    <Popup\r\n                        longitude={hoverInfo.longitude}\r\n                        latitude={hoverInfo.latitude}\r\n                        closeButton={false}\r\n                    >\r\n                       <PopupInfo info={hoverInfo.data} params={params} />\r\n                    </Popup>\r\n                )}\r\n            </ReactMapGL>\r\n            <Grid container className={classes.timeslider} justifyContent=\"center\">\r\n                <Paper>\r\n                    <Typography variant=\"h6\" align=\"center\">\r\n                        {sliderLabel}\r\n                    </Typography>\r\n                    <Slider\r\n                        aria-label=\"track time\"\r\n                        value={sliderValue}\r\n                        onChange={handleSliderChange}\r\n                        //valueLabelDisplay=\"auto\"\r\n                        style={{color:'#ff844b'}}\r\n                        {...sliderProps}\r\n                    />\r\n                </Paper>\r\n            </Grid>\r\n        </div>  \r\n    );\r\n}\r\n\r\nexport default TrackingMap;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAyCAMAAAAKuilWAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAj1QTFRFAAAAUbvW/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWtXpTgAAAAL90Uk5TAAAJgbcodv/CBxrn/muw8hhClgXS/VYBiNEOIOxmBLv5LlerCNxRnOAUNPeJAMz7N2y+F+93r+k/+I0SyplgMRMDAg0lT4DL9VT81XMhCRIUDgIRTrPPBgr0hAsaYrfd5+njzYI0AUR49tc1Oa/6/9RnBRBIgwqF/cokk9NJEL/+60MIvO48A60dTZwGuvA+WaTx4DYNaIspkx/70iiW6jfvjablLS/2fHDFC4zWfcZQ2/WKYdn87ZQbbJGomkgzCm4xAAAB9ElEQVR4nGNgIBkw4pVlYmZhxaubjZ2dgxOPAi5udnYeXjwK+NiBgF8Ap7wgOxgICeOQFxCBKBAVwy4vLsEOBZJSWBVIy8AU8Mhik5eTZ4cDBUUsCpR4EArYlcUx5FVUkeTZRdUwXKjOjgI0NNEUaGmjKmDX0UV1oR6aPLu+AYoCQ3R5dnYjZHcam2AqYDdFyAubYZFnN5eGK7CwxKaA3QrmTmsbMJ/b1s7ewdHJ2cXVzV0UJODhCZFndPMCBr+3j68TA6Off0BgEINucEgoyNCwcLCCiEhg4EdFMzDExMbFJyQmJaekpjE4pWsAVWSAFQRnsmdlMzDk5Oblw0BBYRFDsboou4gjWEVJqSZDWXlFPjKorGJwrK6phfujrr4hHxU0NjHoOsHlm1vyMUBrGyKg2jsw5fPzEzvhCrrysCnI726Hyvf0YpXP7+uHKpiA3YD8/Fyogok45PMnNUMUTMalIH8KWH4qehAgwDSwgiqc8vnTwQpm4FYwE6xgFm4F5ZBgmI1TwQSIL+bgVDAXomAeLvn50LBesBCHgkWwyFyMXX7JUlhsLluOVcEKeHQzrsQWmKtWI1IMwxpM+bUBSPIMResq0OTXdzKggLQNG5GlN22eyoAOerZs3QaV3r5jJ4Y0ON5Td+2euGfvin0xaVjlsQMAFN44ROMgIzgAAAAASUVORK5CYII=\"","import React, { useState } from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Drawer from '@mui/material/Drawer';\r\nimport Typography from '@mui/material/Typography';\r\nimport ToggleButton from '@mui/material/ToggleButton';\r\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\r\n\r\nimport MarkerInfo from \"./MarkerInfo.js\";\r\nimport TrackingMap from './TrackingMap.js';\r\n\r\nconst useStyles = makeStyles({\r\n    drawer:{\r\n       '& .MuiBackdrop-root':{\r\n           //position:'absolute'\r\n           //backgroundColor:'transparent' //'rgba(0,0,0,0.2)'\r\n       },\r\n       '&>.MuiPaper-root':{\r\n           //position: 'absolute',\r\n           display:'flex',\r\n           flexDirection:'column',\r\n           width: '50%',\r\n           minWidth:400,\r\n           padding:'20px 40px',\r\n           backgroundColor:'#f1f6fa',\r\n           boxSizing:'border-box'\r\n       }\r\n    },\r\n    drawerHeader:{\r\n      display:'flex',\r\n      flexDirection:'row',\r\n      paddingTop:20,\r\n      paddingBottom:16,\r\n      marginBottom:20,\r\n      borderBottom:'1px solid #e3ebf1'\r\n    },\r\n });\r\n\r\nfunction MarkerPanel(props) {\r\n    const classes = useStyles();\r\n    const {\r\n        markerPanelInfo,\r\n        setMarkerPanelInfo\r\n    } = props;\r\n\r\n    const [toggleValue, setToggleValue] = useState('properties');\r\n    \r\n    const toggleDrawer = (open) => (event) => {\r\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n            return;\r\n        }\r\n        setMarkerPanelInfo({\r\n            ...markerPanelInfo,\r\n            open: open\r\n        });\r\n    };\r\n\r\n    const handleToggleButton = (event, newValue) => {\r\n        if(newValue !== null){\r\n          setToggleValue(newValue);\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <Drawer\r\n            className={classes.drawer}\r\n            anchor=\"left\"\r\n            open={true}\r\n            onClose={toggleDrawer(false)}\r\n        >\r\n          <Grid container className={classes.drawerHeader} justifyContent=\"space-between\" alignItems=\"center\">\r\n                <Typography variant=\"h6\">\r\n                    Device Information\r\n                </Typography>\r\n                <ToggleButtonGroup \r\n                    value={toggleValue} exclusive\r\n                    onChange={handleToggleButton} aria-label=\"marker button group\"\r\n                >\r\n                    <ToggleButton value=\"properties\" aria-label=\"Properties\">\r\n                       Properties\r\n                    </ToggleButton>\r\n                    <ToggleButton value=\"tracking\" aria-label=\"Tracking\">\r\n                       Tracking\r\n                    </ToggleButton>\r\n                </ToggleButtonGroup>\r\n          </Grid>\r\n          {toggleValue === 'properties' && (\r\n             <MarkerInfo params={markerPanelInfo} />\r\n          )}\r\n          {toggleValue === 'tracking' && (\r\n             <TrackingMap params={markerPanelInfo} />\r\n          )}\r\n        </Drawer>\r\n   );\r\n}\r\n\r\nexport default MarkerPanel;","\r\nimport React, { useState, useEffect, useRef } from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\n\r\nimport ReactMapGL, { \r\n           Source,\r\n           Layer,\r\n           Marker,\r\n           ScaleControl,\r\n           NavigationControl,\r\n           WebMercatorViewport,\r\n           FlyToInterpolator\r\n       } from 'react-map-gl';\r\n\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nimport numeral from \"numeral\";\r\n\r\nimport { MAPBOX_ACCESS_TOKEN, DEFAULT_VIEWPORT } from \"../../utils/settings.js\";\r\nimport { dateFormat } from \"../../utils/util.js\";\r\nimport { getClusters } from \"../../services/cluster.js\";\r\nimport { getMarkers } from \"../../services/marker.js\";\r\nimport { getCounts } from \"../../services/counts.js\";\r\n\r\nimport iconMarker from \"../../assets/images/user-icon.png\";\r\nimport iconSearch from \"../../assets/images/search-marker.png\";\r\n\r\nimport MarkerPanel from \"./MarkerPanel/MarkerPanel.js\";\r\n\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\nconst useStyles = makeStyles({\r\n   mapDiv:{\r\n      '& .mapboxgl-ctrl-logo': {\r\n         display: 'none'\r\n       }\r\n   },\r\n   addressLabel:{\r\n      display:'flex',\r\n      alignItems:'center',\r\n      padding:'0 10px',\r\n      width:240,\r\n      height:60,\r\n      color:'#000',\r\n      fontSize:14,\r\n      lineHeight:'14px',\r\n      //borderRadius:4,\r\n      borderLeft:'2px solid #ff0000',\r\n      backgroundColor:'rgba(255,255,255,0.8)',\r\n      pointerEvents:'none'\r\n   }\r\n});\r\n\r\nlet timeout = null;\r\n\r\nfunction Map(props) {\r\n    const classes = useStyles();\r\n    const { \r\n       searchPlace,\r\n       filter,\r\n       renderMode,\r\n       setCounts\r\n    } = props;\r\n\r\n    const mapRef = useRef(null);\r\n    const [viewport, setViewport] = useState(DEFAULT_VIEWPORT);\r\n    const [interactiveLayerIds, setInteractiveLayerIds] = useState([]);\r\n    const [clusterSource, setClusterSource] = useState({\r\n        type: 'FeatureCollection',\r\n        features:[]\r\n    });\r\n    const [heatmapSource, setHeatmapSource] = useState({\r\n        type: 'FeatureCollection',\r\n        features:[]\r\n    });\r\n    const [showLoading, setShowLoading] = useState(true);\r\n    \r\n    const [markerPanelInfo, setMarkerPanelInfo] = useState(false);\r\n\r\n    const handleClick = async (e) => {\r\n        if(e.features && e.features.length>0){\r\n            const feature = e.features[0];\r\n            if(feature.layer.id === 'cluster-layer'){\r\n                setViewport({\r\n                    ...viewport,\r\n                    longitude: feature.geometry.coordinates[0],\r\n                    latitude: feature.geometry.coordinates[1],\r\n                    zoom: viewport.zoom + 1,\r\n                    transitionDuration: 500\r\n                });\r\n            }else if(feature.layer.id === 'unclustered-point-layer'){\r\n                setMarkerPanelInfo({\r\n                    ...markerPanelInfo,\r\n                    open: true,\r\n                    date: dateFormat(filter.date),\r\n                    id: feature.properties[\"id\"],\r\n                    geometry: feature.geometry\r\n                });\r\n               \r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n\r\n        const map = mapRef.current.getMap();\r\n        \r\n        map.loadImage(iconMarker, (error, image) => {\r\n            if (error) throw error;\r\n            // Add the image to the map style.\r\n            map.addImage('marker-icon', image);\r\n        });\r\n        \r\n        return () => {\r\n            if(map.hasImage('marker-icon')){\r\n                map.removeImage('marker-icon');\r\n            }\r\n        }\r\n\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        if(searchPlace){\r\n            const vp = new WebMercatorViewport(viewport);\r\n            const { zoom } = vp.fitBounds( //const {longitude, latitude, zoom}\r\n                [ \r\n                    [searchPlace.viewport[0], searchPlace.viewport[1]],\r\n                    [searchPlace.viewport[2], searchPlace.viewport[3]]\r\n                ],\r\n                { padding: 40 }\r\n            );\r\n            setViewport({\r\n                ...viewport,\r\n                longitude:searchPlace.location[0],\r\n                latitude:searchPlace.location[1],\r\n                zoom,\r\n                transitionInterpolator: new FlyToInterpolator(),\r\n                transitionDuration: 1000\r\n            });\r\n        }\r\n    }, [searchPlace]);\r\n\r\n    useEffect(()=>{\r\n\r\n       const map = mapRef.current.getMap();\r\n\r\n       map.on('moveend', mapDataCallback);\r\n\r\n       mapDataCallback();\r\n\r\n       return () => map.off('moveend', mapDataCallback);\r\n\r\n    }, [filter, renderMode]);\r\n\r\n    const mapDataCallback = () => {\r\n        const map = mapRef.current.getMap();\r\n        setInteractiveLayerIds([]);\r\n        if(timeout){\r\n            clearTimeout(timeout);\r\n        }\r\n        timeout = setTimeout(async () => {\r\n           setShowLoading(true);\r\n           let poiLocations = [];\r\n           if(filter.category !== 'All Categories'){\r\n                const poiFeatures = map.queryRenderedFeatures({ layers: ['poi-label'] });\r\n                let categoryFeatures = poiFeatures.filter(feature=>feature.properties[\"category_en\"]===filter.category);\r\n                categoryFeatures.forEach(feature=>{\r\n                   poiLocations.push(feature.geometry.coordinates);\r\n                });\r\n                if(poiLocations.length === 0){\r\n                    setClusterSource({\r\n                        type: 'FeatureCollection',\r\n                        features:[]\r\n                    });\r\n                    setCounts([]);\r\n                    setShowLoading(false);\r\n                    return;\r\n                }\r\n           }\r\n           if(renderMode === 'cluster'){\r\n                let newClusterSource = {\r\n                    type: 'FeatureCollection',\r\n                    features:[]\r\n                };\r\n                let res = await getClusters({\r\n                    date: dateFormat(filter.date),\r\n                    timeRange: filter.timeRange,\r\n                    zoom: map.getZoom(),\r\n                    bounds: map.getBounds().toArray().flat(),\r\n                    poiLocations: poiLocations,\r\n                    poiRadius: filter.category_distance\r\n                });\r\n                if(res.status === 'success'){\r\n                    if(res.result && res.result.features){\r\n                        res.result.features.forEach(feature => {\r\n                            var abbr = numeral(feature.properties[\"point_count\"]).format(\"0.[0] a\").toUpperCase();\r\n                            if(feature.properties[\"point_count\"]>=1000){\r\n                            abbr += '+';\r\n                            }\r\n                            feature.properties[\"point_count_abbreviated\"] = abbr;\r\n                        });\r\n                        newClusterSource = res.result;\r\n                    }\r\n                }\r\n                setClusterSource(newClusterSource);\r\n                setInteractiveLayerIds(['cluster-layer','unclustered-point-layer']);\r\n           }else if(renderMode === 'heatmap'){\r\n                let newHeatmapSource = {\r\n                    type: 'FeatureCollection',\r\n                    features:[]\r\n                };\r\n                let res = await getMarkers({\r\n                    date: dateFormat(filter.date),\r\n                    timeRange: filter.timeRange,\r\n                    zoom: map.getZoom(),\r\n                    bounds: map.getBounds().toArray().flat(),\r\n                    poiLocations: poiLocations,\r\n                    poiRadius: filter.category_distance\r\n                });\r\n                if(res.status === 'success'){\r\n                    if(res.result && res.result.features){\r\n                        newHeatmapSource = res.result;\r\n                    }\r\n                }\r\n                setHeatmapSource(newHeatmapSource);\r\n                setInteractiveLayerIds(['unclustered-point-layer']);\r\n           }\r\n           \r\n           setShowLoading(false);\r\n\r\n           let res = await getCounts({\r\n                date: dateFormat(filter.date),\r\n                timeRange: filter.timeRange,\r\n                bounds: map.getBounds().toArray().flat(),\r\n                poiLocations: poiLocations,\r\n                poiRadius: filter.category_distance\r\n           });\r\n           if(res.status === 'success'){\r\n              var newCounts = [];\r\n              newCounts['TOTAL'] = 0;\r\n              res.result.forEach(row=>{\r\n                  newCounts[row.platform] = row.count;\r\n                  newCounts['TOTAL'] += parseInt(row.count);\r\n              });\r\n              setCounts(newCounts);\r\n           }else{\r\n              setCounts([]);\r\n           }\r\n        }, 500);\r\n    }\r\n\r\n    return (\r\n        <ReactMapGL className={classes.mapDiv}\r\n            {...viewport}    \r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            mapStyle=\"mapbox://styles/mapbox/streets-v11\"\r\n            //mapStyle=\"mapbox://styles/mapbox/satellite-streets-v11\"\r\n            mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\r\n            ref={mapRef}\r\n            attributionControl={false}\r\n            maxZoom={24}\r\n            minZoom={12}\r\n            onViewportChange={setViewport}\r\n            interactiveLayerIds={interactiveLayerIds}\r\n            onClick={handleClick}\r\n        >\r\n            {renderMode==='cluster' && (\r\n                <Source\r\n                    id=\"clusterSource\"\r\n                    type=\"geojson\"\r\n                    data={clusterSource}\r\n                    //cluster={true}\r\n                    //clusterMaxZoom={14}\r\n                    //clusterRadius={50}\r\n                >\r\n                    <Layer\r\n                        id='cluster-layer'\r\n                        type='circle'\r\n                        source='clusterSource'\r\n                        filter={['>', 'point_count', 1]}\r\n                        paint={{\r\n                          'circle-color': ['step', ['get', 'point_count'], '#51bbd6', 100, '#f1f075', 750, '#f28cb1'],\r\n                          'circle-radius': ['step', ['get', 'point_count'], 20, 100, 30, 750, 40]\r\n                        }}\r\n                    />\r\n                    <Layer \r\n                        id='cluster-count-layer'\r\n                        type='symbol'\r\n                        source='clusterSource'\r\n                        filter={['>', 'point_count', 1]}\r\n                        layout={{\r\n                          'text-field': '{point_count_abbreviated}',\r\n                          'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],\r\n                          'text-size': 12\r\n                        }}\r\n                    />\r\n                    <Layer\r\n                        id='unclustered-point-layer'\r\n                        type='symbol'\r\n                        source='clusterSource'\r\n                        filter={['==', 'point_count', 1]}\r\n                        layout={{\r\n                           'icon-image': 'marker-icon',\r\n                           'icon-size': 0.5,\r\n                           'icon-offset':[0, -32],\r\n                           //'icon-rotate': [\"get\",\"heading\"],\r\n                           'icon-allow-overlap':true,\r\n                           'icon-ignore-placement': true,\r\n                           //'icon-rotation-alignment':'map', // viewport\r\n                           //'icon-pitch-alignment':'viewport'\r\n                        }}\r\n                    />\r\n                    {markerPanelInfo.open && (\r\n                        <Layer\r\n                            id='select-point-layer'\r\n                            type='symbol'\r\n                            source='clusterSource'\r\n                            filter={['==', 'id', markerPanelInfo.id]}\r\n                            layout={{\r\n                                'icon-image': 'marker-icon',\r\n                                'icon-size': 0.7,\r\n                                'icon-offset':[0, -32],\r\n                                'icon-allow-overlap':true,\r\n                                'icon-ignore-placement': true,\r\n                             }}\r\n                        />\r\n                    )}\r\n                </Source>\r\n            )}\r\n            {renderMode==='heatmap' && (\r\n                <Source\r\n                    id=\"heatmapSource\"\r\n                    type=\"geojson\"\r\n                    data={heatmapSource}\r\n                >\r\n                    <Layer \r\n                       id='heatmap-layer'\r\n                       type='heatmap'\r\n                       source='heatmapSource'\r\n                       maxzoom={19}\r\n                       paint={{\r\n                         'heatmap-weight':[\r\n                            'interpolate',['linear'], ['zoom'],\r\n                            12,\r\n                            0.2,\r\n                            19,\r\n                            1\r\n                          ],\r\n                         'heatmap-intensity': [\r\n                            'interpolate',['linear'], ['zoom'],\r\n                            12,\r\n                            5,\r\n                            19,\r\n                            1\r\n                          ],\r\n                          'heatmap-color': [\r\n                            'interpolate',['linear'],['heatmap-density'],\r\n                            0,\r\n                            'rgba(33,102,172,0)',\r\n                            0.2,\r\n                            'rgb(103,169,207)',\r\n                            0.4,\r\n                            'rgb(209,229,240)',\r\n                            0.6,\r\n                            'rgb(166,189,219)',\r\n                            0.8,\r\n                            'rgb(103,169,207)',\r\n                            1,\r\n                            'rgb(28,144,153)'\r\n                          ],\r\n                         'heatmap-radius': [\r\n                            'interpolate',['linear'],['zoom'],\r\n                            12,\r\n                            16,\r\n                            19,\r\n                            40\r\n                         ],\r\n                         'heatmap-opacity': [\r\n                            'interpolate',['linear'],['zoom'],\r\n                            12,\r\n                            0.9,\r\n                            19,\r\n                            0.5\r\n                         ]\r\n                       }}\r\n                    />\r\n                    <Layer\r\n                        id='unclustered-point-layer'\r\n                        type='symbol'\r\n                        source='heatmapSource'\r\n                        minzoom={18}\r\n                        layout={{\r\n                            'icon-image': 'marker-icon',\r\n                            'icon-size': 0.5,\r\n                            'icon-offset':[0, -32],\r\n                            //'icon-rotate': [\"get\",\"heading\"],\r\n                            'icon-allow-overlap':true,\r\n                            'icon-ignore-placement': true,\r\n                            //'icon-rotation-alignment':'map', // viewport\r\n                            //'icon-pitch-alignment':'viewport'\r\n                        }}\r\n                    />\r\n                    {markerPanelInfo.open && (\r\n                        <Layer\r\n                            id='select-point-layer'\r\n                            type='symbol'\r\n                            source='clusterSource'\r\n                            filter={['==', 'id', markerPanelInfo.id]}\r\n                            layout={{\r\n                                'icon-image': 'marker-icon',\r\n                                'icon-size': 0.7,\r\n                                'icon-offset':[0, -32],\r\n                                'icon-allow-overlap':true,\r\n                                'icon-ignore-placement': true,\r\n                            }}\r\n                        />\r\n                    )}\r\n                </Source>\r\n            )}\r\n            <NavigationControl style={{ top:70,right:10}}/>\r\n            <ScaleControl style={{bottom:10,left:10}} />\r\n            {searchPlace && (\r\n                <>\r\n                <Marker longitude={searchPlace.location[0]} latitude={searchPlace.location[1]} offsetLeft={-16} offsetTop={-32}>\r\n                    <img src={iconSearch} alt=\"marker\" />\r\n                </Marker>\r\n                <Marker longitude={searchPlace.location[0]} latitude={searchPlace.location[1]} offsetLeft={16} offsetTop={-46}>\r\n                    <div className={classes.addressLabel}>{searchPlace.address}</div>\r\n                </Marker>\r\n                </>\r\n            )}\r\n            {markerPanelInfo.open && (\r\n                <MarkerPanel\r\n                    markerPanelInfo={markerPanelInfo}    \r\n                    setMarkerPanelInfo={setMarkerPanelInfo}\r\n                />\r\n            )}\r\n            {showLoading && <LinearProgress />}\r\n        </ReactMapGL>\r\n    );\r\n}\r\n\r\nexport default Map;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAArJQTFRFO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzRaC3ptLd4/H0/P7++fz93+/znc3ZQZ62O5uzO5uzO5uzXKzA6PT2/v///////f//4O/zUaa7O5uzO5uzRKC33u7yQZ61O5uzpdHch8HQO5uzO5uz4vD0rtXgR6G3S6O5wuDn0+juO5uzO5uz+/3+TaS69vv8O5uzO5uz+Pz8U6e99fr7O5uzO5uz3e7ywuDo0+nuyuTrO5uzO5uzmszYfLzNO5uzO5uzzOXrP520O5uzO5uzSqO5rdXf8/n78fj6otDcO5uzO5uzrdbg8Pj6o9DcO5uzO5uzi8TS7/j5d7nKO5uz8/n67PX3hsHQj8bU8vj66vX3O5uz7/f56/X3h8LQQp+2kMfU5vP2d7rK7fb47PX4Z7LEO5uzO5uzaLLFWqu/O5uzRqG35/P2Q5+2O5uzxeLpstjhO5uzO5uzl8rXgL7OO5uzO5uzabLF+vz9z+ft9fv8O5uzO5uzR6G46fT3Uaa8W6zAO5uzx+Ppc7jJiMLRs9jhmMvXo9Dbu9zlf77OO5uzO5uz8vn60ejtQJ616/X47vb55fL2O5uzd7rLaLLE5vL2O5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uz3dPDsgAAAOZ0Uk5TAAIBAwQ6gbLQ5/b99eXOrn0zRazs/6Q8a9nRXFDcPxD+nw3kKVvxRGf7+U5DO/IqEdgMsZNU//////////85Bd7/////////zHD///9M///JSv///////zKv////h+/////mPv////8rhv//WrX//47T//////++6////+H6////+P///////wb/////////////6tL//7v///+K//9WN///J+n/////3af/////fP//////////vF7///////9A////oH7HCh7XxguQuknEuS4oZUizOPwlqYQXD3/LB1H3G5hz3y+uZs2QAAADlElEQVR4nJ2X+UOMQRzG3313S22SMJJIkqJSCbkr2k0UQrkKXch9lXJfIVSOEDly37lvObvc5L5v/4d5q9XOfL/ztswPs+++z/P5vjPPvu87s5KkkSUt0umsrBvY2Ort7BraN3Jo7KgT+QTnmzRtRphm29wJ5bUSckrXwpkgraWLDjFL8FSr1hheXcIVDgLwbRzcRDwhbm3d6wvBqp0YV5qzhzrfXq/OE+LppRZih4718YR4+4hDdLGApxV8RSF2qnf8Nc3PHw8hwN4ynpDOgWiIXSzlCemKhdgN/v5B3Xv07NW7T18guAXDEENCga1f/zCD0WAMCx8ApAgNCHEgMA2q5Q3GyCggDuZD0MAHYIiJNxiHAjFay4U4DFjIcIqOiIkdSYuMgupoLsQx0DKWXjqGkDg6iHiojmNDDBkPLRPopWMJSaCTSIRqkoYJMRk6SAq99MS4hEl0JpMROZUJYQrimFoX4jREns6EOANxREWa+JmzEHk2E+IcaJg7L62WD0ufHwT1DCbETIAviDddX+kWLgIlFjMhLuHUpYkGc552y5ZzlhXmIer48iurqVVZCrp6TXWRtbxHaxZiNi+uo/z6DTlEQUlQbjr9msd7QsxD9ObEjZvysnLop3Jp+hGUuzlvC2fRMyHm8+VrmzITgRTKhLgVN21TktiOawXMnYi/znbsVEKMLETFXcydaI16dtf8iHtQcS9zJxZhln2mm2A/ph5gQtQdhI5Dhyl/JJx2R5EYjsnsO/E4cJw4SdH0U8XxdBApMIbT3DsRvhDOKOM/S8g5ZRLngezP8rLM/5AXFP6icnRJObrMyVfAwnKVc1yj1PUbylFhOJ1ECSe7goVFxw3hpsGYVrugFNNH8xarFshwdb7NLm13SvLu1h3fY58Et1RsdS0FQQlbGbo6u6ObO6yVV+BbHA9Py/j8StEWx4t/LaBN7yjeJ/pYUEHvpLbP8613FpmOarxW8rivzj+o5Al+6/rwkcpW166sgueRzXZRtIh/7G/BZpt2midPMfxZsoyYBf84nifxuHMV5hP+Y5Fe8AVe4j70H4vSyREs/wqdLB5iTffazpx/81bkE52XpXfmBd6LfaLz2g9+dXzmx3/nJc2nugIuQl4YIu2y/25eP38R88IQaffVVCBYZZwqvKTJqOFLVSyqIchV1Vunb9//l5e0P5QCP1UtKiHSLoCuub8CVS1qIdLO1ab8tyqv+QOv/VmKonZqnAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAxhJREFUeNrEl79rFEEUxz+zd14kIVicPyAoklJCtBALCwsLiyQmUbAJKIhVGi92CsFKC1s7fzSCpvMPsLCx0yIRiY0WCopINCHh1vO807uvxc7mNrtzu3uJ4MAw7M3b9/nezOyb94wk/mcrps4aUwAMIKQWxgwBM8AZYBTYZy2/A2+B58AT4GsXjx1/0AJAUrKDEfQJdttxv+ChoClQRm8K7gnKsiSHPxPOdYP3CwbseFqwkgMc718Fpxz+TEQYLvigYI8dzwoa24CH/ZfgfMSfF4VvFdBRGhofE/zcATzsNcEJFzwuoM8u06CgJHiT6XxiQhobyyNiMV0AFOwB6beGVzKdnjsnNZtSoyFNTeURcTEGN4JCKKC4eTqD59e54Kur0vp6XhEvHV9FMboCIXw4N7xSCfr6ulSvS+PjWSKG7Ar32xUvuD7DmUz42po0Nyf9+CFVq9LVq9Lnz9K3b1kiLtgzNmBXwBkH5nPDJanVkr58kWZnAxH1etp2zNuvbDMeuATcTrw4Pd2BVypb4dWqtLERiAi3o9GQJiddAu7YFUiNhNcTLy4vp8Or1eDZ96Vr1wIRS0suATfin6MrEl5KvDg8LI2MBIBu8LD5vjQ6Kh0+7BIwnScSjjj3r1zOhoetXHbB24IDcQFe5Kos2avyE7DkvEzbbajVgtHzYGAgGPO1V8BK/Ecvce9DDXjgdJEH3m4H/zfZ7sezDaBQjDwIqCMJYx4B88ChTXPfh7t3YdcuKJXAmCRCCkT6fnzmA7AQg5eAVjISds7EhX9wE4Z9MrLvGZFwq4in/wD+OAbPiIQduCc4KPi4A/g7C4zCMyJhBx4anxT424BvCI444JmRMG7s2dTsTw/w34IzXeBeLzmhF5mb7UHA5TzwrJzQc6zOrRzw+bzwtJzQSzkbCynw+73Au+eE6Qdzr+CFA/7M+skLT8kJsw/mXsGHCPy9nesF3iUnzK6UwtzxuC1a6oKjWRVQDL4ZCYs2hre6FKdhzG7b95uE5bS0iDE3gSawnLCzW+y4gKJ2LZNanserY7eNu+rNWR3/HQAScWUmS+T+VAAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport ToggleButton from '@mui/material/ToggleButton';\r\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\r\n\r\nconst useStyles = makeStyles({\r\n    togglePanel:{\r\n        position:'absolute',\r\n        top:10,\r\n        right:10\r\n    }\r\n });\r\n\r\nfunction RenderMode(props){\r\n   const classes = useStyles();\r\n   const {\r\n      renderMode,\r\n      setRenderMode\r\n   } = props;\r\n\r\n   const handleToggle = (e, newValue) => {\r\n        if(newValue !== null){\r\n           setRenderMode(newValue);\r\n        }\r\n    }\r\n\r\n   return (\r\n    <div className={classes.togglePanel}>\r\n        <ToggleButtonGroup \r\n            value={renderMode} exclusive\r\n            onChange={handleToggle} aria-label=\"chart button group\"\r\n        >\r\n            <ToggleButton value=\"cluster\" aria-label=\"Cluster\">\r\n                Cluster\r\n            </ToggleButton>\r\n            <ToggleButton value=\"heatmap\" aria-label=\"Heatmap\">\r\n                Heatmap\r\n            </ToggleButton>\r\n        </ToggleButtonGroup>\r\n    </div>\r\n   );\r\n}\r\n\r\nexport default RenderMode;","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Typography from '@mui/material/Typography';\r\nimport numeral from \"numeral\";\r\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\r\nimport PhoneAndroidIcon from '@mui/icons-material/PhoneAndroid';\r\nimport PhoneIphoneIcon from '@mui/icons-material/PhoneIphone';\r\n\r\nconst useStyles = makeStyles({\r\n    countsPanel:{\r\n        position:'absolute',\r\n        top:10,\r\n        left:10,\r\n        width:400,\r\n        //height:160,\r\n        '& .MuiPaper-root':{\r\n           backgroundColor:'rgba(255,255,255,0.8)',\r\n        }\r\n    }\r\n });\r\n\r\nfunction Counts(props){\r\n    const classes = useStyles();\r\n    const { counts } = props;\r\n\r\n    return(\r\n        <div className={classes.countsPanel}>\r\n            <Grid container spacing={2} flexDirection=\"row\">\r\n                <Grid item sm={4} xs={12}>\r\n                    <Paper>\r\n                        <Grid container alignItems=\"center\">\r\n                            <LocationOnIcon color=\"primary\" />\r\n                            <Typography variant=\"caption\">\r\n                                Total Devices\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Typography variant=\"h5\" style={{marginLeft:20}}>\r\n                            {counts[\"TOTAL\"]?numeral(counts[\"TOTAL\"]).format(\"0,0\"):0}\r\n                        </Typography>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item sm={4} xs={12}>\r\n                    <Paper>\r\n                        <Grid container alignItems=\"center\">\r\n                            <PhoneAndroidIcon color=\"primary\" />\r\n                            <Typography variant=\"caption\">\r\n                                Android\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Typography variant=\"h5\" style={{marginLeft:20}}>\r\n                        {counts[\"AAID\"]?numeral(counts[\"AAID\"]).format(\"0,0\"):0}\r\n                        </Typography>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item sm={4} xs={12}>\r\n                    <Paper>\r\n                        <Grid container alignItems=\"center\">\r\n                            <PhoneIphoneIcon color=\"secondary\" />\r\n                            <Typography variant=\"caption\">\r\n                                iPhone\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Typography variant=\"h5\" style={{marginLeft:20}}>\r\n                        {counts[\"IDFA\"]?numeral(counts[\"IDFA\"]).format(\"0,0\"):0}\r\n                        </Typography>\r\n                    </Paper>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Counts;","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Chart from \"react-google-charts\";\r\n\r\nconst useStyles = makeStyles({\r\n    pieChart:{\r\n        position:'absolute',\r\n        top:100,\r\n        left:10,\r\n        width:160,\r\n        height:160,\r\n        '&.MuiPaper-root':{\r\n           borderRadius:'50%',\r\n           backgroundColor:'rgba(255,255,255,0.7)',\r\n        }\r\n    }\r\n });\r\n\r\nfunction PieChart(props){\r\n    const classes = useStyles();\r\n    const { counts } = props;\r\n    const [chartData, setChartData] = useState([]);\r\n    \r\n    useEffect(()=>{\r\n        var newData = [\r\n           ['Platform','Count',{ role: 'style' }],\r\n           ['Android',parseInt(counts[\"AAID\"]),'#000'],\r\n           ['iOS',parseInt(counts[\"IDFA\"]),'#000'],\r\n        ];\r\n        setChartData(newData);\r\n    },[counts]);\r\n\r\n    return(\r\n        <Paper className={classes.pieChart}>\r\n            <Chart\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                chartType=\"PieChart\"\r\n                //loader={<div>Loading</div>}\r\n                data={chartData}\r\n                options={{\r\n                    //title: 'Device Platform',\r\n                    //is3D: true,\r\n                    pieHole: 0.2,\r\n                    legend: { position: 'top', alignment: 'center' },\r\n                    backgroundColor: 'transparent'\r\n                }}\r\n                rootProps={{ 'data-testid': '1' }}\r\n                style={{flex:1,opacity:0.9}}\r\n            />\r\n        </Paper>\r\n    );\r\n}\r\n\r\nexport default PieChart;","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Paper from '@mui/material/Paper';\r\nimport Slider from '@mui/material/Slider';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport { dateFormat, secondsFromDate, timeFormat } from \"../../utils/util.js\";\r\n\r\nconst useStyles = makeStyles({\r\n    timeslider:{\r\n        position:'absolute',\r\n        bottom:10,\r\n        left:0,\r\n        right:0,\r\n        '& .MuiPaper-root':{\r\n           width:'50%',\r\n           maxWidth:600,\r\n           paddingTop:10,\r\n           paddingBottom:5,\r\n           paddingLeft:40,\r\n           paddingRight:40,\r\n           backgroundColor:'rgba(255,255,255,0.7)',\r\n        },\r\n        '&.MuiSlider-root':{\r\n          //position:'absolute'\r\n          //width:'60%'\r\n       }\r\n    }\r\n });\r\n\r\n \r\nfunction TimeSlider(props){\r\n    const classes = useStyles();\r\n    const { \r\n        filter,\r\n        setFilter\r\n    } = props;\r\n    \r\n    const [sliderProps, setSliderProps] = useState({\r\n        min:0,\r\n        max:100,\r\n        step: 1,\r\n        defaultValue:0,\r\n        marks:[]\r\n    });\r\n    const [timeRangeLabel, setTimeRangeLabel] = useState('');\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setFilter({\r\n           ...filter,\r\n           timeRange: newValue\r\n        });\r\n        const t0 = secondsFromDate(dateFormat(filter.date));\r\n        setTimeRangeLabel(`UTC ${timeFormat(newValue[0]-t0)} - ${timeFormat(newValue[1]-t0)} ${dateFormat(filter.date)}`);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        const t0 = secondsFromDate(dateFormat(filter.date));\r\n        setSliderProps({\r\n            min:t0,\r\n            max:t0+86399,\r\n            step:30,\r\n            defaultValue: [t0,t0+86399],\r\n            marks:[\r\n                { value: t0, label: '0'},\r\n                { value: t0+3*3600, label: '3'},\r\n                { value: t0+6*3600, label: '6'},\r\n                { value: t0+9*3600, label: '9'},\r\n                { value: t0+12*3600, label: '12'},\r\n                { value: t0+15*3600, label: '15'},\r\n                { value: t0+18*3600, label: '18'},\r\n                { value: t0+21*3600, label: '21'},\r\n                { value: t0+24*3600, label: '24'}\r\n            ]\r\n        });    \r\n\r\n        setFilter({\r\n            ...filter,\r\n            timeRange: [t0, t0+86399]\r\n        });\r\n        setTimeRangeLabel(`UTC ${timeFormat(0)} - ${timeFormat(86399)} ${dateFormat(filter.date)}`);\r\n\r\n     }, [filter.date]);\r\n\r\n    return (\r\n        <Grid container className={classes.timeslider} justifyContent=\"center\">\r\n            <Paper>\r\n               <Typography variant=\"h6\" align=\"center\">\r\n                  {timeRangeLabel}\r\n               </Typography>\r\n               <Slider\r\n                    getAriaLabel={() => 'Time range'}\r\n                    value={filter.timeRange}\r\n                    onChange={handleChange}\r\n                    //valueLabelDisplay=\"auto\"\r\n                    //color=\"primary\"\r\n                    style={{color:'#ff844b'}}\r\n                    {...sliderProps}\r\n               />\r\n            </Paper>\r\n        </Grid>\r\n    );\r\n}\r\nexport default TimeSlider;","import React, { useState } from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nimport { DEFAULT_DATE } from \"./../../utils/settings.js\";\r\n\r\nimport Header from \"./Header.js\";\r\nimport SideBar from \"./SideBar.js\";\r\nimport Map from \"./Map.js\";\r\nimport RenderMode from \"./RenderMode.js\";\r\nimport Counts from \"./Counts.js\";\r\nimport PieChart from './PieChart.js';\r\nimport TimeSlider from \"./TimeSlider.js\";\r\n\r\nimport { dateFormat, secondsFromDate } from '../../utils/util.js';\r\n\r\nconst useStyles = makeStyles({\r\n   root:{\r\n      display:'flex',\r\n      flexDirection:'column',\r\n      width:'100vw',\r\n      height:'100vh'\r\n   },\r\n   content:{\r\n      position:'relative',\r\n      flex:1,\r\n      display:'flex',\r\n      flexDirection:'row',\r\n      height:0,\r\n      //backgroundColor:'#f1f6fa'\r\n   },\r\n   sidebar:{\r\n     position:'relative',\r\n     display:'flex',\r\n     flexDirection:'column',\r\n     width:400,\r\n     padding:0,\r\n   },\r\n   mapContainer:{\r\n      position:'relative',\r\n      flex:1,\r\n   }\r\n});\r\n\r\nfunction Main() {\r\n    const classes = useStyles();\r\n    const [searchPlace, setSearchPlace] = useState(null);\r\n    const [filter, setFilter] = useState({\r\n       date: DEFAULT_DATE,\r\n       timeRange: [\r\n         secondsFromDate(dateFormat(DEFAULT_DATE)),\r\n         secondsFromDate(dateFormat(DEFAULT_DATE))+86399\r\n      ],\r\n      category: \"All Categories\",\r\n      category_distance: 20\r\n    });\r\n    const [counts, setCounts] = useState([]);\r\n    const [renderMode, setRenderMode] = useState('cluster');\r\n\r\n    return (\r\n       <div className={classes.root}>\r\n           <Header\r\n              searchPlace={searchPlace} \r\n              setSearchPlace={setSearchPlace}\r\n              filter={filter}\r\n              setFilter={setFilter}\r\n           />\r\n           <div className={classes.content}>\r\n              <div className={classes.sidebar}>\r\n                 <SideBar \r\n                    searchPlace={searchPlace}\r\n                    setSearchPlace={setSearchPlace} \r\n                 />\r\n              </div>\r\n              <div className={classes.mapContainer}>\r\n                 <Map \r\n                    searchPlace={searchPlace}\r\n                    filter={filter}\r\n                    renderMode={renderMode}\r\n                    setCounts={setCounts}\r\n                 />\r\n                 <RenderMode \r\n                    renderMode={renderMode}\r\n                    setRenderMode={setRenderMode}\r\n                 />\r\n                 <Counts counts={counts} />\r\n                 <PieChart counts={counts} />\r\n                 <TimeSlider \r\n                    filter={filter}\r\n                    setFilter={setFilter}\r\n                 />\r\n               </div>\r\n           </div>\r\n       </div>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\nimport { createTheme, ThemeProvider, responsiveFontSizes } from '@mui/material/styles';\n\nimport Locations_Dashboard from \"./locations-dashboard/Main.js\";\n\nlet theme = createTheme({\n  components:{\n    MuiPaper:{\n      styleOverrides: {\n        root: {\n          padding:10,\n          boxShadow:'0px 24px 48px -4px #06192114'\n        },\n      },\n    },\n    MuiTypography:{\n      styleOverrides: {\n        root:{\n           lineHeight:'normal'\n        }\n     }\n    },\n    MuiButton:{\n      styleOverrides: {\n         root:{\n            padding:'16px 20px',\n            borderRadius:50,\n            lineHeight:'normal',\n            textTransform:'none'\n         }\n      }\n    },\n    MuiTextField:{\n      styleOverrides: {\n        root: {\n          boxSizing:'border-box'\n        },\n      },\n    },\n    MuiOutlinedInput:{\n      styleOverrides: {\n        root:{\n           padding:'0 16px',\n           borderRadius:72,\n           backgroundColor:'#f1f6fa'\n        },\n        input:{\n           padding:'14px 8px',\n           color:'#162c36'\n        },\n        notchedOutline: {\n          border:0\n        },\n      },\n    },\n    MuiToggleButtonGroup:{\n      styleOverrides: {\n        root: {\n          borderRadius:50,\n          backgroundColor:'#e3ebf1'\n        },\n        grouped:{\n          '&:first-of-type':{\n            marginLeft:0,\n          },\n          '&:last-of-type':{\n            marginRight:0,\n          },\n          '&:not(:first-of-type)':{\n            borderTopLeftRadius:50,\n            borderBottomLeftRadius:50\n          },\n          '&:not(:last-of-type)':{\n            borderTopRightRadius:50,\n            borderBottomRightRadius:50\n          }\n        }\n      },\n    },\n    MuiToggleButton:{\n      styleOverrides: {\n        root: {\n          border:0,\n          borderRadius:50,\n          textTransform: 'none',\n          padding:'10px 20px',\n          marginLeft:10,\n          marginRight:10,\n          '&.Mui-selected':{\n            color:'#fff',\n            backgroundColor:'#ff844b'\n          }\n        }\n      }\n    },\n    MuiInputAdornment:{\n      styleOverrides: {\n        root:{\n          color:'#ff844b'\n        }\n      }\n    },\n    MuiIconButton:{\n      styleOverrides: {\n        root:{\n          color:'#ff844b'\n        }\n      }\n    },  \n    MuiBackdrop:{\n      styleOverrides: {\n         root:{\n            //backgroundColor:'rgba(0,0,0,0.8)'\n         }\n      }\n   },\n   MuiDialog:{\n    styleOverrides: {\n       root:{\n          '& .MuiDialog-paper':{\n             width:480,\n             paddingTop:20,\n             paddingBottom:20,\n             paddingLeft:30,\n             paddingRight:30\n          }\n       }\n    }\n   },\n   MuiDialogTitle:{\n    styleOverrides: {\n       root:{\n          //marginBottom: 20,\n          borderBottom:'1px solid #e3ebf1'\n       }\n    }\n   },\n   MuiDialogContent:{\n    styleOverrides: {\n       root:{\n          padding: 10\n       }\n    }\n   },\n   MuiDialogActions:{\n    styleOverrides: {\n       root:{\n          padding:20\n       }\n    }\n   },\n   MuiListItemButton:{\n    styleOverrides:{\n       root:{\n          borderRadius:8,\n          '&:hover':{\n            backgroundColor:'#f1f6fa'\n          }\n       }\n    }\n  }\n }\n});\n\ntheme = responsiveFontSizes(theme);\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n       <Locations_Dashboard />\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}