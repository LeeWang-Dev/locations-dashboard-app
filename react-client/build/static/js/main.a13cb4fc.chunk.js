(this["webpackJsonprocations-dashboard-app"]=this["webpackJsonprocations-dashboard-app"]||[]).push([[0],{117:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(57),c=n.n(a),O=(n(74),n(135)),s=n(138),i=n(134),C=n(18),u=n.n(C),K=n(28),L=n(21),q=n(5),l=n(16),A=(n(95),n(27)),d=n.n(A),p=n(60),b=n.n(p),f=n(61),g=n.n(f),j=function(){var e=Object(K.a)(u.a.mark((function e(t){var n,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,o="".concat("https://locations-dashboard.herokuapp.com","/api/clusters"),e.next=4,g.a.get(o,{params:t||{}}).then((function(e){n=e.data})).catch((function(e){n={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=n(4);d.a.workerClass=n(114).default;var h=Object(i.a)({mapContainer:{"& .mapboxgl-ctrl-logo":{display:"none"}}});var x=function(){var e=h(),t=Object(o.useRef)(null),n=Object(o.useState)({longitude:0,latitude:0,zoom:1}),r=Object(q.a)(n,2),a=r[0],c=r[1],O=Object(o.useState)({type:"FeatureCollection",features:[]}),s=Object(q.a)(O,2),i=s[0],C=s[1];return Object(o.useEffect)((function(){var e=t.current.getMap(),n=null;e.loadImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAyCAMAAAAKuilWAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAj1QTFRFAAAAOLC4/4qK/4qK/4qK/oqK/oqK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4VkSAhwAAAL90Uk5TAAAJgbcodv/CBxrn/muw8hhClgXS/VYBiNEOIOxmBLv5LlerCNxRnOAUNPeJAMz7N2y+F+93r+k/+I0SyplgMRMDAg0lT4DL9VT81XMhCRIUDgIRTrPPBgr0hAsaYrfd5+njzYI0AUR49tc1Oa/6/9RnBRBIgwqF/cokk9NJEL/+60MIvO48A60dTZwGuvA+WaTx4DYNaIspkx/70iiW6jfvjablLS/2fHDFC4zWfcZQ2/WKYdn87ZQbbJGomkgzCm4xAAAB9ElEQVR4nGNgIBkw4pVlYmZhxaubjZ2dgxOPAi5udnYeXjwK+NiBgF8Ap7wgOxgICeOQFxCBKBAVwy4vLsEOBZJSWBVIy8AU8Mhik5eTZ4cDBUUsCpR4EArYlcUx5FVUkeTZRdUwXKjOjgI0NNEUaGmjKmDX0UV1oR6aPLu+AYoCQ3R5dnYjZHcam2AqYDdFyAubYZFnN5eGK7CwxKaA3QrmTmsbMJ/b1s7ewdHJ2cXVzV0UJODhCZFndPMCBr+3j68TA6Off0BgEINucEgoyNCwcLCCiEhg4EdFMzDExMbFJyQmJaekpjE4pWsAVWSAFQRnsmdlMzDk5Oblw0BBYRFDsboou4gjWEVJqSZDWXlFPjKorGJwrK6phfujrr4hHxU0NjHoOsHlm1vyMUBrGyKg2jsw5fPzEzvhCrrysCnI726Hyvf0YpXP7+uHKpiA3YD8/Fyogok45PMnNUMUTMalIH8KWH4qehAgwDSwgiqc8vnTwQpm4FYwE6xgFm4F5ZBgmI1TwQSIL+bgVDAXomAeLvn50LBesBCHgkWwyFyMXX7JUlhsLluOVcEKeHQzrsQWmKtWI1IMwxpM+bUBSPIMResq0OTXdzKggLQNG5GlN22eyoAOerZs3QaV3r5jJ4Y0ON5Td+2euGfvin0xaVjlsQMAFN44ROMgIzgAAAAASUVORK5CYII=",(function(t,n){if(t)throw t;e.addImage("marker-icon",n)})),e.on("moveend",(function(){n&&clearTimeout(n);n=setTimeout(Object(K.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j({zoom:e.getZoom(),bounds:e.getBounds().toArray().flat()});case 2:"success"===(n=t.sent).status&&n.result&&n.result.features&&(n.result.features.forEach((function(e){var t=b()(e.properties.point_count).format("0.[0] a").toUpperCase();e.properties.point_count>=1e3&&(t+="+"),e.properties.point_count_abbreviated=t})),C(n.result));case 4:case"end":return t.stop()}}),t)}))),500)}))}),[]),Object(m.jsxs)(l.d,Object(L.a)(Object(L.a)({className:e.mapContainer},a),{},{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/light-v10",mapboxApiAccessToken:"pk.eyJ1IjoibGVld2FuZ2RldiIsImEiOiJja2tnbDU2c2gwMHNvMndsdDF1d2pxNTQ2In0.zKeo06DtCh6fLifrbCZCFA",ref:t,attributionControl:!1,maxZoom:24,onViewportChange:function(e){c(e)},interactiveLayerIds:["cluster-layer","unclustered-point-layer"],onClick:function(e){if(e.features&&e.features.length>0){var t=e.features[0];"cluster-layer"===t.layer.id&&c(Object(L.a)(Object(L.a)({},a),{},{longitude:t.geometry.coordinates[0],latitude:t.geometry.coordinates[1],zoom:a.zoom+1,transitionDuration:500}))}},children:[Object(m.jsxs)(l.c,{id:"clusterSource",type:"geojson",data:i,children:[Object(m.jsx)(l.a,{id:"cluster-layer",type:"circle",source:"clusterSource",filter:[">","point_count",1],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,100,30,750,40]}}),Object(m.jsx)(l.a,{id:"cluster-count-layer",type:"symbol",source:"clusterSource",filter:[">","point_count",1],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}}),Object(m.jsx)(l.a,{id:"unclustered-point-layer",type:"symbol",source:"clusterSource",filter:["==","point_count",1],layout:{"icon-image":"marker-icon","icon-size":.6,"icon-rotate":["get","heading"]}})]}),Object(m.jsx)(l.b,{style:{bottom:10,left:10}})]}))},y=Object(i.a)({root:{width:"100vw",height:"100vh"}});var w=function(){var e=y();return Object(m.jsx)("div",{className:e.root,children:Object(m.jsx)(x,{})})},v=Object(O.a)();var I=function(){return Object(m.jsx)(s.a,{theme:v,children:Object(m.jsx)(w,{})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,139)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),o(e),r(e),a(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(I,{})}),document.getElementById("root")),F()},74:function(e,t,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.a13cb4fc.chunk.js.map