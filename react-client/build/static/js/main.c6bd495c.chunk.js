(this["webpackJsonprocations-dashboard-app"]=this["webpackJsonprocations-dashboard-app"]||[]).push([[0],{210:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(64),c=a.n(i),o=(a(210),a(176)),s=a(343),l=a(366),u=a(8),d=a(346),b="https://locations-dashboard.herokuapp.com",j="pk.eyJ1IjoibGVld2FuZ2RldiIsImEiOiJja2tnbDU2c2gwMHNvMndsdDF1d2pxNTQ2In0.zKeo06DtCh6fLifrbCZCFA",p={longitude:-79.3966596,latitude:43.6565291,zoom:14},O=window.google,h=new Date("2021-08-01"),m=["All Categories","Bank","Bar","Cafe","Gas Station","Hospital Grounds","Hotel","Mall","Marketplace","Restaurant","Shop","Supermarket"],x=[5,10,20,50,100,200,500],g=a(17),f=a(15),v=a.n(f),A=a(20),y=a(351),z=a(155),L=a(358),R=a(357),w=a(347),C=a(345),U=a(270),k=a(344),I=a(352),W=a(161),S=a(159),T=a.n(S),B=a(87),P=a.n(B),D=a(162),M=a.n(D),N=a(163),F=a.n(N),E=a.p+"static/media/logo.3f900ba7.png",V=function(e){var t=e.getDate(),a=e.getMonth()+1;return(a<=9?"0"+a:a)+"/"+(t<=9?"0"+t:t)+"/"+e.getFullYear()},H=function(e){var t=parseInt(e,10),a=Math.floor(t/3600),n=Math.floor((t-3600*a)/60),r=t-3600*a-60*n;return a<10&&(a="0"+a),n<10&&(n="0"+n),r<10&&(r="0"+r),a+":"+n+":"+r},Q=function(e){var t=e.split("/");return Date.UTC(t[2],parseInt(t[0])-1,t[1])/1e3},K=a(40),X=a.n(K),J=function(){var e=Object(A.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(b,"/api/days"),e.next=4,X.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=a(1),Y=Object(d.a)({header:{width:"100%",padding:10,backgroundColor:"white"},logo:{height:75}}),G=null;var q=function(e){var t=Y(),a=e.searchPlace,r=e.setSearchPlace,i=e.filter,c=e.setFilter,o=Object(n.useState)(!1),s=Object(u.a)(o,2),l=s[0],d=s[1],b=Object(n.useState)([]),j=Object(u.a)(b,2),p=j[0],h=j[1],f=function(e){d(!0),h([]),S(e)},S=function(e){G&&clearTimeout(G),G=setTimeout(Object(A.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J({date:V(e)});case 2:a=t.sent,d(!1),"success"===a.status&&h(a.result);case 5:case"end":return t.stop()}}),t)}))),500)};return Object(n.useEffect)((function(){var e=document.getElementById("input-address"),t=new O.maps.places.Autocomplete(e),a=O.maps.event.addListener(t,"place_changed",(function(){var e=t.getPlace();if(e&&e.geometry&&e.formatted_address){var a=e.photos[0].getUrl({maxWidth:128});r({place_id:e.place_id,location:[e.geometry.location.lng(),e.geometry.location.lat()],viewport:[e.geometry.viewport.getSouthWest().lng(),e.geometry.viewport.getSouthWest().lat(),e.geometry.viewport.getNorthEast().lng(),e.geometry.viewport.getNorthEast().lat()],name:e.name,address:e.formatted_address,type:e.types?e.types[0]:"",rating:e.rating,user_ratings_total:e.user_ratings_total,url:e.url,imageLink:a,image:""})}}));return S(i.date),function(){O.maps.event.removeListener(a)}}),[]),Object(n.useEffect)((function(){document.getElementById("input-address").value=a?a.address:""}),[a]),Object(Z.jsxs)(y.a,{container:!0,className:t.header,spacing:1,alignItems:"center",children:[Object(Z.jsx)(y.a,{container:!0,item:!0,lg:3,md:12,justifyContent:"center",children:Object(Z.jsx)("img",{src:E,className:t.logo})}),Object(Z.jsxs)(y.a,{container:!0,item:!0,spacing:2,lg:9,md:12,children:[Object(Z.jsx)(y.a,{item:!0,md:4,children:Object(Z.jsx)(z.a,{id:"input-address",name:"address",placeholder:"Enter your address.",fullWidth:!0,InputProps:{startAdornment:Object(Z.jsx)(R.a,{position:"start",children:Object(Z.jsx)(T.a,{})}),endAdornment:Object(Z.jsx)(R.a,{position:"end",children:Object(Z.jsx)(L.a,{"aria-label":"toggle password visibility",onClick:function(){return r(null)},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:a&&a.address&&Object(Z.jsx)(P.a,{})})})},autoComplete:"off"})}),Object(Z.jsx)(y.a,{item:!0,md:3,children:Object(Z.jsx)(U.b,{dateAdapter:C.a,children:Object(Z.jsx)(k.a,{value:i.date,loading:l,renderLoading:function(){return Object(Z.jsx)(I.a,{})},renderInput:function(e){return Object(Z.jsx)(z.a,Object(g.a)(Object(g.a)({},e),{},{fullWidth:!0}))},renderDay:function(e,t,a){var n=!a.outsideCurrentMonth&&p.indexOf(e.getDate())>-1;return Object(Z.jsx)(W.a,Object(g.a)(Object(g.a)({},a),{},{style:{border:n?"1px solid #ff844b":0}}),e.toString())},onMonthChange:f,onYearChange:f,onChange:function(e){null!==e&&c(Object(g.a)(Object(g.a)({},i),{},{date:e}))}})})}),Object(Z.jsx)(y.a,{item:!0,md:3,children:Object(Z.jsx)(z.a,{variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},select:!0,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null}},InputProps:{startAdornment:Object(Z.jsx)(R.a,{position:"start",children:Object(Z.jsx)(M.a,{})})},value:i.category,onChange:function(e){return c(Object(g.a)(Object(g.a)({},i),{},{category:e.target.value}))},children:m.map((function(e,t){return Object(Z.jsx)(w.a,{value:e,children:e},"category-".concat(t))}))})}),Object(Z.jsx)(y.a,{item:!0,md:2,children:Object(Z.jsx)(z.a,{variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},select:!0,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null}},InputProps:{startAdornment:Object(Z.jsx)(R.a,{position:"start",children:Object(Z.jsx)(F.a,{})})},value:i.category_distance,onChange:function(e){return c(Object(g.a)(Object(g.a)({},i),{},{category_distance:e.target.value}))},disabled:"All Categories"===i.category,children:x.map((function(e,t){return Object(Z.jsx)(w.a,{value:e,children:"".concat(e," m")},"d-".concat(t))}))})})]})]})},_=a(19),$=a(361),ee=a(113),te=a(356),ae=a(348),ne=a(362),re=a(340),ie=a(341),ce=a(353),oe=a(349),se=a(339),le=a(363),ue=a(359),de=a(360),be=a(167),je=a.n(be),pe=a(166),Oe=a.n(pe),he=a(168),me=a.n(he),xe=a(165),ge=a.n(xe),fe=a(57),ve=a.n(fe),Ae=a(127),ye=function(){var e=Object(A.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,a="".concat(b,"/api/places"),e.next=4,X.a.get(a).then((function(e){t=e.data})).catch((function(e){t={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(A.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(b,"/api/place/add"),e.next=4,X.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(A.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(b,"/api/place/delete"),e.next=4,X.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=Object(d.a)({sideBarHeader:{padding:10,paddingBottom:10,backgroundColor:"#f1f6fa"},sideBarContent:{flex:1,height:0,overflowY:"auto"},label:{display:"block",paddingTop:16,paddingLeft:24,paddingBottom:4},listItem:{"&.MuiListItem-root":{borderBottom:"1px solid #eee"},"& .MuiListItemButton-root":{borderRadius:0},"& .MuiAvatar-root":{width:90,height:90,borderRadius:4}}});var we=function(e){var t=Re(),a=e.searchPlace,r=e.setSearchPlace,i=Object(n.useState)([]),c=Object(u.a)(i,2),o=c[0],s=c[1],l=Object(n.useState)(!1),d=Object(u.a)(l,2),b=d[0],j=d[1],p=Object(n.useState)(!1),O=Object(u.a)(p,2),h=O[0],m=O[1],x=Object(n.useState)(!0),f=Object(u.a)(x,2),z=f[0],R=f[1],w=function(){var e=Object(A.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!1),e.next=3,ze(a);case 3:"success"===(t=e.sent).status?(s([].concat(Object(_.a)(o),[a])),R(!0)):console.log(t.message);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){return function(t){m(!0),r(e)}},U=function(){var e=Object(A.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!1),!a){e.next=6;break}return e.next=4,Le({place_id:a.place_id});case 4:"success"===(t=e.sent).status?(n=o.filter((function(e){return e.place_id!==a.place_id})),s(n),r(null)):console.log(t.message);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a?o.filter((function(e){return e.place_id===a.place_id})).length>0?R(!0):R(!1):R(!0)}),[a]),Object(n.useEffect)((function(){k()}),[]);var k=function(){var e=Object(A.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye();case 2:"success"===(t=e.sent).status?s(t.result):console.log(t.message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)("div",{className:t.sideBarHeader,children:[Object(Z.jsxs)(y.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(Z.jsx)(ge.a,{color:"warning",style:{marginRight:10}}),Object(Z.jsx)(ee.a,{variant:"h6",style:{flex:1},children:"Favorite Places"}),Object(Z.jsx)($.a,{color:"warning",startIcon:Object(Z.jsx)(Oe.a,{}),disabled:z,onClick:function(){return j(!0)},children:"Add Place"})]}),o.length>0&&Object(Z.jsx)(y.a,{container:!0,justifyContent:"center",children:Object(Z.jsx)(ee.a,{variant:"caption",children:"".concat(o.length," places")})})]}),Object(Z.jsx)("div",{className:t.sideBarContent,children:o.length>0?Object(Z.jsx)(te.a,{dense:!0,children:o.map((function(e,n){return Object(Z.jsx)(ae.a,{className:t.listItem,disablePadding:!0,secondaryAction:Object(Z.jsx)(L.a,{edge:"end","aria-label":"delete",onClick:C(e),children:Object(Z.jsx)(je.a,{})}),children:Object(Z.jsxs)(re.a,{selected:!!a&&a.place_id===e.place_id,onClick:function(){return r(e)},children:[Object(Z.jsx)(ie.a,{primary:Object(Z.jsx)(ee.a,{variant:"subtitle2",style:{marginBottom:4},children:e.name}),secondary:Object(Z.jsxs)(Z.Fragment,{children:[e.user_ratings_total>0&&Object(Z.jsxs)(y.a,{container:!0,alignItems:"center",children:[Object(Z.jsx)(ee.a,{variant:"caption",children:e.rating}),Object(Z.jsx)(oe.a,{name:"rating",size:"small",defaultValue:0,precision:.1,readOnly:!0,value:e.rating,style:{marginLeft:5,marginRight:5}}),Object(Z.jsx)(ee.a,{variant:"caption",children:"(".concat(ve()(e.user_ratings_total).format("0,0"),")")})]}),Object(Z.jsx)(ee.a,{variant:"caption",component:"div",children:e.type}),Object(Z.jsx)(ee.a,{variant:"caption",children:e.address})]})}),Object(Z.jsx)(ne.a,{children:Object(Z.jsx)(ce.a,{alt:"image",src:e.image})})]})},e.place_id)}))}):Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(ee.a,{variant:"body1",component:"div",align:"center",style:{marginTop:30,padding:10},children:"Places is empty."}),Object(Z.jsx)(ee.a,{variant:"body1",component:"div",align:"center",style:{padding:10},children:"Please add your favorite places."})]})}),Object(Z.jsxs)(se.a,{open:b,onClose:function(){return j(!1)},"aria-labelledby":"dialog-add-place","aria-describedby":"dialog-add-place",children:[Object(Z.jsxs)(le.a,{children:["Add Place",Object(Z.jsx)(L.a,{"aria-label":"close",onClick:function(){return j(!1)},sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(Z.jsx)(P.a,{})})]}),Object(Z.jsxs)(Ae.ValidatorForm,{onSubmit:w,style:{width:"100%"},children:[Object(Z.jsxs)(ue.a,{children:[Object(Z.jsxs)(ae.a,{className:t.listItem,disablePadding:!0,style:{paddingBottom:10},children:[Object(Z.jsx)(ie.a,{primary:Object(Z.jsx)(ee.a,{variant:"subtitle2",style:{marginBottom:4},children:a?a.name:""}),secondary:Object(Z.jsxs)(Z.Fragment,{children:[a&&a.user_ratings_total>0&&Object(Z.jsxs)(y.a,{container:!0,alignItems:"center",children:[Object(Z.jsx)(ee.a,{variant:"caption",children:a?a.rating:""}),Object(Z.jsx)(oe.a,{name:"rating",size:"small",defaultValue:0,precision:.1,readOnly:!0,value:a?a.rating:0,style:{marginLeft:5,marginRight:5}}),Object(Z.jsx)(ee.a,{variant:"caption",children:a?"(".concat(ve()(a.user_ratings_total).format("0,0"),")"):""})]}),Object(Z.jsx)(ee.a,{variant:"caption",component:"div",children:a?a.type:""}),Object(Z.jsx)(ee.a,{variant:"caption",children:a?a.address:""})]})}),Object(Z.jsx)(ne.a,{children:Object(Z.jsx)(ce.a,{alt:"image",src:a?a.imageLink:""})})]}),Object(Z.jsx)($.a,{color:"warning",startIcon:Object(Z.jsx)(me.a,{}),style:{padding:"5px 10px",marginTop:10,marginBottom:10},onClick:function(){return window.open(a.imageLink,"_blank")},children:"Open Image Link"}),Object(Z.jsx)(Ae.TextValidator,{name:"postcode",placeholder:"google place image url",fullWidth:!0,value:a?a.image:"",onChange:function(e){r(Object(g.a)(Object(g.a)({},a),{},{image:e.target.value}))},validators:["required"],errorMessages:["Image URL is required."]})]}),Object(Z.jsx)(de.a,{children:Object(Z.jsxs)(y.a,{container:!0,spacing:3,children:[Object(Z.jsx)(y.a,{item:!0,xs:12,sm:6,children:Object(Z.jsx)($.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){return j(!1)},children:"Cancel"})}),Object(Z.jsx)(y.a,{item:!0,xs:12,sm:6,children:Object(Z.jsx)($.a,{type:"submit",variant:"contained",color:"warning",autoFocus:!0,fullWidth:!0,children:"Add"})})]})})]})]}),Object(Z.jsxs)(se.a,{open:h,onClose:function(){return m(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Z.jsxs)(le.a,{children:["Delete Place",Object(Z.jsx)(L.a,{"aria-label":"close",onClick:function(){return m(!1)},sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(Z.jsx)(P.a,{})})]}),Object(Z.jsx)(ue.a,{children:Object(Z.jsx)(ee.a,{variant:"subtitle1",align:"center",style:{marginTop:20},children:"Are you sure you want to delete selected place?"})}),Object(Z.jsx)(de.a,{children:Object(Z.jsxs)(y.a,{container:!0,spacing:3,children:[Object(Z.jsx)(y.a,{item:!0,xs:12,sm:6,children:Object(Z.jsx)($.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){return m(!1)},children:"Cancel"})}),Object(Z.jsx)(y.a,{item:!0,xs:12,sm:6,children:Object(Z.jsx)($.a,{variant:"contained",color:"warning",autoFocus:!0,fullWidth:!0,onClick:U,children:"Yes"})})]})})]})]})},Ce=a(365),Ue=a(21),ke=(a(153),a(74)),Ie=a.n(ke),We=function(){var e=Object(A.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(b,"/api/clusters"),e.next=4,X.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(A.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(b,"/api/markers"),e.next=4,X.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(A.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(b,"/api/marker/info"),e.next=4,X.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(A.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(b,"/api/marker/tracking"),e.next=4,X.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(A.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat(b,"/api/counts"),e.next=4,X.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=a(355),Me=a(364),Ne=a(354),Fe=a(182),Ee=a(367),Ve=Object(d.a)({paper:{marginBottom:20,"&.MuiPaper-root":{padding:"30px 30px 20px 30px"}},paperHeader:{paddingBottom:10,marginBottom:20,borderBottom:"1px solid #e3ebf1"}});var He=function(e){var t=e.params,a=Ve(),r=Object(n.useState)(null),i=Object(u.a)(r,2),c=i[0],o=i[1];Object(n.useEffect)((function(){s()}),[]);var s=function(){var e=Object(A.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te({date:t.date,id:t.id});case 2:"success"===(a=e.sent).status?o(a.result):o(null);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(Fe.a,{className:a.paper,children:[Object(Z.jsx)(y.a,{container:!0,className:a.paperHeader,children:Object(Z.jsx)(ee.a,{variant:"h6",children:"Device Identification"})}),Object(Z.jsxs)(y.a,{container:!0,spacing:1,alignItems:"center",children:[Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Advertiser ID"})}),Object(Z.jsx)(y.a,{item:!0,md:9,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.advertiser_id})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Country"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.final_country})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Platform"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.platform})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Device Model"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.device_model})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"IPV 4"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.ipv_4})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"IPV 6"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.ipv_6})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Wifi SSID"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.wifi_ssid})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Wifi BSSID"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.wifi_bssid})})]})]}),Object(Z.jsxs)(Fe.a,{className:a.paper,children:[Object(Z.jsx)(y.a,{container:!0,className:a.paperHeader,children:Object(Z.jsx)(ee.a,{variant:"h6",children:"Device Location"})}),Object(Z.jsxs)(y.a,{container:!0,spacing:1,alignItems:"center",children:[Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Location time"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:"UTC ".concat(H(c.location_at-Q(t.date))," ").concat(t.date)})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Location"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:"[ ".concat(c.longitude,", ").concat(c.latitude," ]")})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Altitude"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:"".concat(c.altitude," m")})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Horizontal Accuracy"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:"".concat(c.horizontal_accuracy," m")})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Vertical Accuracy"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:"".concat(c.vertical_accuracy," m")})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Heading"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.heading})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Speed"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:"".concat(c.speed," m/s")})})]})]}),Object(Z.jsxs)(Fe.a,{className:a.paper,children:[Object(Z.jsx)(y.a,{container:!0,className:a.paperHeader,children:Object(Z.jsx)(ee.a,{variant:"h6",children:"Other Information"})}),Object(Z.jsxs)(y.a,{container:!0,spacing:1,alignItems:"center",children:[Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"User Agent"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.user_agent})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Publisher ID"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.publisher_id})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Technical Signals"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Background"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.background})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Carrier"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.carrier})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Venue Name"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.venue_name})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Venue Category"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.venue_category})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Dwell Time"})}),Object(Z.jsx)(y.a,{item:!0,md:3,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:c.dwell_time})})]})]})]}):Object(Z.jsx)(y.a,{container:!0,justifyContent:"center",children:Object(Z.jsx)(Ee.a,{})})},Qe=a(350),Ke=a(92);var Xe=function(e){var t=e.params,a=e.info;return Object(Z.jsxs)(y.a,{container:!0,style:{maxWidth:350,padding:10},children:[Object(Z.jsx)(y.a,{item:!0,xs:12,children:Object(Z.jsx)(ee.a,{variant:"h6",style:{marginBottom:10,borderBottom:"1px solid #e3ebf1"},children:"Location Information"})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Time"})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:"UTC ".concat(H(a.location_at-Q(t.date))," ").concat(t.date)})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Location"})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:"[ ".concat(a.longitude,", ").concat(a.latitude," ]")})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Altitude"})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:"".concat(a.altitude," m")})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Heading"})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:a.heading})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Speed"})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:"".concat(a.speed," m/s")})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Horizontal Accuracy"})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:"".concat(a.horizontal_accuracy," m")})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"subtitle2",children:"Vertical Accuracy"})}),Object(Z.jsx)(y.a,{item:!0,xs:6,children:Object(Z.jsx)(ee.a,{variant:"caption",children:"".concat(a.vertical_accuracy," m")})})]})};Ie.a.workerClass=a(154).default;var Je=Object(d.a)({mapContainer:{flex:1,position:"relative"},mapDiv:{border:"1px solid #e3ebf1","& .mapboxgl-ctrl-logo":{display:"none"}},timeslider:{position:"absolute",bottom:10,left:0,right:0,"& .MuiPaper-root":{width:"70%",paddingTop:10,paddingBottom:5,paddingLeft:40,paddingRight:40,backgroundColor:"rgba(255,255,255,0.7)"},"&.MuiSlider-root":{width:"60%"}}});var Ze=function(e){var t=Je(),a=e.params,r=Object(n.useRef)(null),i=Object(n.useState)({longitude:a.geometry.coordinates[0],latitude:a.geometry.coordinates[1],zoom:15}),c=Object(u.a)(i,2),o=c[0],s=c[1],l=Object(n.useState)(null),d=Object(u.a)(l,2),b=d[0],p=d[1],O=Object(n.useState)({min:0,max:100,step:1,defaultValue:0,marks:[]}),h=Object(u.a)(O,2),m=h[0],x=h[1],f=Object(n.useState)(0),z=Object(u.a)(f,2),L=z[0],R=z[1],w=Object(n.useState)(""),C=Object(u.a)(w,2),U=C[0],k=C[1],I=Object(n.useState)({type:"FeatureCollection",features:[]}),W=Object(u.a)(I,2),S=W[0],T=W[1],B=Object(n.useState)([]),P=Object(u.a)(B,2),D=P[0],M=P[1],N=Object(n.useState)({type:"FeatureCollection",features:[]}),F=Object(u.a)(N,2),E=F[0],V=F[1],K=Object(n.useState)({type:"FeatureCollection",features:[]}),X=Object(u.a)(K,2),J=X[0],Y=X[1],G=Object(n.useState)(null),q=Object(u.a)(G,2),_=q[0],$=q[1],te=Object(n.useCallback)((function(e){if(e.features&&e.features.length>0){var t=e.features[0];"points-layer"===t.layer.id?$({longitude:e.lngLat[0],latitude:e.lngLat[1],data:t.properties}):$(null)}else $(null)}),[]),ae=function(){var e=Object(A.a)(v.a.mark((function e(){var t,n,i,c,l,u,d,b,j,O,h,m,x,f,A,y,z,L,w,C,U,I,W,S;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be({date:a.date,id:a.id});case 2:if("success"===(t=e.sent).status){for(n=t.result,i=Ke.bbox(n),c=r.current.getMap(),l=new Ue.h(Object(g.a)(Object(g.a)({},o),{},{width:c.getCanvas().width,height:c.getCanvas().height})).fitBounds([[i[0],i[1]],[i[2],i[3]]],{padding:40}),u=l.longitude,d=l.latitude,b=l.zoom,s(Object(g.a)(Object(g.a)({},o),{},{longitude:u,latitude:d,zoom:b>20?20:b-1})),T(n),p(["points-layer"]),j=n.features,O=0,j.forEach((function(e){if(e.properties.id==a.id)return V({type:"FeatureCollection",features:[e]}),O=parseInt(e.properties.location_at),R(O),void k("UTC ".concat(H(O-Q(a.date))," ").concat(a.date))})),h=[],m=0;m<j.length-1;m++)if(x=parseInt(j[m].properties.location_at),f=parseInt(j[m+1].properties.location_at),A=(f-x)/30,y=Ke.bearing(j[m],j[m+1]),A>1)for(z=0;x<f;)L=parseFloat(j[m].properties.latitude),w=parseFloat(j[m].properties.longitude),C=parseFloat(j[m+1].properties.latitude),U=parseFloat(j[m+1].properties.longitude),I=L+(C-L)*z/A,W=w+(U-w)*z/A,h.push({latitude:I,longitude:W,time:x,heading:Ke.bearingToAzimuth(y)}),x+=30,z++;else h.push({latitude:parseFloat(j[m].properties.latitude),longitude:parseFloat(j[m].properties.longitude),time:x,heading:Ke.bearingToAzimuth(y)});M(h),S={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}}]},h.forEach((function(e){e.time<=O&&S.features[0].geometry.coordinates.push([e.longitude,e.latitude])})),Y(S)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=r.current.getMap();e.loadImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAyCAMAAAAKuilWAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAj1QTFRFAAAAUbvW/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWtXpTgAAAAL90Uk5TAAAJgbcodv/CBxrn/muw8hhClgXS/VYBiNEOIOxmBLv5LlerCNxRnOAUNPeJAMz7N2y+F+93r+k/+I0SyplgMRMDAg0lT4DL9VT81XMhCRIUDgIRTrPPBgr0hAsaYrfd5+njzYI0AUR49tc1Oa/6/9RnBRBIgwqF/cokk9NJEL/+60MIvO48A60dTZwGuvA+WaTx4DYNaIspkx/70iiW6jfvjablLS/2fHDFC4zWfcZQ2/WKYdn87ZQbbJGomkgzCm4xAAAB9ElEQVR4nGNgIBkw4pVlYmZhxaubjZ2dgxOPAi5udnYeXjwK+NiBgF8Ap7wgOxgICeOQFxCBKBAVwy4vLsEOBZJSWBVIy8AU8Mhik5eTZ4cDBUUsCpR4EArYlcUx5FVUkeTZRdUwXKjOjgI0NNEUaGmjKmDX0UV1oR6aPLu+AYoCQ3R5dnYjZHcam2AqYDdFyAubYZFnN5eGK7CwxKaA3QrmTmsbMJ/b1s7ewdHJ2cXVzV0UJODhCZFndPMCBr+3j68TA6Off0BgEINucEgoyNCwcLCCiEhg4EdFMzDExMbFJyQmJaekpjE4pWsAVWSAFQRnsmdlMzDk5Oblw0BBYRFDsboou4gjWEVJqSZDWXlFPjKorGJwrK6phfujrr4hHxU0NjHoOsHlm1vyMUBrGyKg2jsw5fPzEzvhCrrysCnI726Hyvf0YpXP7+uHKpiA3YD8/Fyogok45PMnNUMUTMalIH8KWH4qehAgwDSwgiqc8vnTwQpm4FYwE6xgFm4F5ZBgmI1TwQSIL+bgVDAXomAeLvn50LBesBCHgkWwyFyMXX7JUlhsLluOVcEKeHQzrsQWmKtWI1IMwxpM+bUBSPIMResq0OTXdzKggLQNG5GlN22eyoAOerZs3QaV3r5jJ4Y0ON5Td+2euGfvin0xaVjlsQMAFN44ROMgIzgAAAAASUVORK5CYII=",(function(t,a){if(t)throw t;e.addImage("marker-icon",a)}));var t=Q(a.date);x({min:t,max:t+86399,defaultValue:t+86399,step:30,marks:[{value:t,label:"0"},{value:t+10800,label:"3"},{value:t+21600,label:"6"},{value:t+32400,label:"9"},{value:t+43200,label:"12"},{value:t+54e3,label:"15"},{value:t+64800,label:"18"},{value:t+75600,label:"21"},{value:t+86400,label:"24"}]}),R(t),k("UTC ".concat(H(0)," ").concat(a.date)),ae()}),[]),Object(Z.jsxs)("div",{className:t.mapContainer,children:[Object(Z.jsxs)(Ue.i,Object(g.a)(Object(g.a)({className:t.mapDiv},o),{},{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/light-v10",mapboxApiAccessToken:j,attributionControl:!1,maxZoom:20,ref:r,interactiveLayerIds:b,onViewportChange:s,onHover:te,children:[Object(Z.jsx)(Ue.g,{id:"trackLine",type:"geojson",data:J,children:Object(Z.jsx)(Ue.b,{id:"trackLine",type:"line",filter:["==","$type","LineString"],paint:{"line-color":"cyan","line-opacity":.75,"line-width":4}})}),Object(Z.jsx)(Ue.g,{id:"points",type:"geojson",data:S,children:Object(Z.jsx)(Ue.b,{id:"points-layer",type:"circle",source:"points",paint:{"circle-color":"#1976d2","circle-radius":6}})}),Object(Z.jsx)(Ue.g,{id:"trackPoint",type:"geojson",data:E,children:Object(Z.jsx)(Ue.b,{id:"track-point-layer",type:"symbol",source:"trackPoint",layout:{"icon-image":"marker-icon","icon-size":.6,"icon-rotate":["get","heading"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-rotation-alignment":"map","icon-pitch-alignment":"viewport"}})}),_&&Object(Z.jsx)(Ue.e,{longitude:_.longitude,latitude:_.latitude,closeButton:!1,children:Object(Z.jsx)(Xe,{info:_.data,params:a})})]})),Object(Z.jsx)(y.a,{container:!0,className:t.timeslider,justifyContent:"center",children:Object(Z.jsxs)(Fe.a,{children:[Object(Z.jsx)(ee.a,{variant:"h6",align:"center",children:U}),Object(Z.jsx)(Qe.a,Object(g.a)({"aria-label":"track time",value:L,onChange:function(e,t){R(t),k("UTC ".concat(H(t-Q(a.date))," ").concat(a.date));var n={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}}]},r=null;if(D.forEach((function(e){e.time<=t&&(n.features[0].geometry.coordinates.push([e.longitude,e.latitude]),r=e)})),Y(n),r){var i={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[r.longitude,r.latitude]},properties:{heading:r.heading}}]};V(i)}},style:{color:"#ff844b"}},m))]})})]})},Ye=Object(d.a)({drawer:{"& .MuiBackdrop-root":{},"&>.MuiPaper-root":{display:"flex",flexDirection:"column",width:"50%",minWidth:400,padding:"20px 40px",backgroundColor:"#f1f6fa",boxSizing:"border-box"}},drawerHeader:{display:"flex",flexDirection:"row",paddingTop:20,paddingBottom:16,marginBottom:20,borderBottom:"1px solid #e3ebf1"}});var Ge=function(e){var t,a=Ye(),r=e.markerPanelInfo,i=e.setMarkerPanelInfo,c=Object(n.useState)("properties"),o=Object(u.a)(c,2),s=o[0],l=o[1];return Object(Z.jsxs)(De.a,{className:a.drawer,anchor:"left",open:!0,onClose:(t=!1,function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&i(Object(g.a)(Object(g.a)({},r),{},{open:t}))}),children:[Object(Z.jsxs)(y.a,{container:!0,className:a.drawerHeader,justifyContent:"space-between",alignItems:"center",children:[Object(Z.jsx)(ee.a,{variant:"h6",children:"Device Information"}),Object(Z.jsxs)(Ne.a,{value:s,exclusive:!0,onChange:function(e,t){null!==t&&l(t)},"aria-label":"marker button group",children:[Object(Z.jsx)(Me.a,{value:"properties","aria-label":"Properties",children:"Properties"}),Object(Z.jsx)(Me.a,{value:"tracking","aria-label":"Tracking",children:"Tracking"})]})]}),"properties"===s&&Object(Z.jsx)(He,{params:r}),"tracking"===s&&Object(Z.jsx)(Ze,{params:r})]})};Ie.a.workerClass=a(154).default;var qe=Object(d.a)({mapDiv:{"& .mapboxgl-ctrl-logo":{display:"none"}},addressLabel:{display:"flex",alignItems:"center",padding:"0 10px",width:240,height:60,color:"#000",fontSize:14,lineHeight:"14px",borderLeft:"2px solid #ff0000",backgroundColor:"rgba(255,255,255,0.8)",pointerEvents:"none"}}),_e=null;var $e=function(e){var t=qe(),a=e.searchPlace,r=e.filter,i=e.renderMode,c=e.setCounts,o=Object(n.useRef)(null),s=Object(n.useState)(p),l=Object(u.a)(s,2),d=l[0],b=l[1],O=Object(n.useState)([]),h=Object(u.a)(O,2),m=h[0],x=h[1],f=Object(n.useState)({type:"FeatureCollection",features:[]}),y=Object(u.a)(f,2),z=y[0],L=y[1],R=Object(n.useState)({type:"FeatureCollection",features:[]}),w=Object(u.a)(R,2),C=w[0],U=w[1],k=Object(n.useState)(!0),I=Object(u.a)(k,2),W=I[0],S=I[1],T=Object(n.useState)(!1),B=Object(u.a)(T,2),P=B[0],D=B[1],M=function(){var e=Object(A.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.features&&t.features.length>0&&("cluster-layer"===(a=t.features[0]).layer.id?b(Object(g.a)(Object(g.a)({},d),{},{longitude:a.geometry.coordinates[0],latitude:a.geometry.coordinates[1],zoom:d.zoom+1,transitionDuration:500})):"unclustered-point-layer"===a.layer.id&&D(Object(g.a)(Object(g.a)({},P),{},{open:!0,date:V(r.date),id:a.properties.id,geometry:a.geometry})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=o.current.getMap();return e.loadImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAArJQTFRFO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzRaC3ptLd4/H0/P7++fz93+/znc3ZQZ62O5uzO5uzO5uzXKzA6PT2/v///////f//4O/zUaa7O5uzO5uzRKC33u7yQZ61O5uzpdHch8HQO5uzO5uz4vD0rtXgR6G3S6O5wuDn0+juO5uzO5uz+/3+TaS69vv8O5uzO5uz+Pz8U6e99fr7O5uzO5uz3e7ywuDo0+nuyuTrO5uzO5uzmszYfLzNO5uzO5uzzOXrP520O5uzO5uzSqO5rdXf8/n78fj6otDcO5uzO5uzrdbg8Pj6o9DcO5uzO5uzi8TS7/j5d7nKO5uz8/n67PX3hsHQj8bU8vj66vX3O5uz7/f56/X3h8LQQp+2kMfU5vP2d7rK7fb47PX4Z7LEO5uzO5uzaLLFWqu/O5uzRqG35/P2Q5+2O5uzxeLpstjhO5uzO5uzl8rXgL7OO5uzO5uzabLF+vz9z+ft9fv8O5uzO5uzR6G46fT3Uaa8W6zAO5uzx+Ppc7jJiMLRs9jhmMvXo9Dbu9zlf77OO5uzO5uz8vn60ejtQJ616/X47vb55fL2O5uzd7rLaLLE5vL2O5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uzO5uz3dPDsgAAAOZ0Uk5TAAIBAwQ6gbLQ5/b99eXOrn0zRazs/6Q8a9nRXFDcPxD+nw3kKVvxRGf7+U5DO/IqEdgMsZNU//////////85Bd7/////////zHD///9M///JSv///////zKv////h+/////mPv////8rhv//WrX//47T//////++6////+H6////+P///////wb/////////////6tL//7v///+K//9WN///J+n/////3af/////fP//////////vF7///////9A////oH7HCh7XxguQuknEuS4oZUizOPwlqYQXD3/LB1H3G5hz3y+uZs2QAAADlElEQVR4nJ2X+UOMQRzG3313S22SMJJIkqJSCbkr2k0UQrkKXch9lXJfIVSOEDly37lvObvc5L5v/4d5q9XOfL/ztswPs+++z/P5vjPPvu87s5KkkSUt0umsrBvY2Ort7BraN3Jo7KgT+QTnmzRtRphm29wJ5bUSckrXwpkgraWLDjFL8FSr1hheXcIVDgLwbRzcRDwhbm3d6wvBqp0YV5qzhzrfXq/OE+LppRZih4718YR4+4hDdLGApxV8RSF2qnf8Nc3PHw8hwN4ynpDOgWiIXSzlCemKhdgN/v5B3Xv07NW7T18guAXDEENCga1f/zCD0WAMCx8ApAgNCHEgMA2q5Q3GyCggDuZD0MAHYIiJNxiHAjFay4U4DFjIcIqOiIkdSYuMgupoLsQx0DKWXjqGkDg6iHiojmNDDBkPLRPopWMJSaCTSIRqkoYJMRk6SAq99MS4hEl0JpMROZUJYQrimFoX4jREns6EOANxREWa+JmzEHk2E+IcaJg7L62WD0ufHwT1DCbETIAviDddX+kWLgIlFjMhLuHUpYkGc552y5ZzlhXmIer48iurqVVZCrp6TXWRtbxHaxZiNi+uo/z6DTlEQUlQbjr9msd7QsxD9ObEjZvysnLop3Jp+hGUuzlvC2fRMyHm8+VrmzITgRTKhLgVN21TktiOawXMnYi/znbsVEKMLETFXcydaI16dtf8iHtQcS9zJxZhln2mm2A/ph5gQtQdhI5Dhyl/JJx2R5EYjsnsO/E4cJw4SdH0U8XxdBApMIbT3DsRvhDOKOM/S8g5ZRLngezP8rLM/5AXFP6icnRJObrMyVfAwnKVc1yj1PUbylFhOJ1ECSe7goVFxw3hpsGYVrugFNNH8xarFshwdb7NLm13SvLu1h3fY58Et1RsdS0FQQlbGbo6u6ObO6yVV+BbHA9Py/j8StEWx4t/LaBN7yjeJ/pYUEHvpLbP8613FpmOarxW8rivzj+o5Al+6/rwkcpW166sgueRzXZRtIh/7G/BZpt2midPMfxZsoyYBf84nifxuHMV5hP+Y5Fe8AVe4j70H4vSyREs/wqdLB5iTffazpx/81bkE52XpXfmBd6LfaLz2g9+dXzmx3/nJc2nugIuQl4YIu2y/25eP38R88IQaffVVCBYZZwqvKTJqOFLVSyqIchV1Vunb9//l5e0P5QCP1UtKiHSLoCuub8CVS1qIdLO1ab8tyqv+QOv/VmKonZqnAAAAABJRU5ErkJggg==",(function(t,a){if(t)throw t;e.addImage("marker-icon",a)})),function(){e.hasImage("marker-icon")&&e.removeImage("marker-icon")}}),[]),Object(n.useEffect)((function(){if(a){var e=new Ue.h(d).fitBounds([[a.viewport[0],a.viewport[1]],[a.viewport[2],a.viewport[3]]],{padding:40}).zoom;b(Object(g.a)(Object(g.a)({},d),{},{longitude:a.location[0],latitude:a.location[1],zoom:e,transitionInterpolator:new Ue.a,transitionDuration:1e3}))}}),[a]),Object(n.useEffect)((function(){var e=o.current.getMap();return e.on("moveend",N),N(),function(){return e.off("moveend",N)}}),[r,i]);var N=function(){var e=o.current.getMap();x([]),_e&&clearTimeout(_e),_e=setTimeout(Object(A.a)(v.a.mark((function t(){var a,n,o,s,l,u,d,b;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S(!0),a=[],"All Categories"===r.category){t.next=11;break}if(n=e.queryRenderedFeatures({layers:["poi-label"]}),n.filter((function(e){return e.properties.category_en===r.category})).forEach((function(e){a.push(e.geometry.coordinates)})),0!==a.length){t.next=11;break}return L({type:"FeatureCollection",features:[]}),c([]),S(!1),t.abrupt("return");case 11:if("cluster"!==i){t.next=21;break}return o={type:"FeatureCollection",features:[]},t.next=15,We({date:V(r.date),timeRange:r.timeRange,zoom:e.getZoom(),bounds:e.getBounds().toArray().flat(),poiLocations:a,poiRadius:r.category_distance});case 15:"success"===(s=t.sent).status&&s.result&&s.result.features&&(s.result.features.forEach((function(e){var t=ve()(e.properties.point_count).format("0.[0] a").toUpperCase();e.properties.point_count>=1e3&&(t+="+"),e.properties.point_count_abbreviated=t})),o=s.result),L(o),x(["cluster-layer","unclustered-point-layer"]),t.next=29;break;case 21:if("heatmap"!==i){t.next=29;break}return l={type:"FeatureCollection",features:[]},t.next=25,Se({date:V(r.date),timeRange:r.timeRange,zoom:e.getZoom(),bounds:e.getBounds().toArray().flat(),poiLocations:a,poiRadius:r.category_distance});case 25:"success"===(u=t.sent).status&&u.result&&u.result.features&&(l=u.result),U(l),x(["unclustered-point-layer"]);case 29:return S(!1),t.next=32,Pe({date:V(r.date),timeRange:r.timeRange,bounds:e.getBounds().toArray().flat(),poiLocations:a,poiRadius:r.category_distance});case 32:"success"===(d=t.sent).status?((b=[]).TOTAL=0,d.result.forEach((function(e){b[e.platform]=e.count,b.TOTAL+=parseInt(e.count)})),c(b)):c([]);case 34:case"end":return t.stop()}}),t)}))),500)};return Object(Z.jsxs)(Ue.i,Object(g.a)(Object(g.a)({className:t.mapDiv},d),{},{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/streets-v11",mapboxApiAccessToken:j,ref:o,attributionControl:!1,maxZoom:24,minZoom:12,onViewportChange:b,interactiveLayerIds:m,onClick:M,children:["cluster"===i&&Object(Z.jsxs)(Ue.g,{id:"clusterSource",type:"geojson",data:z,children:[Object(Z.jsx)(Ue.b,{id:"cluster-layer",type:"circle",source:"clusterSource",filter:[">","point_count",1],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,100,30,750,40]}}),Object(Z.jsx)(Ue.b,{id:"cluster-count-layer",type:"symbol",source:"clusterSource",filter:[">","point_count",1],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}}),Object(Z.jsx)(Ue.b,{id:"unclustered-point-layer",type:"symbol",source:"clusterSource",filter:["==","point_count",1],layout:{"icon-image":"marker-icon","icon-size":.5,"icon-offset":[0,-32],"icon-allow-overlap":!0,"icon-ignore-placement":!0}}),P.open&&Object(Z.jsx)(Ue.b,{id:"select-point-layer",type:"symbol",source:"clusterSource",filter:["==","id",P.id],layout:{"icon-image":"marker-icon","icon-size":.7,"icon-offset":[0,-32],"icon-allow-overlap":!0,"icon-ignore-placement":!0}})]}),"heatmap"===i&&Object(Z.jsxs)(Ue.g,{id:"heatmapSource",type:"geojson",data:C,children:[Object(Z.jsx)(Ue.b,{id:"heatmap-layer",type:"heatmap",source:"heatmapSource",maxzoom:19,paint:{"heatmap-weight":["interpolate",["linear"],["zoom"],12,.2,19,1],"heatmap-intensity":["interpolate",["linear"],["zoom"],12,5,19,1],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(33,102,172,0)",.2,"rgb(103,169,207)",.4,"rgb(209,229,240)",.6,"rgb(166,189,219)",.8,"rgb(103,169,207)",1,"rgb(28,144,153)"],"heatmap-radius":["interpolate",["linear"],["zoom"],12,16,19,40],"heatmap-opacity":["interpolate",["linear"],["zoom"],12,.9,19,.5]}}),Object(Z.jsx)(Ue.b,{id:"unclustered-point-layer",type:"symbol",source:"heatmapSource",minzoom:18,layout:{"icon-image":"marker-icon","icon-size":.5,"icon-offset":[0,-32],"icon-allow-overlap":!0,"icon-ignore-placement":!0}}),P.open&&Object(Z.jsx)(Ue.b,{id:"select-point-layer",type:"symbol",source:"clusterSource",filter:["==","id",P.id],layout:{"icon-image":"marker-icon","icon-size":.7,"icon-offset":[0,-32],"icon-allow-overlap":!0,"icon-ignore-placement":!0}})]}),Object(Z.jsx)(Ue.d,{style:{top:70,right:10}}),Object(Z.jsx)(Ue.f,{style:{bottom:10,left:10}}),a&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Ue.c,{longitude:a.location[0],latitude:a.location[1],offsetLeft:-16,offsetTop:-32,children:Object(Z.jsx)("img",{src:"data:image/png;base64,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",alt:"marker"})}),Object(Z.jsx)(Ue.c,{longitude:a.location[0],latitude:a.location[1],offsetLeft:16,offsetTop:-46,children:Object(Z.jsx)("div",{className:t.addressLabel,children:a.address})})]}),P.open&&Object(Z.jsx)(Ge,{markerPanelInfo:P,setMarkerPanelInfo:D}),W&&Object(Z.jsx)(Ce.a,{})]}))},et=Object(d.a)({togglePanel:{position:"absolute",top:10,right:10}});var tt=function(e){var t=et(),a=e.renderMode,n=e.setRenderMode;return Object(Z.jsx)("div",{className:t.togglePanel,children:Object(Z.jsxs)(Ne.a,{value:a,exclusive:!0,onChange:function(e,t){null!==t&&n(t)},"aria-label":"chart button group",children:[Object(Z.jsx)(Me.a,{value:"cluster","aria-label":"Cluster",children:"Cluster"}),Object(Z.jsx)(Me.a,{value:"heatmap","aria-label":"Heatmap",children:"Heatmap"})]})})},at=a(171),nt=a.n(at),rt=a(172),it=a.n(rt),ct=a(173),ot=a.n(ct),st=Object(d.a)({countsPanel:{position:"absolute",top:10,left:10,width:400,"& .MuiPaper-root":{backgroundColor:"rgba(255,255,255,0.8)"}}});var lt=function(e){var t=st(),a=e.counts;return Object(Z.jsx)("div",{className:t.countsPanel,children:Object(Z.jsxs)(y.a,{container:!0,spacing:2,flexDirection:"row",children:[Object(Z.jsx)(y.a,{item:!0,sm:4,xs:12,children:Object(Z.jsxs)(Fe.a,{children:[Object(Z.jsxs)(y.a,{container:!0,alignItems:"center",children:[Object(Z.jsx)(nt.a,{color:"primary"}),Object(Z.jsx)(ee.a,{variant:"caption",children:"Total Devices"})]}),Object(Z.jsx)(ee.a,{variant:"h5",style:{marginLeft:20},children:a.TOTAL?ve()(a.TOTAL).format("0,0"):0})]})}),Object(Z.jsx)(y.a,{item:!0,sm:4,xs:12,children:Object(Z.jsxs)(Fe.a,{children:[Object(Z.jsxs)(y.a,{container:!0,alignItems:"center",children:[Object(Z.jsx)(it.a,{color:"primary"}),Object(Z.jsx)(ee.a,{variant:"caption",children:"Android"})]}),Object(Z.jsx)(ee.a,{variant:"h5",style:{marginLeft:20},children:a.AAID?ve()(a.AAID).format("0,0"):0})]})}),Object(Z.jsx)(y.a,{item:!0,sm:4,xs:12,children:Object(Z.jsxs)(Fe.a,{children:[Object(Z.jsxs)(y.a,{container:!0,alignItems:"center",children:[Object(Z.jsx)(ot.a,{color:"secondary"}),Object(Z.jsx)(ee.a,{variant:"caption",children:"iPhone"})]}),Object(Z.jsx)(ee.a,{variant:"h5",style:{marginLeft:20},children:a.IDFA?ve()(a.IDFA).format("0,0"):0})]})})]})})},ut=a(174),dt=Object(d.a)({pieChart:{position:"absolute",top:100,left:10,width:160,height:160,"&.MuiPaper-root":{borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.7)"}}});var bt=function(e){var t=dt(),a=e.counts,r=Object(n.useState)([]),i=Object(u.a)(r,2),c=i[0],o=i[1];return Object(n.useEffect)((function(){var e=[["Platform","Count",{role:"style"}],["Android",parseInt(a.AAID),"#000"],["iOS",parseInt(a.IDFA),"#000"]];o(e)}),[a]),Object(Z.jsx)(Fe.a,{className:t.pieChart,children:Object(Z.jsx)(ut.a,{width:"100%",height:"100%",chartType:"PieChart",data:c,options:{pieHole:.2,legend:{position:"top",alignment:"center"},backgroundColor:"transparent"},rootProps:{"data-testid":"1"},style:{flex:1,opacity:.9}})})},jt=Object(d.a)({timeslider:{position:"absolute",bottom:10,left:0,right:0,"& .MuiPaper-root":{width:"50%",maxWidth:600,paddingTop:10,paddingBottom:5,paddingLeft:40,paddingRight:40,backgroundColor:"rgba(255,255,255,0.7)"},"&.MuiSlider-root":{}}});var pt=function(e){var t=jt(),a=e.filter,r=e.setFilter,i=Object(n.useState)({min:0,max:100,step:1,defaultValue:0,marks:[]}),c=Object(u.a)(i,2),o=c[0],s=c[1],l=Object(n.useState)(""),d=Object(u.a)(l,2),b=d[0],j=d[1];return Object(n.useEffect)((function(){var e=Q(V(a.date));s({min:e,max:e+86399,step:30,defaultValue:[e,e+86399],marks:[{value:e,label:"0"},{value:e+10800,label:"3"},{value:e+21600,label:"6"},{value:e+32400,label:"9"},{value:e+43200,label:"12"},{value:e+54e3,label:"15"},{value:e+64800,label:"18"},{value:e+75600,label:"21"},{value:e+86400,label:"24"}]}),r(Object(g.a)(Object(g.a)({},a),{},{timeRange:[e,e+86399]})),j("UTC ".concat(H(0)," - ").concat(H(86399)," ").concat(V(a.date)))}),[a.date]),Object(Z.jsx)(y.a,{container:!0,className:t.timeslider,justifyContent:"center",children:Object(Z.jsxs)(Fe.a,{children:[Object(Z.jsx)(ee.a,{variant:"h6",align:"center",children:b}),Object(Z.jsx)(Qe.a,Object(g.a)({getAriaLabel:function(){return"Time range"},value:a.timeRange,onChange:function(e,t){r(Object(g.a)(Object(g.a)({},a),{},{timeRange:t}));var n=Q(V(a.date));j("UTC ".concat(H(t[0]-n)," - ").concat(H(t[1]-n)," ").concat(V(a.date)))},style:{color:"#ff844b"}},o))]})})},Ot=Object(d.a)({root:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},content:{position:"relative",flex:1,display:"flex",flexDirection:"row",height:0},sidebar:{position:"relative",display:"flex",flexDirection:"column",width:400,padding:0},mapContainer:{position:"relative",flex:1}});var ht=function(){var e=Ot(),t=Object(n.useState)(null),a=Object(u.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)({date:h,timeRange:[Q(V(h)),Q(V(h))+86399],category:"All Categories",category_distance:20}),o=Object(u.a)(c,2),s=o[0],l=o[1],d=Object(n.useState)([]),b=Object(u.a)(d,2),j=b[0],p=b[1],O=Object(n.useState)("cluster"),m=Object(u.a)(O,2),x=m[0],g=m[1];return Object(Z.jsxs)("div",{className:e.root,children:[Object(Z.jsx)(q,{searchPlace:r,setSearchPlace:i,filter:s,setFilter:l}),Object(Z.jsxs)("div",{className:e.content,children:[Object(Z.jsx)("div",{className:e.sidebar,children:Object(Z.jsx)(we,{searchPlace:r,setSearchPlace:i})}),Object(Z.jsxs)("div",{className:e.mapContainer,children:[Object(Z.jsx)($e,{searchPlace:r,filter:s,renderMode:x,setCounts:p}),Object(Z.jsx)(tt,{renderMode:x,setRenderMode:g}),Object(Z.jsx)(lt,{counts:j}),Object(Z.jsx)(bt,{counts:j}),Object(Z.jsx)(pt,{filter:s,setFilter:l})]})]})]})},mt=Object(o.a)({components:{MuiPaper:{styleOverrides:{root:{padding:10,boxShadow:"0px 24px 48px -4px #06192114"}}},MuiTypography:{styleOverrides:{root:{lineHeight:"normal"}}},MuiButton:{styleOverrides:{root:{padding:"16px 20px",borderRadius:50,lineHeight:"normal",textTransform:"none"}}},MuiTextField:{styleOverrides:{root:{boxSizing:"border-box"}}},MuiOutlinedInput:{styleOverrides:{root:{padding:"0 16px",borderRadius:72,backgroundColor:"#f1f6fa"},input:{padding:"14px 8px",color:"#162c36"},notchedOutline:{border:0}}},MuiToggleButtonGroup:{styleOverrides:{root:{borderRadius:50,backgroundColor:"#e3ebf1"},grouped:{"&:first-of-type":{marginLeft:0},"&:last-of-type":{marginRight:0},"&:not(:first-of-type)":{borderTopLeftRadius:50,borderBottomLeftRadius:50},"&:not(:last-of-type)":{borderTopRightRadius:50,borderBottomRightRadius:50}}}},MuiToggleButton:{styleOverrides:{root:{border:0,borderRadius:50,textTransform:"none",padding:"10px 20px",marginLeft:10,marginRight:10,"&.Mui-selected":{color:"#fff",backgroundColor:"#ff844b"}}}},MuiInputAdornment:{styleOverrides:{root:{color:"#ff844b"}}},MuiIconButton:{styleOverrides:{root:{color:"#ff844b"}}},MuiBackdrop:{styleOverrides:{root:{}}},MuiDialog:{styleOverrides:{root:{"& .MuiDialog-paper":{width:480,paddingTop:20,paddingBottom:20,paddingLeft:30,paddingRight:30}}}},MuiDialogTitle:{styleOverrides:{root:{borderBottom:"1px solid #e3ebf1"}}},MuiDialogContent:{styleOverrides:{root:{padding:10}}},MuiDialogActions:{styleOverrides:{root:{padding:20}}},MuiListItemButton:{styleOverrides:{root:{borderRadius:8,"&:hover":{backgroundColor:"#f1f6fa"}}}}}});mt=Object(s.a)(mt);var xt=function(){return Object(Z.jsx)(l.a,{theme:mt,children:Object(Z.jsx)(ht,{})})},gt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,369)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};c.a.render(Object(Z.jsx)(r.a.StrictMode,{children:Object(Z.jsx)(xt,{})}),document.getElementById("root")),gt()}},[[263,1,2]]]);
//# sourceMappingURL=main.c6bd495c.chunk.js.map