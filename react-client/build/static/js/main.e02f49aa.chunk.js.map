{"version":3,"sources":["utils/settings.js","assets/images/logo.png","utils/util.js","services/days.js","components/locations-dashboard/Header.js","services/cluster.js","services/counts.js","services/marker.js","components/locations-dashboard/MarkerPanel.js","components/locations-dashboard/Map.js","assets/images/marker-icon.png","assets/images/search-marker.png","components/locations-dashboard/TimeSlider.js","components/locations-dashboard/Counts.js","components/locations-dashboard/Charts.js","components/locations-dashboard/Main.js","components/App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","MAPBOX_ACCESS_TOKEN","DEFAULT_VIEWPORT","longitude","latitude","zoom","google","window","DEFAULT_DATE","Date","dateFormat","date","d","getDate","m","getMonth","getFullYear","timeFormat","value","sec_num","parseInt","hours","Math","floor","minutes","seconds","secondsFromDate","arr","split","UTC","getDays","params","a","result","url","axios","post","then","response","data","catch","err","status","message","useStyles","makeStyles","header","padding","backgroundColor","logo","height","headerTitle","flex","timeout","Header","props","classes","setSearchLocation","address","setAddress","selectedDate","setSelectedDate","useState","isLoading","setIsLoading","highlightedDays","setHighlightedDays","handleMonthChange","fetchHighlightedDays","clearTimeout","setTimeout","res","useEffect","input","document","getElementById","autocomplete","maps","places","Autocomplete","event","addListener","place","getPlace","geometry","location","toJSON","formatted_address","Grid","container","className","spacing","item","sm","justifyContent","alignItems","src","imgLogo","TextField","id","name","placeholder","InputProps","startAdornment","InputAdornment","position","endAdornment","IconButton","onClick","onMouseDown","e","preventDefault","edge","fullWidth","autoComplete","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","loading","renderLoading","CalendarPickerSkeleton","renderInput","renderDay","day","_value","DayComponentProps","isSelected","outsideCurrentMonth","indexOf","PickersDay","style","border","toString","onMonthChange","onYearChange","onChange","newValue","getClusters","getCounts","getMarkerInfo","mapboxgl","workerClass","require","default","drawer","display","flexDirection","width","minWidth","boxSizing","drawerHeader","paddingTop","paddingBottom","marginBottom","borderBottom","paper","paperHeader","mapContainer","mapDiv","timeslider","bottom","left","right","paddingLeft","paddingRight","MarkerPanel","markerPanelInfo","setMarkerPanelInfo","toggleValue","setToggleValue","markerInfo","setMarkerInfo","min","max","step","defaultValue","marks","sliderProps","setSliderProps","sliderValue","setSliderValue","sliderLabel","setSliderLabel","type","features","coordinates","viewport","setViewport","fetchMarkerInfo","t0","label","location_at","open","Drawer","anchor","onClose","key","Typography","variant","ToggleButtonGroup","exclusive","ToggleButton","Paper","md","xs","advertiser_id","final_country","platform","device_model","ipv_4","ipv_6","wifi_ssid","wifi_bssid","toISOString","altitude","horizontal_accuracy","vertical_accuracy","heading","speed","user_agent","publisher_id","background","carrier","venue_name","venue_category","dwell_time","CircularProgress","mapStyle","mapboxApiAccessToken","attributionControl","maxZoom","minZoom","onViewportChange","top","align","Slider","color","addressLabel","fontSize","lineHeight","borderLeft","pointerEvents","Map","searchLocation","timeRange","setCounts","mapRef","useRef","interactiveLayerIds","setInteractiveLayerIds","clusterSource","setClusterSource","showLoading","setShowLoading","handleClick","length","feature","layer","transitionDuration","properties","map","current","getMap","loadImage","error","image","addImage","lat","lng","on","mapDataCallback","getZoom","bounds","getBounds","toArray","flat","forEach","abbr","numeral","format","toUpperCase","newCounts","row","count","ref","source","filter","paint","layout","offsetLeft","offsetTop","alt","LinearProgress","TimeSlider","setTimeRange","timeRangeLabel","setTimeRangeLabel","getAriaLabel","Counts","counts","marginLeft","Charts","root","content","chartContainer","Main","theme","createTheme","components","MuiPaper","styleOverrides","boxShadow","MuiTextField","borderRadius","MuiOutlinedInput","notchedOutline","MuiToggleButtonGroup","grouped","marginRight","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","MuiToggleButton","textTransform","MuiInputAdornment","MuiIconButton","responsiveFontSizes","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e02f49aa.chunk.js","sourcesContent":["\r\n//export const BASE_URL = 'http://localhost:8080';\r\n\r\nexport const BASE_URL = 'https://locations-dashboard.herokuapp.com';\r\n\r\nexport const MAPBOX_ACCESS_TOKEN = 'pk.eyJ1IjoibGVld2FuZ2RldiIsImEiOiJja2tnbDU2c2gwMHNvMndsdDF1d2pxNTQ2In0.zKeo06DtCh6fLifrbCZCFA';\r\n\r\nexport const DEFAULT_VIEWPORT = {\r\n    longitude: -79.3966596,\r\n    latitude: 43.6565291,\r\n    zoom: 14\r\n}\r\n\r\nexport const google = window.google;\r\n\r\nexport const DEFAULT_DATE = new Date('2021-08-01');","export default __webpack_public_path__ + \"static/media/logo.3f900ba7.png\";","\r\nexport const dateFormat = (date) => {\r\n    var d = date.getDate();\r\n    var m = date.getMonth() + 1; //Month from 0 to 11\r\n    var y = date.getFullYear();\r\n    return '' + (m<=9 ? '0' + m : m) + '/' + (d <= 9 ? '0' + d : d) + '/' + y;\r\n}\r\n\r\nexport const timeFormat = (value) => {\r\n    var sec_num = parseInt(value, 10); // don't forget the second param\r\n    var hours   = Math.floor(sec_num / 3600);\r\n    var minutes = Math.floor((sec_num - (hours * 3600)) / 60);\r\n    var seconds = sec_num - (hours * 3600) - (minutes * 60);\r\n\r\n    if (hours   < 10) {hours   = \"0\"+hours;}\r\n    if (minutes < 10) {minutes = \"0\"+minutes;}\r\n    if (seconds < 10) {seconds = \"0\"+seconds;}\r\n    return hours + ':' + minutes + ':' + seconds;\r\n}\r\n\r\nexport const secondsFromDate = (date) => {\r\n    let arr = date.split(\"/\");\r\n    return Date.UTC(arr[2],parseInt(arr[0])-1,arr[1])/1000\r\n}","import axios from \"axios\";\r\nimport { BASE_URL } from \"../utils/settings.js\";\r\n\r\nexport const getDays = async (params) => {\r\n    var result = null;\r\n    \r\n    let url = `${BASE_URL}/api/days`;\r\n\r\n    await axios.post(url, params).then((response) => {\r\n        result = response.data;\r\n    }).catch((err) => {\r\n      result = {\r\n        status: \"failed\",\r\n        message: \"No internet connection\",\r\n      };\r\n    });\r\n    return result;\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport TextField from '@mui/material/TextField';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport Badge from '@mui/material/Badge';\r\n\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport CalendarPickerSkeleton from '@mui/lab/CalendarPickerSkeleton';\r\nimport PickersDay from '@mui/lab/PickersDay';\r\n\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport imgLogo from \"../../assets/images/logo.png\";\r\n\r\nimport { google } from \"./../../utils/settings.js\";\r\nimport { dateFormat, secondsFromDate } from '../../utils/util.js';\r\nimport { getDays } from \"../../services/days.js\";\r\n\r\nconst useStyles = makeStyles({\r\n    header:{\r\n       padding:'10px 20px',\r\n       backgroundColor:'white'\r\n    },\r\n    logo:{\r\n        height: 80\r\n    },\r\n    headerTitle:{\r\n       flex:1\r\n    }\r\n });\r\n \r\n let timeout = null;\r\n\r\n function Header(props) {\r\n     const classes = useStyles();\r\n     const { \r\n         setSearchLocation,\r\n         address,\r\n         setAddress,\r\n         selectedDate,\r\n         setSelectedDate\r\n     } = props;\r\n     const [isLoading, setIsLoading] = useState(false);\r\n     const [highlightedDays, setHighlightedDays] = useState([]);\r\n     \r\n     const handleMonthChange = (date) => {\r\n        setIsLoading(true);\r\n        setHighlightedDays([]);\r\n        fetchHighlightedDays(date);\r\n     }\r\n\r\n     const fetchHighlightedDays = (date) => {\r\n        if(timeout){\r\n           clearTimeout(timeout);\r\n        }\r\n        timeout = setTimeout(async () => {\r\n            let res = await getDays({date:dateFormat(date)});\r\n            setIsLoading(false);\r\n            if(res.status === 'success'){\r\n              setHighlightedDays(res.result);\r\n            }\r\n        }, 500);\r\n     };\r\n\r\n     useEffect(() => {\r\n        var input = document.getElementById(\"input-address\");\r\n        const autocomplete = new google.maps.places.Autocomplete(input);\r\n        google.maps.event.addListener(autocomplete, \"place_changed\", function () {\r\n          var place = autocomplete.getPlace();\r\n          setSearchLocation(place.geometry.location.toJSON());\r\n          setAddress(place.formatted_address);\r\n        });\r\n\r\n        fetchHighlightedDays(selectedDate);\r\n     }, []);\r\n\r\n     return (\r\n        <Grid container className={classes.header} spacing={3}>\r\n            <Grid container item sm={4} justifyContent=\"center\" alignItems=\"center\">\r\n                <img src={imgLogo} className={classes.logo} />\r\n            </Grid>\r\n            <Grid container item sm={4} alignItems=\"center\">\r\n                <TextField\r\n                  id=\"input-address\"\r\n                  name=\"address\"\r\n                  //variant=\"outlined\"\r\n                  //InputLabelProps={{ shrink: true }}\r\n                  placeholder=\"Enter your address.\"\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon />\r\n                      </InputAdornment>\r\n                    ),\r\n                    endAdornment: (\r\n                       <InputAdornment position=\"end\">\r\n                            <IconButton aria-label=\"toggle password visibility\"\r\n                                onClick={()=>{\r\n                                    setAddress('');\r\n                                    document.getElementById(\"input-address\").value='';\r\n                                }}\r\n                                onMouseDown={(e)=>e.preventDefault()}\r\n                                edge=\"end\"\r\n                            >{address && <CloseIcon />}\r\n                            </IconButton>\r\n                       </InputAdornment>\r\n                    )\r\n                  }}\r\n                  fullWidth\r\n                  autoComplete=\"off\"\r\n                />\r\n            </Grid>\r\n            <Grid container item sm={4} alignItems=\"center\">\r\n               <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                    <DatePicker\r\n                        //label=\"Select Date\"\r\n                        value={selectedDate}\r\n                        loading={isLoading}\r\n                        renderLoading={() => <CalendarPickerSkeleton />}\r\n                        renderInput={(params) => <TextField {...params} />}\r\n                        renderDay={(day, _value, DayComponentProps) => {\r\n                            const isSelected =\r\n                              !DayComponentProps.outsideCurrentMonth &&\r\n                              highlightedDays.indexOf(day.getDate()) > -1;\r\n                            return (\r\n                               <PickersDay \r\n                                  key={day.toString()} \r\n                                  {...DayComponentProps} \r\n                                  //disabled={!isSelected}\r\n                                  style={{border: isSelected?'1px solid #ff844b':0}}\r\n                               />\r\n                            );\r\n                          }}\r\n                          onMonthChange={handleMonthChange}\r\n                          onYearChange={handleMonthChange}\r\n                          onChange={(newValue) => {\r\n                            setSelectedDate(newValue);\r\n                          }}\r\n                    />\r\n                </LocalizationProvider>\r\n            </Grid>\r\n        </Grid>\r\n     );\r\n }\r\n\r\nexport default Header;","import axios from \"axios\";\r\nimport { BASE_URL } from \"../utils/settings.js\";\r\n\r\nexport const getClusters = async (params) => {\r\n    var result = null;\r\n    \r\n    let url = `${BASE_URL}/api/clusters`;\r\n  \r\n    await axios.post(url, params).then((response) => {\r\n        result = response.data;\r\n    }).catch((err) => {\r\n      result = {\r\n        status: \"failed\",\r\n        message: \"No internet connection\",\r\n      };\r\n    });\r\n    return result;\r\n  };","import axios from \"axios\";\r\nimport { BASE_URL } from \"../utils/settings.js\";\r\n\r\nexport const getCounts = async (params) => {\r\n    var result = null;\r\n\r\n    let url = `${BASE_URL}/api/counts`;\r\n\r\n    await axios.post(url, params).then((response) => {\r\n        result = response.data;\r\n    }).catch((err) => {\r\n        result = {\r\n        status: \"failed\",\r\n        message: \"No internet connection\",\r\n        };\r\n    });\r\n    return result;\r\n};","import axios from \"axios\";\r\nimport { BASE_URL } from \"../utils/settings.js\";\r\n\r\nexport const getMarkerInfo = async (params) => {\r\n    var result = null;\r\n    \r\n    let url = `${BASE_URL}/api/marker/info`;\r\n\r\n    await axios.post(url, params).then((response) => {\r\n        result = response.data;\r\n    }).catch((err) => {\r\n      result = {\r\n        status: \"failed\",\r\n        message: \"No internet connection\",\r\n      };\r\n    });\r\n    return result;\r\n};\r\n\r\nexport const getTracking = async (params) => {\r\n  var result = null;\r\n  \r\n  let url = `${BASE_URL}/api/marker/tracking`;\r\n\r\n  await axios.post(url, params).then((response) => {\r\n      result = response.data;\r\n  }).catch((err) => {\r\n    result = {\r\n      status: \"failed\",\r\n      message: \"No internet connection\",\r\n    };\r\n  });\r\n  return result;\r\n};","import React, { useEffect, useState, useCallback } from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Drawer from '@mui/material/Drawer';\r\nimport Paper from '@mui/material/Paper';\r\nimport Typography from '@mui/material/Typography';\r\nimport ToggleButton from '@mui/material/ToggleButton';\r\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Slider from '@mui/material/Slider';\r\n\r\nimport ReactMapGL, { \r\n    Source,\r\n    Layer,\r\n    Marker,\r\n    ScaleControl,\r\n    NavigationControl,\r\n} from 'react-map-gl';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport { MAPBOX_ACCESS_TOKEN } from \"../../utils/settings.js\";\r\n\r\nimport iconMarker from \"../../assets/images/marker-icon.png\";\r\n\r\nimport { timeFormat, secondsFromDate } from \"../../utils/util.js\";\r\nimport { getMarkerInfo, getTracking } from \"../../services/marker.js\";\r\n\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\nconst useStyles = makeStyles({\r\n    drawer:{\r\n       '& .MuiBackdrop-root':{\r\n           //position:'absolute'\r\n           //backgroundColor:'transparent' //'rgba(0,0,0,0.2)'\r\n       },\r\n       '&>.MuiPaper-root':{\r\n           //position: 'absolute',\r\n           display:'flex',\r\n           flexDirection:'column',\r\n           width: '50%',\r\n           minWidth:400,\r\n           padding:'20px 40px',\r\n           backgroundColor:'#f1f6fa',\r\n           boxSizing:'border-box'\r\n       }\r\n    },\r\n    drawerHeader:{\r\n      display:'flex',\r\n      flexDirection:'row',\r\n      paddingTop:20,\r\n      paddingBottom:16,\r\n      marginBottom:20,\r\n      borderBottom:'1px solid #e3ebf1'\r\n    },\r\n    paper:{\r\n      marginBottom:20,\r\n      '&.MuiPaper-root':{\r\n         padding:'30px 30px 20px 30px'\r\n      }\r\n    },\r\n    paperHeader:{\r\n        paddingBottom:10,\r\n        marginBottom:20,\r\n        borderBottom:'1px solid #e3ebf1'\r\n    },\r\n    mapContainer:{\r\n       flex:1,\r\n       position:'relative'\r\n    },\r\n    mapDiv:{\r\n        border:'1px solid #e3ebf1',\r\n       '& .mapboxgl-ctrl-logo': {\r\n           display: 'none'\r\n        }\r\n    },\r\n    timeslider:{\r\n        position:'absolute',\r\n        bottom:10,\r\n        left:0,\r\n        right:0,\r\n        '& .MuiPaper-root':{\r\n           width:'70%',\r\n           paddingTop:10,\r\n           paddingBottom:5,\r\n           paddingLeft:40,\r\n           paddingRight:40,\r\n           backgroundColor:'rgba(255,255,255,0.7)',\r\n        },\r\n        '&.MuiSlider-root':{\r\n          //position:'absolute'\r\n          width:'60%'\r\n       }\r\n    }\r\n });\r\n\r\nfunction MarkerPanel(props) {\r\n    const classes = useStyles();\r\n    const {\r\n        markerPanelInfo,\r\n        setMarkerPanelInfo\r\n    } = props;\r\n\r\n    const [toggleValue, setToggleValue] = useState('properties');\r\n    const [markerInfo, setMarkerInfo] = useState(null);\r\n    const [sliderProps, setSliderProps] = useState({\r\n        min:0,\r\n        max:100,\r\n        step: 1,\r\n        defaultValue:0,\r\n        marks:[]\r\n    });\r\n    const [sliderValue, setSliderValue] = useState(0);\r\n    const [sliderLabel, setSliderLabel] = useState('');\r\n    const [trackData, setTrackData] = useState(null);\r\n    const [trackSource, setTrackSource] = useState({\r\n        type: 'FeatureCollection',\r\n        features:[]\r\n    });\r\n\r\n    //const [interpolateLine, setInterpolateSource] = useState(null);\r\n\r\n    const [viewport, setViewport] = useState({\r\n        longitude: markerPanelInfo.geometry.coordinates[0],\r\n        latitude: markerPanelInfo.geometry.coordinates[1],\r\n        zoom:15\r\n    });\r\n    \r\n    const toggleDrawer = (open) => (event) => {\r\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n            return;\r\n        }\r\n        setMarkerPanelInfo({\r\n            ...markerPanelInfo,\r\n            open: open\r\n        });\r\n    };\r\n\r\n    const handleToggleButton = (event, newValue) => {\r\n        if(newValue !== null){\r\n          setToggleValue(newValue);\r\n        }\r\n    }\r\n    \r\n    const handleSliderChange = (event, newValue) => {\r\n        setSliderValue(newValue);\r\n        setSliderLabel(`UTC ${timeFormat(newValue-secondsFromDate(markerPanelInfo.date))} ${markerPanelInfo.date}`);\r\n    };\r\n\r\n   useEffect(()=>{\r\n     \r\n    \r\n      fetchMarkerInfo();\r\n        \r\n   }, []);\r\n\r\n   useEffect(()=>{\r\n       if(toggleValue==='tracking'){\r\n          const t0 = secondsFromDate(markerPanelInfo.date);\r\n          setSliderProps({\r\n            min: t0,\r\n            max: t0+86399,\r\n            defaultValue:t0+86399,\r\n            step: 10,\r\n            marks:[\r\n                { value: t0, label: '0'},\r\n                { value: t0+3*3600, label: '3'},\r\n                { value: t0+6*3600, label: '6'},\r\n                { value: t0+9*3600, label: '9'},\r\n                { value: t0+12*3600, label: '12'},\r\n                { value: t0+15*3600, label: '15'},\r\n                { value: t0+18*3600, label: '18'},\r\n                { value: t0+21*3600, label: '21'},\r\n                { value: t0+24*3600, label: '24'}\r\n            ]\r\n          });\r\n          if(markerInfo){\r\n            setSliderValue(parseInt(markerInfo.location_at));\r\n            setSliderLabel(`UTC ${timeFormat(parseInt(markerInfo.location_at)-t0)} ${markerPanelInfo.date}`);\r\n          }else{\r\n            setSliderValue(t0+86399);\r\n            setSliderLabel(`UTC ${timeFormat(86399)} ${markerPanelInfo.date}`);\r\n          }\r\n          /*\r\n          res = await getTracking({\r\n                date: markerPanelInfo.date,\r\n                id: markerPanelInfo.id\r\n            });\r\n            //console.log(res);\r\n            if(res.status === 'success'){\r\n            //setTrackSource(res.result);\r\n\r\n            }else{\r\n            //setTrackSource(null);\r\n            }\r\n            */\r\n       }\r\n   }, [toggleValue])\r\n\r\n   const fetchMarkerInfo = async () => {\r\n        let res = await getMarkerInfo({\r\n            date: markerPanelInfo.date,\r\n            id: markerPanelInfo.id\r\n        });\r\n        if(res.status === 'success'){\r\n            setMarkerInfo(res.result);\r\n            \r\n            //res.result.location_at\r\n        }else{\r\n            setMarkerInfo(null);\r\n        }\r\n   }\r\n\r\n   return (\r\n        <Drawer\r\n            className={classes.drawer}\r\n            anchor=\"left\"\r\n            open={true}\r\n            onClose={toggleDrawer(false)}\r\n        >\r\n          <Grid container className={classes.drawerHeader} justifyContent=\"space-between\" alignItems=\"center\">\r\n                <Typography variant=\"h6\">\r\n                    Device Information\r\n                </Typography>\r\n                <ToggleButtonGroup \r\n                    value={toggleValue} exclusive\r\n                    onChange={handleToggleButton} aria-label=\"marker button group\"\r\n                >\r\n                    <ToggleButton value=\"properties\" aria-label=\"Properties\">\r\n                       Properties\r\n                    </ToggleButton>\r\n                    <ToggleButton value=\"tracking\" aria-label=\"Tracking\">\r\n                       Tracking\r\n                    </ToggleButton>\r\n                </ToggleButtonGroup>\r\n          </Grid>\r\n          {toggleValue === 'properties' && (\r\n              markerInfo?\r\n                <>\r\n                <Paper className={classes.paper}>\r\n                    <Grid container className={classes.paperHeader}>\r\n                        <Typography variant=\"h6\">\r\n                            Device Identification\r\n                        </Typography>\r\n                    </Grid>  \r\n                    <Grid container spacing={1} alignItems=\"center\">\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Advertiser ID</Typography>\r\n                        </Grid>\r\n                        <Grid item md={9} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.advertiser_id}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Country</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.final_country}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Platform</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.platform}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Device Model</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.device_model}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">IPV 4</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.ipv_4}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">IPV 6</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.ipv_6}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Wifi SSID</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.wifi_ssid}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Wifi BSSID</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.wifi_bssid}</Typography>\r\n                        </Grid>\r\n                    </Grid>  \r\n                </Paper>\r\n                <Paper className={classes.paper}>\r\n                    <Grid container className={classes.paperHeader}>\r\n                        <Typography variant=\"h6\">\r\n                            Device Location\r\n                        </Typography>\r\n                    </Grid> \r\n                    <Grid container spacing={1} alignItems=\"center\">\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Location time</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{new Date(markerInfo.location_at*1000).toISOString()}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Location</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">\r\n                                {`[ ${markerInfo.longitude}, ${markerInfo.latitude} ]`}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Altitude</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{`${markerInfo.altitude} m`}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Horizontal Accuracy</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{`${markerInfo.horizontal_accuracy} m`}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Vertical Accuracy</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{`${markerInfo.vertical_accuracy} m`}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Heading</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.heading}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Speed</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{`${markerInfo.speed} m/s`}</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>\r\n                <Paper className={classes.paper}>\r\n                    <Grid container className={classes.paperHeader}>\r\n                        <Typography variant=\"h6\">\r\n                            Other Information\r\n                        </Typography>\r\n                    </Grid> \r\n                    <Grid container spacing={1} alignItems=\"center\">\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">User Agent</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.user_agent}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Publisher ID</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.publisher_id}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Technical Signals</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\"></Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Background</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.background}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Carrier</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.carrier}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Venue Name</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.venue_name}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Venue Category</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.venue_category}</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"subtitle2\">Dwell Time</Typography>\r\n                        </Grid>\r\n                        <Grid item md={3} xs={6}>\r\n                            <Typography variant=\"caption\">{markerInfo.dwell_time}</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>\r\n                </>\r\n             :\r\n               <Grid container justifyContent=\"center\">\r\n                  <CircularProgress />\r\n               </Grid>\r\n          )}\r\n          {\r\n              toggleValue === 'tracking' && (\r\n                <div className={classes.mapContainer}>\r\n                    <ReactMapGL className={classes.mapDiv}\r\n                        {...viewport}    \r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        mapStyle=\"mapbox://styles/mapbox/light-v10\"\r\n                        mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\r\n                        attributionControl={false}\r\n                        maxZoom={24}\r\n                        minZoom={14}\r\n                        onViewportChange={setViewport}\r\n                    >\r\n                        \r\n                       <NavigationControl style={{ top:10,left:10}}/>\r\n                    </ReactMapGL>\r\n                    <Grid container className={classes.timeslider} justifyContent=\"center\">\r\n                        <Paper>\r\n                            <Typography variant=\"h6\" align=\"center\">\r\n                                {sliderLabel}\r\n                            </Typography>\r\n                            <Slider\r\n                                aria-label=\"track time\"\r\n                                value={sliderValue}\r\n                                onChange={handleSliderChange}\r\n                                //valueLabelDisplay=\"auto\"\r\n                                style={{color:'#ff844b'}}\r\n                                {...sliderProps}\r\n                            />\r\n                        </Paper>\r\n                    </Grid>\r\n                </div>  \r\n              )\r\n          }\r\n        </Drawer>\r\n   );\r\n}\r\n\r\nexport default MarkerPanel;","\r\nimport React, { useState, useEffect, useRef } from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\n\r\nimport ReactMapGL, { \r\n           Source,\r\n           Layer,\r\n           Marker,\r\n           ScaleControl,\r\n           NavigationControl,\r\n           FlyToInterpolator\r\n       } from 'react-map-gl';\r\n\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nimport numeral from \"numeral\";\r\n\r\nimport { MAPBOX_ACCESS_TOKEN, DEFAULT_VIEWPORT } from \"../../utils/settings.js\";\r\nimport { dateFormat } from \"../../utils/util.js\";\r\nimport { getClusters } from \"../../services/cluster.js\";\r\nimport { getCounts } from \"../../services/counts.js\";\r\n\r\nimport iconMarker from \"../../assets/images/marker-icon.png\";\r\nimport iconSearch from \"../../assets/images/search-marker.png\";\r\n\r\nimport MarkerPanel from \"./MarkerPanel.js\";\r\n\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\nconst useStyles = makeStyles({\r\n   mapDiv:{\r\n      '& .mapboxgl-ctrl-logo': {\r\n         display: 'none'\r\n       }\r\n   },\r\n   addressLabel:{\r\n      display:'flex',\r\n      alignItems:'center',\r\n      padding:'0 10px',\r\n      width:240,\r\n      height:60,\r\n      color:'#000',\r\n      fontSize:14,\r\n      lineHeight:'14px',\r\n      //borderRadius:4,\r\n      borderLeft:'2px solid #ff0000',\r\n      backgroundColor:'rgba(255,255,255,0.8)',\r\n      pointerEvents:'none'\r\n   }\r\n});\r\n\r\nlet timeout = null;\r\n\r\nfunction Map(props) {\r\n    const classes = useStyles();\r\n    const { \r\n       searchLocation,\r\n       address,\r\n       selectedDate,\r\n       timeRange,\r\n       setCounts\r\n    } = props;\r\n\r\n    const mapRef = useRef(null);\r\n    const [viewport, setViewport] = useState(DEFAULT_VIEWPORT);\r\n    const [interactiveLayerIds, setInteractiveLayerIds] = useState([]);\r\n    const [clusterSource, setClusterSource] = useState({\r\n        type: 'FeatureCollection',\r\n        features:[]\r\n    });\r\n    const [showLoading, setShowLoading] = useState(true);\r\n    \r\n    const [markerPanelInfo, setMarkerPanelInfo] = useState(false);\r\n\r\n    const handleClick = async (e) => {\r\n        if(e.features && e.features.length>0){\r\n            const feature = e.features[0];\r\n            if(feature.layer.id === 'cluster-layer'){\r\n                setViewport({\r\n                    ...viewport,\r\n                    longitude: feature.geometry.coordinates[0],\r\n                    latitude: feature.geometry.coordinates[1],\r\n                    zoom: viewport.zoom + 1,\r\n                    transitionDuration: 500\r\n                });\r\n            }else if(feature.layer.id === 'unclustered-point-layer'){\r\n                setMarkerPanelInfo({\r\n                    ...markerPanelInfo,\r\n                    open: true,\r\n                    date: dateFormat(selectedDate),\r\n                    id: feature.properties[\"id\"],\r\n                    geometry: feature.geometry\r\n                });\r\n               \r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n\r\n        const map = mapRef.current.getMap();\r\n        \r\n        map.loadImage(iconMarker, (error, image) => {\r\n            if (error) throw error;\r\n            // Add the image to the map style.\r\n            map.addImage('marker-icon', image);\r\n        });\r\n\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        if(searchLocation){\r\n            setViewport({\r\n               ...viewport,\r\n               latitude: searchLocation.lat,\r\n               longitude: searchLocation.lng,\r\n               zoom: 16,\r\n               //transitionDuration: 4000,\r\n               //transitionInterpolator: new FlyToInterpolator(),\r\n               ////transitionEasing: d3.easeCubic\r\n            });\r\n        }\r\n    }, [searchLocation]);\r\n\r\n    useEffect(()=>{\r\n\r\n       const map = mapRef.current.getMap();\r\n\r\n       map.on('moveend', mapDataCallback);\r\n\r\n       mapDataCallback();\r\n\r\n    }, [selectedDate, timeRange]);\r\n\r\n    const mapDataCallback = () => {\r\n        const map = mapRef.current.getMap();\r\n        if(map.getZoom()<14){\r\n            setClusterSource({\r\n                type: 'FeatureCollection',\r\n                features:[]\r\n            });\r\n            return;\r\n        } \r\n        if(timeout){\r\n            clearTimeout(timeout);\r\n        }\r\n        timeout = setTimeout(async () => {\r\n           setShowLoading(true);\r\n           let res = await getClusters({\r\n               date: dateFormat(selectedDate),\r\n               timeRange: timeRange,\r\n               zoom: map.getZoom(),\r\n               bounds: map.getBounds().toArray().flat()\r\n           });\r\n           setShowLoading(false);\r\n           if(res.status === 'success'){\r\n               if(res.result && res.result.features){\r\n                    res.result.features.forEach(feature => {\r\n                        var abbr = numeral(feature.properties[\"point_count\"]).format(\"0.[0] a\").toUpperCase();\r\n                        if(feature.properties[\"point_count\"]>=1000){\r\n                           abbr += '+';\r\n                        }\r\n                        feature.properties[\"point_count_abbreviated\"] = abbr;\r\n                    });\r\n                    setClusterSource(res.result);\r\n               }\r\n           }else{\r\n                setClusterSource({\r\n                    type: 'FeatureCollection',\r\n                    features:[]\r\n                });\r\n           }\r\n           setInteractiveLayerIds(['cluster-layer','unclustered-point-layer']);\r\n\r\n           res = await getCounts({\r\n                date: dateFormat(selectedDate),\r\n                timeRange: timeRange,\r\n                bounds: map.getBounds().toArray().flat()\r\n           });\r\n           if(res.status === 'success'){\r\n              var newCounts = [];\r\n              newCounts['TOTAL'] = 0;\r\n              res.result.forEach(row=>{\r\n                  newCounts[row.platform] = row.count;\r\n                  newCounts['TOTAL'] += parseInt(row.count);\r\n              });\r\n              setCounts(newCounts);\r\n           }else{\r\n              setCounts([]);\r\n           }\r\n        }, 500);\r\n    }\r\n\r\n    return (\r\n        <ReactMapGL className={classes.mapDiv}\r\n            {...viewport}    \r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            mapStyle=\"mapbox://styles/mapbox/light-v10\"\r\n            mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\r\n            ref={mapRef}\r\n            attributionControl={false}\r\n            maxZoom={24}\r\n            minZoom={14}\r\n            onViewportChange={setViewport}\r\n            interactiveLayerIds={interactiveLayerIds}\r\n            onClick={handleClick}\r\n        >\r\n            <Source\r\n                id=\"clusterSource\"\r\n                type=\"geojson\"\r\n                data={clusterSource}\r\n                //cluster={true}\r\n                //clusterMaxZoom={14}\r\n                //clusterRadius={50}\r\n            >\r\n                <Layer\r\n                    id='cluster-layer'\r\n                    type='circle'\r\n                    source='clusterSource'\r\n                    filter={['>', 'point_count', 1]}\r\n                    paint={{\r\n                      'circle-color': ['step', ['get', 'point_count'], '#51bbd6', 100, '#f1f075', 750, '#f28cb1'],\r\n                      'circle-radius': ['step', ['get', 'point_count'], 20, 100, 30, 750, 40]\r\n                    }}\r\n                />\r\n                <Layer \r\n                    id='cluster-count-layer'\r\n                    type='symbol'\r\n                    source='clusterSource'\r\n                    filter={['>', 'point_count', 1]}\r\n                    layout={{\r\n                        'text-field': '{point_count_abbreviated}',\r\n                        'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],\r\n                        'text-size': 12\r\n                    }}\r\n                />\r\n                <Layer\r\n                    id='unclustered-point-layer'\r\n                    type='symbol'\r\n                    source='clusterSource'\r\n                    filter={['==', 'point_count', 1]}\r\n                    layout={{\r\n                        'icon-image': 'marker-icon',\r\n                        'icon-size': 0.6,\r\n                        'icon-rotate': [\"get\",\"heading\"],\r\n                        'icon-allow-overlap':true,\r\n                        'icon-ignore-placement': true,\r\n                        'icon-rotation-alignment':'map', // viewport\r\n                        'icon-pitch-alignment':'viewport'\r\n                    }}\r\n                />\r\n                {markerPanelInfo.open && (\r\n                   <Layer\r\n                        id='select-point-layer'\r\n                        type='circle'\r\n                        source='clusterSource'\r\n                        filter={['==', 'id', markerPanelInfo.id]}\r\n                        paint={{\r\n                            'circle-radius':20,\r\n                            'circle-color': 'transparent',\r\n                            'circle-stroke-color':'#ff844b',\r\n                            'circle-stroke-width':2\r\n                        }}\r\n                    />\r\n                )}\r\n            </Source>\r\n            <NavigationControl style={{ top:10,right:10}}/>\r\n            <ScaleControl style={{bottom:10,left:10}} />\r\n            {(searchLocation && address) && (\r\n                <>\r\n                <Marker longitude={searchLocation.lng} latitude={searchLocation.lat} offsetLeft={-16} offsetTop={-32}>\r\n                    <img src={iconSearch} alt=\"marker\" />\r\n                </Marker>\r\n                <Marker longitude={searchLocation.lng} latitude={searchLocation.lat} offsetLeft={16} offsetTop={-46}>\r\n                    <div className={classes.addressLabel}>{address}</div>\r\n                </Marker>\r\n                </>\r\n            )}\r\n            {markerPanelInfo.open && (\r\n                <MarkerPanel\r\n                    markerPanelInfo={markerPanelInfo}    \r\n                    setMarkerPanelInfo={setMarkerPanelInfo}\r\n                />\r\n            )}\r\n            {showLoading && <LinearProgress />}\r\n        </ReactMapGL>\r\n    );\r\n}\r\n\r\nexport default Map;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAyCAMAAAAKuilWAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAj1QTFRFAAAAUbvW/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvW/4RL/4RL/4RLUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWUbvWtXpTgAAAAL90Uk5TAAAJgbcodv/CBxrn/muw8hhClgXS/VYBiNEOIOxmBLv5LlerCNxRnOAUNPeJAMz7N2y+F+93r+k/+I0SyplgMRMDAg0lT4DL9VT81XMhCRIUDgIRTrPPBgr0hAsaYrfd5+njzYI0AUR49tc1Oa/6/9RnBRBIgwqF/cokk9NJEL/+60MIvO48A60dTZwGuvA+WaTx4DYNaIspkx/70iiW6jfvjablLS/2fHDFC4zWfcZQ2/WKYdn87ZQbbJGomkgzCm4xAAAB9ElEQVR4nGNgIBkw4pVlYmZhxaubjZ2dgxOPAi5udnYeXjwK+NiBgF8Ap7wgOxgICeOQFxCBKBAVwy4vLsEOBZJSWBVIy8AU8Mhik5eTZ4cDBUUsCpR4EArYlcUx5FVUkeTZRdUwXKjOjgI0NNEUaGmjKmDX0UV1oR6aPLu+AYoCQ3R5dnYjZHcam2AqYDdFyAubYZFnN5eGK7CwxKaA3QrmTmsbMJ/b1s7ewdHJ2cXVzV0UJODhCZFndPMCBr+3j68TA6Off0BgEINucEgoyNCwcLCCiEhg4EdFMzDExMbFJyQmJaekpjE4pWsAVWSAFQRnsmdlMzDk5Oblw0BBYRFDsboou4gjWEVJqSZDWXlFPjKorGJwrK6phfujrr4hHxU0NjHoOsHlm1vyMUBrGyKg2jsw5fPzEzvhCrrysCnI726Hyvf0YpXP7+uHKpiA3YD8/Fyogok45PMnNUMUTMalIH8KWH4qehAgwDSwgiqc8vnTwQpm4FYwE6xgFm4F5ZBgmI1TwQSIL+bgVDAXomAeLvn50LBesBCHgkWwyFyMXX7JUlhsLluOVcEKeHQzrsQWmKtWI1IMwxpM+bUBSPIMResq0OTXdzKggLQNG5GlN22eyoAOerZs3QaV3r5jJ4Y0ON5Td+2euGfvin0xaVjlsQMAFN44ROMgIzgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Paper from '@mui/material/Paper';\r\nimport Slider from '@mui/material/Slider';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport { dateFormat, secondsFromDate, timeFormat } from \"../../utils/util.js\";\r\n\r\nconst useStyles = makeStyles({\r\n    timeslider:{\r\n        position:'absolute',\r\n        bottom:10,\r\n        left:0,\r\n        right:0,\r\n        '& .MuiPaper-root':{\r\n           width:'50%',\r\n           paddingTop:10,\r\n           paddingBottom:5,\r\n           paddingLeft:40,\r\n           paddingRight:40,\r\n           backgroundColor:'rgba(255,255,255,0.7)',\r\n        },\r\n        '&.MuiSlider-root':{\r\n          //position:'absolute'\r\n          width:'60%'\r\n       }\r\n    }\r\n });\r\n\r\n \r\nfunction TimeSlider(props){\r\n    const classes = useStyles();\r\n    const { \r\n        selectedDate,\r\n        timeRange,\r\n        setTimeRange\r\n    } = props;\r\n    \r\n    const [sliderProps, setSliderProps] = useState({\r\n        min:0,\r\n        max:100,\r\n        step: 1,\r\n        defaultValue:0,\r\n        marks:[]\r\n    });\r\n    const [timeRangeLabel, setTimeRangeLabel] = useState('');\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setTimeRange(newValue);\r\n        const t0 = secondsFromDate(dateFormat(selectedDate));\r\n        setTimeRangeLabel(`UTC ${timeFormat(newValue[0]-t0)} - ${timeFormat(newValue[1]-t0)} ${dateFormat(selectedDate)}`);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        const t0 = secondsFromDate(dateFormat(selectedDate));\r\n        setSliderProps({\r\n            min:t0,\r\n            max:t0+86399,\r\n            defaultValue: [t0,t0+86399],\r\n            marks:[\r\n                { value: t0, label: '0'},\r\n                { value: t0+3*3600, label: '3'},\r\n                { value: t0+6*3600, label: '6'},\r\n                { value: t0+9*3600, label: '9'},\r\n                { value: t0+12*3600, label: '12'},\r\n                { value: t0+15*3600, label: '15'},\r\n                { value: t0+18*3600, label: '18'},\r\n                { value: t0+21*3600, label: '21'},\r\n                { value: t0+24*3600, label: '24'}\r\n            ]\r\n        });    \r\n\r\n        setTimeRange([t0, t0+86399]);\r\n\r\n        setTimeRangeLabel(`UTC ${timeFormat(0)} - ${timeFormat(86399)} ${dateFormat(selectedDate)}`);\r\n\r\n     }, [selectedDate]);\r\n\r\n    return (\r\n        <Grid container className={classes.timeslider} justifyContent=\"center\">\r\n            <Paper>\r\n               <Typography variant=\"h6\" align=\"center\">\r\n                  {timeRangeLabel}\r\n               </Typography>\r\n               <Slider\r\n                    getAriaLabel={() => 'Time range'}\r\n                    value={timeRange}\r\n                    onChange={handleChange}\r\n                    //valueLabelDisplay=\"auto\"\r\n                    //color=\"primary\"\r\n                    style={{color:'#ff844b'}}\r\n                    {...sliderProps}\r\n               />\r\n            </Paper>\r\n        </Grid>\r\n    );\r\n}\r\nexport default TimeSlider;","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Paper from '@mui/material/Paper';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport ShareLocationIcon from '@mui/icons-material/ShareLocation';\r\nimport PhoneAndroidIcon from '@mui/icons-material/PhoneAndroid';\r\nimport PhoneIphoneIcon from '@mui/icons-material/PhoneIphone';\r\n\r\nimport numeral from \"numeral\";\r\n\r\nfunction Counts(props) {\r\n    const { counts } = props;\r\n    return(\r\n       <Grid container spacing={2} flexDirection=\"row\" style={{marginBottom:50}}>\r\n           <Grid item sm={4} xs={12}>\r\n               <Paper>\r\n                    <Grid container alignItems=\"center\">\r\n                        <ShareLocationIcon color=\"primary\" />\r\n                        <Typography variant=\"caption\">\r\n                            Total Devices\r\n                        </Typography>\r\n                    </Grid>\r\n                   <Typography variant=\"h5\" style={{marginLeft:20}}>\r\n                       {counts[\"TOTAL\"]?numeral(counts[\"TOTAL\"]).format(\"0,0\"):0}\r\n                   </Typography>\r\n                </Paper>\r\n           </Grid>\r\n           <Grid item sm={4} xs={12}>\r\n                <Paper>\r\n                    <Grid container alignItems=\"center\">\r\n                        <PhoneAndroidIcon color=\"primary\" />\r\n                        <Typography variant=\"caption\">\r\n                            Android\r\n                        </Typography>\r\n                    </Grid>\r\n                   <Typography variant=\"h5\" style={{marginLeft:20}}>\r\n                      {counts[\"AAID\"]?numeral(counts[\"AAID\"]).format(\"0,0\"):0}\r\n                   </Typography>\r\n                </Paper>\r\n           </Grid>\r\n           <Grid item sm={4} xs={12}>\r\n                <Paper>\r\n                    <Grid container alignItems=\"center\">\r\n                        <PhoneIphoneIcon color=\"secondary\" />\r\n                        <Typography variant=\"caption\">\r\n                            iPhone\r\n                        </Typography>\r\n                    </Grid>\r\n                   <Typography variant=\"h5\" style={{marginLeft:20}}>\r\n                      {counts[\"IDFA\"]?numeral(counts[\"IDFA\"]).format(\"0,0\"):0}\r\n                   </Typography>\r\n                </Paper>\r\n           </Grid>\r\n       </Grid>\r\n    );\r\n}\r\nexport default Counts;","import React, { useState} from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport ToggleButton from '@mui/material/ToggleButton';\r\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\r\n\r\nfunction Charts() {\r\n    const [toggleValue, setToggleValue] = useState('platform');\r\n    return(\r\n       <Grid container justifyContent=\"center\">\r\n           <ToggleButtonGroup \r\n                value={toggleValue} exclusive\r\n                onChange={(e, newValue) => setToggleValue(newValue)} aria-label=\"chart button group\"\r\n            >\r\n                <ToggleButton value=\"platform\" aria-label=\"Platform\">\r\n                   Platform\r\n                </ToggleButton>\r\n                <ToggleButton value=\"device_model\" aria-label=\"Device Model\">\r\n                   Device Model\r\n                </ToggleButton>\r\n                <ToggleButton value=\"category_1\" aria-label=\"Category 1\">\r\n                   Category 1\r\n                </ToggleButton>\r\n                <ToggleButton value=\"category_2\" aria-label=\"Category 2\">\r\n                   Category 2\r\n                </ToggleButton>\r\n            </ToggleButtonGroup>\r\n       </Grid>\r\n    );\r\n}\r\nexport default Charts;","import React, { useState } from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nimport { DEFAULT_DATE } from \"./../../utils/settings.js\";\r\n\r\nimport Header from \"./Header.js\";\r\nimport Map from \"./Map.js\";\r\nimport TimeSlider from \"./TimeSlider.js\";\r\nimport Counts from \"./Counts.js\";\r\nimport Charts from \"./Charts.js\";\r\nimport { dateFormat, secondsFromDate } from '../../utils/util.js';\r\n\r\nconst useStyles = makeStyles({\r\n   root:{\r\n      display:'flex',\r\n      flexDirection:'column',\r\n      width:'100vw',\r\n      height:'100vh'\r\n   },\r\n   content:{\r\n      flex:1,\r\n      display:'flex',\r\n      flexDirection:'row',\r\n      backgroundColor:'#f1f6fa'\r\n   },\r\n   chartContainer:{\r\n     width:540,\r\n     padding:20\r\n   },\r\n   mapContainer:{\r\n      flex:1,\r\n      position:'relative'\r\n   }\r\n});\r\n\r\nfunction Main() {\r\n    const classes = useStyles();\r\n    \r\n    const [searchLocation, setSearchLocation] = useState(null);\r\n    const [address, setAddress] = useState(null);\r\n    const [selectedDate, setSelectedDate] = useState(DEFAULT_DATE);\r\n    const [timeRange, setTimeRange] = useState([\r\n       secondsFromDate(dateFormat(DEFAULT_DATE)),\r\n       secondsFromDate(dateFormat(DEFAULT_DATE))+86399\r\n    ]);\r\n    const [counts, setCounts] = useState([]);\r\n\r\n    return (\r\n       <div className={classes.root}>\r\n           <Header \r\n              setSearchLocation={setSearchLocation}\r\n              address={address}\r\n              setAddress={setAddress}\r\n              selectedDate={selectedDate}\r\n              setSelectedDate={setSelectedDate}\r\n           />\r\n           <div className={classes.content}>\r\n              <div className={classes.chartContainer}>\r\n                <Counts counts={counts} />\r\n                <Charts />  \r\n              </div>\r\n              <div className={classes.mapContainer}>\r\n                 <Map \r\n                    searchLocation={searchLocation}\r\n                    address={address}\r\n                    selectedDate={selectedDate}\r\n                    timeRange={timeRange}\r\n                    setCounts={setCounts}\r\n                 />\r\n                 <TimeSlider \r\n                    selectedDate={selectedDate}\r\n                    timeRange={timeRange}\r\n                    setTimeRange={setTimeRange}\r\n                 />\r\n               </div>\r\n           </div>\r\n       </div>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\nimport { createTheme, ThemeProvider, responsiveFontSizes } from '@mui/material/styles';\n\nimport Locations_Dashboard from \"./locations-dashboard/Main.js\";\n\nlet theme = createTheme({\n  components:{\n    MuiPaper:{\n      styleOverrides: {\n        root: {\n          padding:10,\n          boxShadow:'0px 24px 48px -4px #06192114'\n        },\n      },\n    },\n    MuiTextField:{\n      styleOverrides: {\n        root: {\n          paddingLeft:20,\n          paddingRight:20,\n          borderRadius:72,\n          backgroundColor:'#f1f6fa'\n        },\n      },\n    },\n    MuiOutlinedInput:{\n      styleOverrides: {\n        notchedOutline: {\n          border:0\n        },\n      },\n    },\n    MuiToggleButtonGroup:{\n      styleOverrides: {\n        root: {\n          borderRadius:50,\n          backgroundColor:'#e3ebf1'\n        },\n        grouped:{\n          '&:first-of-type':{\n            marginLeft:0,\n          },\n          '&:last-of-type':{\n            marginRight:0,\n          },\n          '&:not(:first-of-type)':{\n            borderTopLeftRadius:50,\n            borderBottomLeftRadius:50\n          },\n          '&:not(:last-of-type)':{\n            borderTopRightRadius:50,\n            borderBottomRightRadius:50\n          }\n        }\n      },\n    },\n    MuiToggleButton:{\n      styleOverrides: {\n        root: {\n          border:0,\n          borderRadius:50,\n          textTransform: 'none',\n          padding:'10px 20px',\n          marginLeft:10,\n          marginRight:10,\n          '&.Mui-selected':{\n            color:'#fff',\n            backgroundColor:'#ff844b'\n          }\n        }\n      }\n    },\n    MuiInputAdornment:{\n      styleOverrides: {\n        root:{\n          color:'#ff844b'\n        }\n      }\n    },\n    MuiIconButton:{\n      styleOverrides: {\n        root:{\n          color:'#ff844b'\n        }\n      }\n    },  \n  }\n});\n\ntheme = responsiveFontSizes(theme);\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n       <Locations_Dashboard />\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}