(this["webpackJsonprocations-dashboard-app"]=this["webpackJsonprocations-dashboard-app"]||[]).push([[0],{173:function(e,t,a){},248:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(51),c=a.n(o),i=(a(173),a(151)),s=a(325),l=a(329),O=a(8),u=a(319),d=a(57),j=a(322),C=a(326),b=a(318),p=a(317),g=a(307),f=a(316),L=a.p+"static/media/logo.3f900ba7.png",m=a(2),K=Object(u.a)({header:{padding:"10px 20px",backgroundColor:"white"},logo:{height:80},headerTitle:{flex:1}});var x=function(e){var t=K(),a=e.selectedDate,n=e.setSelectedDate;return Object(m.jsxs)(j.a,{container:!0,className:t.header,spacing:3,children:[Object(m.jsx)(j.a,{container:!0,item:!0,sm:4,justifyContent:"center",alignItems:"center",children:Object(m.jsx)("img",{src:L,className:t.logo})}),Object(m.jsx)(j.a,{container:!0,item:!0,sm:4,justifyContent:"center",alignItems:"center",children:Object(m.jsx)(C.a,{className:t.headerTitle,variant:"h4",align:"center",children:"Locations Dashboard"})}),Object(m.jsx)(j.a,{container:!0,item:!0,sm:4,justifyContent:"center",alignItems:"center",children:Object(m.jsx)(g.b,{dateAdapter:p.a,children:Object(m.jsx)(f.a,{label:"Locations Date",value:a,onChange:function(e){n(e)},renderInput:function(e){return Object(m.jsx)(b.a,Object(d.a)({},e))}})})})]})},h=a(66),q=a.n(h),A=a(96),v=a(41),y=(a(198),a(199),a(61)),w=a.n(y),I=a(152),D=a(68),M=a.n(D),R="pk.eyJ1IjoibGVld2FuZ2RldiIsImEiOiJja2tnbDU2c2gwMHNvMndsdDF1d2pxNTQ2In0.zKeo06DtCh6fLifrbCZCFA",B={longitude:-79.3966596,latitude:43.6565291,zoom:11},F=a(147),N=a.n(F),S=function(){var e=Object(A.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n="".concat("https://locations-dashboard.herokuapp.com","/api/clusters"),e.next=4,N.a.post(n,t).then((function(e){a=e.data})).catch((function(e){a={status:"failed",message:"No internet connection"}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();w.a.workerClass=a(247).default;var k=Object(u.a)({mapDiv:{"& .mapboxgl-ctrl-logo":{display:"none"}}}),T=null;var U=function(e){var t=k(),a=e.selectedDate,r=Object(n.useRef)(null),o=Object(n.useState)(B),c=Object(O.a)(o,2),i=c[0],s=c[1],l=Object(n.useState)({type:"FeatureCollection",features:[]}),u=Object(O.a)(l,2),j=u[0],C=u[1];Object(n.useEffect)((function(){var e=r.current.getMap();e.loadImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAyCAMAAAAKuilWAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAj1QTFRFAAAAOLC4/4qK/4qK/4qK/oqK/oqK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4/4qK/4qK/4qKOLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4OLC4VkSAhwAAAL90Uk5TAAAJgbcodv/CBxrn/muw8hhClgXS/VYBiNEOIOxmBLv5LlerCNxRnOAUNPeJAMz7N2y+F+93r+k/+I0SyplgMRMDAg0lT4DL9VT81XMhCRIUDgIRTrPPBgr0hAsaYrfd5+njzYI0AUR49tc1Oa/6/9RnBRBIgwqF/cokk9NJEL/+60MIvO48A60dTZwGuvA+WaTx4DYNaIspkx/70iiW6jfvjablLS/2fHDFC4zWfcZQ2/WKYdn87ZQbbJGomkgzCm4xAAAB9ElEQVR4nGNgIBkw4pVlYmZhxaubjZ2dgxOPAi5udnYeXjwK+NiBgF8Ap7wgOxgICeOQFxCBKBAVwy4vLsEOBZJSWBVIy8AU8Mhik5eTZ4cDBUUsCpR4EArYlcUx5FVUkeTZRdUwXKjOjgI0NNEUaGmjKmDX0UV1oR6aPLu+AYoCQ3R5dnYjZHcam2AqYDdFyAubYZFnN5eGK7CwxKaA3QrmTmsbMJ/b1s7ewdHJ2cXVzV0UJODhCZFndPMCBr+3j68TA6Off0BgEINucEgoyNCwcLCCiEhg4EdFMzDExMbFJyQmJaekpjE4pWsAVWSAFQRnsmdlMzDk5Oblw0BBYRFDsboou4gjWEVJqSZDWXlFPjKorGJwrK6phfujrr4hHxU0NjHoOsHlm1vyMUBrGyKg2jsw5fPzEzvhCrrysCnI726Hyvf0YpXP7+uHKpiA3YD8/Fyogok45PMnNUMUTMalIH8KWH4qehAgwDSwgiqc8vnTwQpm4FYwE6xgFm4F5ZBgmI1TwQSIL+bgVDAXomAeLvn50LBesBCHgkWwyFyMXX7JUlhsLluOVcEKeHQzrsQWmKtWI1IMwxpM+bUBSPIMResq0OTXdzKggLQNG5GlN22eyoAOerZs3QaV3r5jJ4Y0ON5Td+2euGfvin0xaVjlsQMAFN44ROMgIzgAAAAASUVORK5CYII=",(function(t,a){if(t)throw t;e.addImage("marker-icon",a)}))}),[]),Object(n.useEffect)((function(){r.current.getMap().on("moveend",b),b()}),[a]);var b=function(){var e=r.current.getMap();e.getZoom()<13?C({type:"FeatureCollection",features:[]}):(T&&clearTimeout(T),T=setTimeout(Object(A.a)(q.a.mark((function t(){var n;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S({dateString:a.toString(),zoom:e.getZoom(),bounds:e.getBounds().toArray().flat()});case 2:"success"===(n=t.sent).status?n.result&&n.result.features&&(n.result.features.forEach((function(e){var t=M()(e.properties.point_count).format("0.[0] a").toUpperCase();e.properties.point_count>=1e3&&(t+="+"),e.properties.point_count_abbreviated=t})),C(n.result)):C({type:"FeatureCollection",features:[]});case 4:case"end":return t.stop()}}),t)}))),500))};return Object(m.jsxs)(v.f,Object(d.a)(Object(d.a)({className:t.mapDiv},i),{},{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/light-v10",mapboxApiAccessToken:R,ref:r,attributionControl:!1,maxZoom:24,minZoom:13,onViewportChange:s,interactiveLayerIds:["cluster-layer","unclustered-point-layer"],onClick:function(e){if(e.features&&e.features.length>0){var t=e.features[0];"cluster-layer"===t.layer.id&&s(Object(d.a)(Object(d.a)({},i),{},{longitude:t.geometry.coordinates[0],latitude:t.geometry.coordinates[1],zoom:i.zoom+1,transitionDuration:500}))}},children:[Object(m.jsxs)(v.e,{id:"clusterSource",type:"geojson",data:j,children:[Object(m.jsx)(v.b,{id:"cluster-layer",type:"circle",source:"clusterSource",filter:[">","point_count",1],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,100,30,750,40]}}),Object(m.jsx)(v.b,{id:"cluster-count-layer",type:"symbol",source:"clusterSource",filter:[">","point_count",1],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}}),Object(m.jsx)(v.b,{id:"unclustered-point-layer",type:"symbol",source:"clusterSource",filter:["==","point_count",1],layout:{"icon-image":"marker-icon","icon-size":.6,"icon-rotate":["get","heading"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-rotation-alignment":"map","icon-pitch-alignment":"viewport"}})]}),Object(m.jsx)(I.a,{mapRef:r,onViewportChange:s,mapboxApiAccessToken:R,position:"top-left",placeholder:"Search your city",zoom:18}),Object(m.jsx)(v.c,{style:{bottom:10,left:10}}),Object(m.jsx)(v.d,{style:{bottom:10,right:10}})]}))},E=a(327),V=a(148),z=a.n(V),Z=a(149),J=a.n(Z),Y=a(150),P=a.n(Y);var Q=function(){return Object(m.jsxs)(j.a,{container:!0,spacing:2,flexDirection:"row",style:{marginBottom:50},children:[Object(m.jsx)(j.a,{item:!0,lg:4,md:6,xs:12,children:Object(m.jsxs)(E.a,{children:[Object(m.jsxs)(j.a,{container:!0,alignItems:"center",children:[Object(m.jsx)(z.a,{color:"primary"}),Object(m.jsx)(C.a,{variant:"caption",children:"Total Devices"})]}),Object(m.jsx)(C.a,{variant:"h4",align:"center",children:M()("1234").format("0,0")})]})}),Object(m.jsx)(j.a,{item:!0,lg:4,md:6,xs:12,children:Object(m.jsxs)(E.a,{children:[Object(m.jsxs)(j.a,{container:!0,alignItems:"center",children:[Object(m.jsx)(J.a,{color:"primary"}),Object(m.jsx)(C.a,{variant:"caption",children:"Android"})]}),Object(m.jsx)(C.a,{variant:"h4",align:"center",children:M()("1234").format("0,0")})]})}),Object(m.jsx)(j.a,{item:!0,lg:4,md:6,xs:12,children:Object(m.jsxs)(E.a,{children:[Object(m.jsxs)(j.a,{container:!0,alignItems:"center",children:[Object(m.jsx)(P.a,{color:"secondary"}),Object(m.jsx)(C.a,{variant:"caption",children:"iPhone"})]}),Object(m.jsx)(C.a,{variant:"h4",align:"center",children:M()("1234").format("0,0")})]})})]})},G=a(328),W=a(323);var _=function(){var e=Object(n.useState)("platform"),t=Object(O.a)(e,2),a=t[0],r=t[1];return Object(m.jsx)(j.a,{container:!0,justifyContent:"center",children:Object(m.jsxs)(W.a,{value:a,exclusive:!0,onChange:function(e,t){return r(t)},"aria-label":"general conditions button group",children:[Object(m.jsx)(G.a,{value:"platform","aria-label":"General Conditions",children:"Platform"}),Object(m.jsx)(G.a,{value:"device_model","aria-label":"Roof Slope",children:"Device Model"}),Object(m.jsx)(G.a,{value:"category_1","aria-label":"Roof Drainage",children:"Category 1"}),Object(m.jsx)(G.a,{value:"category_2","aria-label":"Wall Details",children:"Category 2"}),Object(m.jsx)(G.a,{value:"category_3","aria-label":"Roof Details",children:"Category 3"})]})})},H=Object(u.a)({root:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},content:{flex:1,display:"flex",flexDirection:"row",backgroundColor:"#f1f6fa"},leftContainer:{width:"40%",padding:20},mapContainer:{flex:1}});var X=function(){var e=H(),t=Object(n.useState)("2021-08-01"),a=Object(O.a)(t,2),r=a[0],o=a[1];return Object(m.jsxs)("div",{className:e.root,children:[Object(m.jsx)(x,{selectedDate:r,setSelectedDate:o}),Object(m.jsxs)("div",{className:e.content,children:[Object(m.jsxs)("div",{className:e.leftContainer,children:[Object(m.jsx)(Q,{}),Object(m.jsx)(_,{})]}),Object(m.jsx)("div",{className:e.mapContainer,children:Object(m.jsx)(U,{selectedDate:r})})]})]})},$=Object(i.a)({components:{MuiPaper:{styleOverrides:{root:{padding:16,boxShadow:"0px 24px 48px -4px #06192114"}}},MuiToggleButtonGroup:{styleOverrides:{root:{borderRadius:50,backgroundColor:"#e3ebf1"},grouped:{"&:first-of-type":{marginLeft:0},"&:last-of-type":{marginRight:0},"&:not(:first-of-type)":{borderTopLeftRadius:50,borderBottomLeftRadius:50},"&:not(:last-of-type)":{borderTopRightRadius:50,borderBottomRightRadius:50}}}},MuiToggleButton:{styleOverrides:{root:{border:0,borderRadius:50,textTransform:"none",padding:"10px 20px",marginLeft:10,marginRight:10,"&.Mui-selected":{color:"#fff",backgroundColor:"#ff844b"}}}}}});$=Object(s.a)($);var ee=function(){return Object(m.jsx)(l.a,{theme:$,children:Object(m.jsx)(X,{})})},te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,331)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(ee,{})}),document.getElementById("root")),te()}},[[248,1,2]]]);
//# sourceMappingURL=main.c7b4b35a.chunk.js.map